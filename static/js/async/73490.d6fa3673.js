(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["73490"],{97375(e){e.exports=function(e,t){var r=t.prototype,a=r.format;r.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return a.bind(this)(e);var s=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return s.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return s.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return s.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return a.bind(this)(i)}}},6279(e){e.exports=function(e,t,r){e=e||{};var a=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,r,s){return a.fromToBase(e,t,r,s)}r.en.relativeTime=s,a.fromToBase=function(t,a,i,n,l){for(var o,d,u,c=i.$locale().relativeTime||s,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,m=0;m<p;m+=1){var g=h[m];g.d&&(o=n?r(t).diff(i,g.d,!0):i.diff(t,g.d,!0));var f=(e.rounding||Math.round)(Math.abs(o));if(u=o>0,f<=g.r||!g.r){f<=1&&m>0&&(g=h[m-1]);var y=c[g.l];l&&(f=l(""+f)),d="string"==typeof y?y.replace("%d",f):y(f,a,g.l,u);break}}if(a)return d;var S=u?c.future:c.past;return"function"==typeof S?S(d):S.replace("%s",d)},a.to=function(e,t){return i(e,t,this,!0)},a.from=function(e,t){return i(e,t,this)};var n=function(e){return e.$u?r.utc():r()};a.toNow=function(e){return this.to(n(this),e)},a.fromNow=function(e){return this.from(n(this),e)}}},41657(e,t,r){"use strict";r.d(t,{g:()=>c});var a=r(74848),s=r(11678),i=r(9584);r(96540);var n=r(19874),l=r(29458),o=r(87574),d=r(12149),u=r(471);let c=e=>{let t=!e.isDebugging&&(0,a.jsx)(u.w,{handleEditorEval:e.handleEditorEval,isEntrypointFileDefined:e.isEntrypointFileDefined,color:e.isRunning?"#39FF14":void 0,className:e.isRunning?"WaitingCursor":void 0},"run"),r=e.isEditorAutorun&&(0,a.jsx)(l.A,{label:"Auto",icon:i.W.AUTOMATIC_UPDATES}),c=(0,o.i)(n.V),h=c&&e.isRunning&&(0,a.jsx)(l.A,{label:"Stop",icon:i.W.STOP,onClick:e.handleInterruptEval}),p=!e.pauseDisabled&&e.isRunning&&!e.isDebugging&&(0,a.jsx)(l.A,{label:"Pause",icon:i.W.STOP,onClick:e.handleDebuggerPause}),m=!e.isRunning&&e.isDebugging&&(0,a.jsx)(l.A,{label:"Resume",icon:i.W.CHEVRON_RIGHT,onClick:e.handleDebuggerResume}),g=t=>e.isDebugging&&(0,a.jsx)(l.A,{label:t,icon:i.W.STOP,onClick:e.handleDebuggerReset}),{isMobileBreakpoint:f}=(0,d.Qs)();return f?(0,a.jsxs)(a.Fragment,{children:[h,p,m,g("Stop")]}):(0,a.jsxs)(a.Fragment,{children:[!e.autorunDisabled&&(0,a.jsx)("div",{className:"Switch",children:(0,a.jsx)(s.dO,{label:"",checked:e.isEditorAutorun,onChange:e.handleToggleEditorAutorun})}),c?(0,a.jsxs)(a.Fragment,{children:[r||t,h]}):r||h||t,p,m,g("Stop Debugger")]})}},27270(e,t,r){"use strict";r.d(t,{A:()=>u});var a=r(74848),s=r(7496),i=r(2353),n=r(9584),l=r(96540),o=r(29458);class d extends l.PureComponent{audio;constructor(e){super(e),this.audio=l.createRef(),this.state={currentDeltaRevision:0,currentPlayerProgress:0,currentSourcecastItem:null,duration:0}}render(){let e=(0,a.jsx)(o.A,{label:"Play",icon:n.W.PLAY,onClick:this.handlePlayerPlaying,isDisabled:!this.props.duration}),t=(0,a.jsx)(o.A,{label:"Pause",icon:n.W.PAUSE,onClick:this.handlePlayerPausing});return(0,a.jsxs)("div",{className:"SourcecastControlBar",children:[(0,a.jsx)("audio",{src:this.props.audioUrl,ref:this.audio,onEnded:this.handlePlayerStopping,onLoadedMetadata:this.handleAudioLoaded,onSeeked:this.handleSeeked,onTimeUpdate:this.updatePlayerTime,preload:"metadata"}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"PlayerControl",children:[(0,a.jsxs)(s.e,{className:"PlayerControlButton",children:["paused"===this.props.playbackStatus&&e,"playing"===this.props.playbackStatus&&t]}),(0,a.jsx)("div",{className:"Slider",children:(0,a.jsx)(i.A,{min:0,max:1,stepSize:1e-4,onChange:this.handlePlayerProgressBarChange,value:this.state.currentPlayerProgress,labelRenderer:this.renderLabel})})]})]})}handleSeeked=()=>{this.stopPreviousPlaybackAndApplyFromStart(this.props.playbackData)};handleAudioLoaded=()=>{this.props.handleSetSourcecastDuration(this.audio.current.duration)};applyDeltas=e=>{this.props.handleSetCodeDeltasToApply(e)};stopPreviousPlaybackAndApplyFromStart=e=>{this.setState({currentDeltaRevision:this.state.currentDeltaRevision+1},()=>this.applyPlaybackDataFromStart(e))};applyPlaybackDataFromStart=async e=>{let t=e=>new Promise(t=>setTimeout(t,e)),r=this.state.currentDeltaRevision,a=1e3*this.audio.current.currentTime;this.props.handleEditorValueChange(e.init.editorValue),this.props.handleExternalSelect(e.init.externalLibrary),this.props.handleChapterSelect(e.init.chapter);let s=e.inputs.filter(e=>e.time<=a&&"codeDelta"===e.type).map(e=>e.data);this.applyDeltas(s);let i=e.inputs.filter(e=>e.time>a),n=i.length,l=0;for(;l<n&&this.state.currentDeltaRevision===r;){if(a=1e3*this.audio.current.currentTime,i[l].time<a){this.props.handleSetInputToApply(i[l]),l++;continue}await t(20)}};stopCurrentPlayback(){this.setState({currentDeltaRevision:this.state.currentDeltaRevision+1})}handlePlayerPausing=()=>{this.audio.current.pause(),this.props.handleSetIsEditorReadonly(!1),this.props.handleSetSourcecastStatus("paused"),this.stopCurrentPlayback()};handlePlayerPlaying=()=>{this.audio.current.play(),this.props.handleSetIsEditorReadonly(!0),this.props.handleSetSourcecastStatus("playing"),this.stopPreviousPlaybackAndApplyFromStart(this.props.playbackData),this.props.setSelectedTab&&this.props.setSelectedTab("mobile_editor")};handlePlayerStopping=()=>{this.props.handleSetIsEditorReadonly(!1),this.props.handleSetSourcecastStatus("paused"),this.props.handleSetCurrentPlayerTime(0),this.setState({currentPlayerProgress:0})};updatePlayerTime=e=>{let{currentTime:t}=e.target;this.props.handleSetCurrentPlayerTime(t),this.setState({currentPlayerProgress:t/this.props.duration}),"forcedPaused"===this.props.playbackStatus&&this.handlePlayerPausing()};handlePlayerProgressBarChange=e=>{if(this.audio.current){let t=this.props.duration*e;this.audio.current.currentTime=t,this.props.handleSetCurrentPlayerTime(t),this.setState({currentPlayerProgress:e})}};renderLabel=e=>{if(!this.props.duration)return"00:00";{let t=this.props.duration*e,r=Math.floor(t/60),a=Math.floor(t-60*r);return(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)}}}let u=d},3112(e,t,r){"use strict";r.d(t,{A:()=>A});var a=r(74848),s=r(64907),i=r(35505),n=r(19551),l=r(68464),o=r(5193),d=r(80346),u=r(66875),c=r(2543),h=r(96540),p=r(62317),m=r(45111),g=r(31643),f=r(5960),y=r(9584),S=r(40503),x=r(29458);let b=e=>{let{t}=(0,S.Bd)("translation",{keyPrefix:"sourceRecorder"}),[r,s]=(0,h.useState)(!1),i=()=>s(!1);return(0,a.jsxs)("div",{children:[(0,a.jsx)(x.A,{icon:y.W.TRASH,onClick:()=>s(!0)}),(0,a.jsxs)(m.l,{icon:"info-sign",isOpen:r,onClose:i,title:t("deleteTitle"),canOutsideClickClose:!0,children:[(0,a.jsx)(g.R,{children:(0,a.jsx)("p",{children:t("deleteConfirmation")})}),(0,a.jsx)(f.E,{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{label:t("confirmDelete"),icon:y.W.TRASH,onClick:()=>{let{data:t}=e;e.handleDeleteSourcecastEntry(t.id)}}),(0,a.jsx)(x.A,{label:t("cancel"),icon:y.W.CROSS,onClick:i})]})})]})]})};var P=r(92473);let D=({data:e,handleSetSourcecastData:t})=>(0,a.jsx)(P.m,{content:"Load Sourcecast Recording",children:(0,a.jsx)(x.A,{label:`${e.title}`,icon:y.W.PAPERCLIP,onClick:()=>{t(e.title,e.description,e.uid,e.url,JSON.parse(e.playbackData))}})});var v=r(96402),j=r(58049);let C=e=>{let t=(0,h.useRef)(null),[r]=(0,h.useState)(`${window.location.protocol}//${window.location.host}/courses/${e.courseId}/sourcecast/${e.data.uid}`),s=(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{defaultValue:r,readOnly:!0,ref:t}),(0,a.jsx)(P.m,{content:"Copy link to clipboard",children:(0,a.jsx)(j.A,{text:r,children:(0,a.jsx)(x.A,{icon:y.W.DUPLICATE,onClick:()=>{null!==t.current&&(t.current.focus(),t.current.select())}})})})]},r);return(0,a.jsx)(v.A,{popoverClassName:"Popover-share",inheritDarkTheme:!1,content:s,children:(0,a.jsx)(P.m,{content:"Get shareable link",children:(0,a.jsx)(x.A,{icon:y.W.SHARE})})})};class k extends h.Component{defaultColumnDefs;gridApi;constructor(e){super(e),this.state={columnDefs:[{headerName:"Title",field:"title",cellRenderer:D,cellRendererParams:{handleSetSourcecastData:this.props.handleSetSourcecastData},minWidth:200,suppressMovable:!0,suppressHeaderMenuButton:!0,cellStyle:{"text-align":"left"},hide:!this.props.handleSetSourcecastData},{headerName:"Title",field:"title",minWidth:100,suppressMovable:!0,suppressHeaderMenuButton:!0,hide:!!this.props.handleSetSourcecastData},{headerName:"Uploader",field:"uploader.name",minWidth:150,suppressMovable:!0,suppressHeaderMenuButton:!0,cellStyle:{"text-align":"center"}},{headerName:"Date",valueGetter:e=>(0,p.if)(e.data.inserted_at),minWidth:150,suppressMovable:!0,suppressHeaderMenuButton:!0},{headerName:"Share",field:"uid",cellRenderer:C,cellRendererParams:{courseId:this.props.courseId},minWidth:80,suppressMovable:!0,suppressHeaderMenuButton:!0},{headerName:"Delete",field:"",cellRenderer:b,cellRendererParams:{handleDeleteSourcecastEntry:this.props.handleDeleteSourcecastEntry},minWidth:100,maxWidth:100,sortable:!1,suppressMovable:!0,suppressHeaderMenuButton:!0,cellStyle:{"text-align":"center"},hide:!this.props.handleDeleteSourcecastEntry},{headerName:"description",field:"description",hide:!0},{headerName:"inserted_at",field:"inserted_at",hide:!0},{headerName:"updated_at",field:"updated_at",hide:!0},{headerName:"audio",field:"audio",hide:!0},{headerName:"playbackData",field:"playbackData",hide:!0},{headerName:"url",field:"url",hide:!0}],filterValue:"",groupFilterEnabled:!1},this.defaultColumnDefs={filter:!0,resizable:!0,sortable:!0}}render(){let e=(0,a.jsx)(s.I,{className:"Sourcecast",description:"Fetching sourcecast index...",icon:(0,a.jsx)(i.y,{size:i.H.LARGE})}),t=(0,c.sortBy)(this.props.sourcecastIndex,[e=>-e.id]),r=(0,a.jsxs)("div",{className:"SourcecastContainer",children:[(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:(0,a.jsx)(n.g,{label:"",labelFor:"text-input",children:(0,a.jsx)(l.M,{id:"searchBar",large:!1,leftIcon:"search",placeholder:"Search",value:this.state.filterValue,onChange:this.handleFilterChange})})}),(0,a.jsx)(o.c,{}),(0,a.jsx)("div",{className:"SourcecastTable",children:(0,a.jsx)("div",{className:"ag-grid-parent",children:(0,a.jsx)(u.W6,{theme:d.N8R,domLayout:"autoHeight",columnDefs:this.state.columnDefs,defaultColDef:this.defaultColumnDefs,onGridReady:this.onGridReady,rowData:t,rowHeight:30,pagination:!1,paginationPageSize:50})})}),(0,a.jsx)("br",{})]});return(0,a.jsx)("div",{children:void 0===this.props.sourcecastIndex?e:r})}handleFilterChange=e=>{let t=e.target.value;this.setState({filterValue:t}),this.gridApi&&this.gridApi.setGridOption("quickFilterText",t)};onGridReady=e=>{this.gridApi=e.api,this.gridApi.sizeColumnsToFit(),window.onresize=()=>this.gridApi.sizeColumnsToFit()}}let A=k},62317(e,t,r){"use strict";r.d(t,{G3:()=>d,Hw:()=>u,if:()=>h,jW:()=>c,sC:()=>p});var a=r(74353),s=r.n(a),i=r(97375),n=r.n(i),l=r(6279),o=r.n(l);s().extend(n()),s().extend(o());let d=e=>{let t=s()(e),r=s()();return t.isBefore(r)},u=e=>s()(e).format("Do MMMM, HH:mm"),c=e=>s()(e).format("MMMM Do YYYY, HH:mm"),h=e=>s()(e).format("MMMM Do YYYY"),p=(e,t)=>{let r=s()(e).add(t,"hours"),a=r.format("Do MMMM, HH:mm"),i=r.fromNow();return`${a} (${i})`}}}]);
//# sourceMappingURL=73490.d6fa3673.js.map