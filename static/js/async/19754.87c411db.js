"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["19754"],{72782(e,t,s){s.d(t,{A:()=>o});var n=s(74848),l=s(51851),i=s(7064),a=s(96540);let o=e=>((0,a.useEffect)(()=>{e.loadContentDispatch?.()},[]),(0,n.jsx)("div",{className:"ContentDisplay row center-xs",children:(0,n.jsx)("div",{className:`${e.fullWidth?"col-md-12":"col-md-10 col-xs-11"} contentdisplay-content-parent`,children:(0,n.jsx)(l.Z,{className:"contentdisplay-content",elevation:i.e.THREE,children:e.display})})}))},25649(e,t,s){s.r(t),s.d(t,{Component:()=>k,default:()=>W});var n=s(74848),l=s(64907),i=s(35505),a=s(96540),o=s(12149),r=s(72782);s(10705);var c=s(79642),d=s(27423),u=s(41344),m=s(28761),x=s(9584),j=s(33888),h=s(1530),p=s(281),g=s(85840);let f=({filter:e,onRemove:t})=>{let s=e.value;return s=s.charAt(0).toUpperCase()+s.slice(1),(0,n.jsx)("button",{type:"button",onClick:()=>t(e),style:{padding:0},children:(0,n.jsx)(d.Ex,{text:s,icon:()=>(0,n.jsx)(m.I,{icon:x.W.CROSS,style:{marginRight:"0.25rem"}}),color:(0,g.Qg)(s)})})},y=({filters:e,onFilterRemove:t})=>(0,n.jsx)(d.so,{justifyContent:"justify-start",spaceX:"space-x-1",children:e.map(e=>(0,n.jsx)(f,{filter:e,onRemove:t},e.id))});var C=s(94201),v=s(46807),b=s(63283);let I=({teamId:e})=>{let t=(0,C.wA)(),{courseId:s}=(0,o.wV)(),l=(0,a.useCallback)(async()=>{await (0,b.cu)({contents:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Delete this team?"}),(0,n.jsx)("p",{children:"Note: All submissions made by the team will be lost."})]}),positiveIntent:"danger",positiveLabel:"Delete Team"})&&t(v.A.deleteTeam(e))},[t,e]);return(0,n.jsxs)(d.so,{justifyContent:"justify-start",spaceX:"space-x-2",children:[(0,n.jsx)(u.N_,{to:`/courses/${s}/teamformation/edit/${e}`,children:(0,n.jsx)(d.In,{tooltip:"Edit",icon:()=>(0,n.jsx)(m.I,{icon:x.W.EDIT}),variant:"light"})}),(0,n.jsx)("button",{type:"button",style:{padding:0},onClick:l,children:(0,n.jsx)(d.In,{tooltip:"Delete",icon:()=>(0,n.jsx)(m.I,{icon:x.W.TRASH}),variant:"simple"})})]})},T=(0,j.FB)(),F=[T.accessor("assessmentName",{header:"Assessment",cell:e=>(0,n.jsx)(R,{column:e.column,value:e.getValue()})}),T.accessor("assessmentType",{header:"Type",cell:e=>(0,n.jsx)(R,{column:e.column,value:e.getValue(),children:(0,n.jsx)(g.mj,{type:e.getValue()})})}),T.accessor("studentNames",{header:"Students",cell:e=>e.getValue().map((t,s)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(R,{column:e.column,value:t,children:t}),", "]},s)),filterFn:(e,t,s)=>{let n=e.original[t];return"string"==typeof n||"number"==typeof n?n===s:n.some(e=>e===s)}}),T.accessor(({teamId:e})=>({teamId:e}),{header:"Actions",enableColumnFilter:!1,cell:e=>{let{teamId:t}=e.getValue();return(0,n.jsx)(I,{teamId:t})}})],R=({column:e,value:t,children:s})=>(0,n.jsx)("button",{type:"button",onClick:()=>{e.setFilterValue(t)},style:{padding:0},children:s||t}),w=({group:e,teams:t})=>{let s=[];e&&s.push({id:"groupName",value:e});let[l,i]=(0,a.useState)([...s]),[o,r]=(0,a.useState)(null),c=(0,h.N4)({data:t,columns:F,state:{columnFilters:l,globalFilter:o},onColumnFiltersChange:i,onGlobalFilterChange:r,globalFilterFn:(e,t,s)=>{for(let t of(0,p.uv)(e.original)){let n=e.original[t];if(Array.isArray(n)){for(let e of n)if("string"==typeof e&&e.includes(s))return!0}else if("string"==typeof n&&n.includes(s))return!0}return!1},getCoreRowModel:(0,j.HT)(),getFilteredRowModel:(0,j.hM)(),getPaginationRowModel:(0,j.kW)()});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.so,{marginTop:"mt-2",justifyContent:"justify-between",alignItems:"items-center",children:[(0,n.jsxs)(d.so,{alignItems:"items-center",spaceX:"space-x-2",children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",height:"1.75rem"},children:[(0,n.jsx)(m.I,{icon:x.W.FILTER_LIST}),(0,n.jsxs)(d.EY,{children:[l.length>0?"Filters: ":"No filters applied. Click on any cell to filter by its value."," "]})]}),(0,n.jsx)(y,{filters:l,onFilterRemove:({id:e,value:t})=>{i(l.filter(s=>s.id!==e&&s.value!==t))}})]}),(0,n.jsx)(d.ks,{maxWidth:"max-w-sm",icon:()=>(0,n.jsx)(m.I,{icon:x.W.SEARCH,style:{marginLeft:"0.75rem"}}),placeholder:"Search for any value here...",onChange:e=>r(e.target.value)})]}),(0,n.jsxs)(d.XI,{marginTop:"mt-2",children:[(0,n.jsx)(d.nd,{children:c.getHeaderGroups().map(e=>(0,n.jsx)(d.Hj,{children:e.headers.map(e=>(0,n.jsx)(d.M_,{children:e.isPlaceholder?null:(0,h.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,n.jsx)(d.BF,{children:c.getRowModel().rows.map(e=>(0,n.jsx)(d.Hj,{children:e.getVisibleCells().map(e=>(0,n.jsx)(d.nA,{children:(0,h.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(d.so,{justifyContent:"justify-center",spaceX:"space-x-3",children:[(0,n.jsx)(d.$n,{size:"xs",icon:()=>(0,n.jsx)(m.I,{icon:x.W.ARROW_LEFT}),variant:"light",onClick:()=>c.previousPage(),disabled:!c.getCanPreviousPage()}),(0,n.jsxs)(d.yN,{children:["Page ",c.getState().pagination.pageIndex+1," of ",c.getPageCount()]}),(0,n.jsx)(d.$n,{size:"xs",icon:()=>(0,n.jsx)(m.I,{icon:x.W.ARROW_RIGHT}),variant:"light",onClick:()=>c.nextPage(),disabled:!c.getCanNextPage()})]})})]})},A=({teams:e})=>{let{courseId:t,group:s}=(0,o.wV)(),l=(0,u.Zp)();return(0,n.jsxs)(d.Zp,{children:[(0,n.jsxs)(d.so,{justifyContent:"justify-between",children:[(0,n.jsx)(d.hE,{children:"Teams"}),(0,n.jsxs)(d.so,{justifyContent:"justify-end",spaceX:"space-x-2",children:[(0,n.jsx)(c.$,{onClick:()=>{l(`/courses/${t}/teamformation/create`)},children:"Create Team"}),(0,n.jsx)(c.$,{onClick:()=>{l(`/courses/${t}/teamformation/import`)},children:"Import Team"})]})]}),(0,n.jsx)(w,{group:s,teams:e})]})},N=()=>{let{teamFormationOverviews:e}=(0,o.wV)(),t=e?.map(e=>e.studentNames?e:{...e,studentName:"(user has yet to log in)"})??[],s=(0,n.jsx)(l.I,{className:"TeamFormation",description:"Fetching teams...",icon:(0,n.jsx)(i.y,{size:i.H.LARGE})});return(0,n.jsx)(r.A,{display:void 0===e?s:(0,n.jsx)(A,{teams:t}),fullWidth:!0})},k=N;k.displayName="TeamFormation";let W=N}}]);
//# sourceMappingURL=19754.87c411db.js.map