"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["9628"],{16916(e,a,t){t.d(a,{A:()=>o});var n=t(74848),s=t(96402),l=t(87497),r=t(39798),i=t(79642);let o=({options:e,selectedValue:a,onClick:t,buttonProps:o,popoverProps:d})=>{let c;return(0,n.jsx)(s.A,{...d,interactionKind:"click",content:(0,n.jsx)(l.W,{children:e.map(({value:e,label:a})=>(0,n.jsx)(r.D,{text:a,onClick:()=>{t?.(e)}},a))}),children:(0,n.jsx)(i.$,{...o,children:(c=e.find(({value:e})=>e===a),c?.label)})})}},44632(e,a,t){t.d(a,{i1:()=>s,qD:()=>l});var n=t(96540);let s={editorBinding:""},l=n.createContext(null)},48248(e,a,t){t.r(a),t.d(a,{Component:()=>eK,default:()=>ez});var n=t(74848),s=t(96540),l=t(94201),r=t(41344),i=t(46119),o=t(9132),d=t(57178),c=t(79642),h=t(99389),u=t(41537),p=t(53991),x=t(45132),m=t(12003),b=t(96402),f=t(54348),g=t(28761),v=t(58830),C=t(9584),j=t(46942),D=t.n(j),A=t(40503),N=t(58162),S=t(39798),y=t(87497),w=t(97609),E=t(29458),T=t(64907),k=t(35505),O=t(46807);t(51085);var I=t(91948),R=t(12149),L=t(6592),M=t(40249),P=t(42921);let W=e=>{let{item:a}=e,t=a.maxXp<=0&&0===a.xp,s=(0,n.jsxs)("div",{className:"xp-details","data-testid":"profile-xp-details",children:[(0,n.jsx)("div",{className:"title","data-testid":"profile-title",children:"XP"}),(0,n.jsxs)("div",{className:"value","data-testid":"profile-value",children:[a.xp," / ",a.maxXp]}),(0,n.jsx)(L.z,{animate:!1,className:"value-bar"+e.parseColour(e.getFrac(a.xp,a.maxXp)),stripes:!1,value:e.getFrac(a.xp,a.maxXp)})]});return(0,n.jsx)(r.k2,{className:"profile-summary-navlink",target:"_blank",to:`/courses/${e.courseId}/${(0,P.zS)(a.type)}/${a.id}/0`,"data-testid":"profile-summary-navlink",children:(0,n.jsx)(M.P,{className:"profile-summary-callout",icon:e.renderIcon(a.type),title:a.title,"data-testid":"profile-summary-callout",children:t?"":s},`${a.title}-${a.id}`)},`${a.title}-${a.id}`)},F=e=>{let a,{isLoggedIn:t,isEnrolledInACourse:r,name:i,role:o,assessmentOverviews:d,assessmentConfigurations:c,xp:h,courseId:p}=(0,R.wV)(),x=(0,l.wA)();(0,s.useEffect)(()=>{t&&r&&!d&&x(O.A.fetchAssessmentOverviews())},[d,x,t,r,h]),(0,s.useEffect)(()=>{r&&!h&&x(O.A.fetchTotalXp())},[r,x,h]);let[m,b]=(0,s.useState)(t&&r&&d);if((0,s.useEffect)(()=>{b(t&&r&&d)},[d,t,r]),m){let e=d.filter(e=>"submitted"===e.status).length,t=h||0,s=I.A.caFulfillmentLevel,l=1e3*s,r=(0,n.jsx)("div",{className:"profile-header",children:(0,n.jsxs)("div",{className:"profile-username",children:[(0,n.jsx)("div",{className:"name",children:i}),(0,n.jsx)("div",{className:"role",children:o})]})});if(0===e)a=(0,n.jsxs)("div",{className:"profile-content",children:[r,(0,n.jsx)("div",{className:"profile-placeholder","data-testid":"profile-placeholder",children:"There are no closed assessments to render grade and XP of."})]});else{let e=(e,a)=>a<=0||e/a>1?1:e/a,i=e=>e<0?"":e>=.8?" progress-steelblue":e>=.45?" progress-deepskyblue":" progress-skyblue",o=e=>{let a=[C.W.FLAME,C.W.LIGHTBULB,C.W.PREDICTIVE_ANALYSIS,C.W.COMPARISON,C.W.MANUAL];if(!c)return C.W.PULSE;{let t=c.findIndex(a=>a.type===e);return t>0?a[t]:C.W.PULSE}},h=d.filter(e=>e.isGradingPublished).map((a,t)=>(0,n.jsx)(W,{item:a,getFrac:e,parseColour:i,renderIcon:o,courseId:p},t));a=(0,n.jsxs)("div",{className:"profile-content",children:[r,(0,n.jsx)("div",{className:"profile-progress","data-testid":"profile-progress",children:(0,n.jsxs)("div",{className:"profile-xp",children:[(0,n.jsx)(k.y,{className:"profile-spinner"+i(e(t,l)),size:144,value:e(t,l),"data-testid":"profile-spinner"}),(0,n.jsx)("div",{className:"type","data-testid":"profile-type",children:"XP Progress"}),(0,n.jsxs)("div",{className:"total-value","data-testid":"profile-total-value",children:[t," / ",l,"*"]}),(0,n.jsxs)("div",{className:"percentage","data-testid":"profile-percentage",children:[(100*e(t,l)).toFixed(2),"%"]})]})}),(0,n.jsxs)("div",{className:"profile-xp-footer",children:["*",l,"XP needed to reach full CA level of ",s]}),(0,n.jsx)("div",{className:"profile-callouts","data-testid":"profile-callouts",children:h})]})}}else a=(0,n.jsx)(T.I,{description:"Loading...",icon:(0,n.jsx)(k.y,{})});return(0,n.jsx)(u._,{className:"profile",icon:C.W.USER,isCloseButtonShown:!0,isOpen:e.isOpen,onClose:e.onClose,title:"User Profile",position:"left",size:u.f.SMALL,children:a})};var B=t(45111),_=t(31643);let H=e=>(0,n.jsx)(B.l,{style:{textAlign:"justify"},icon:C.W.HELP,isCloseButtonShown:!0,isOpen:e.isOpen,onClose:e.onClose,title:"About",children:(0,n.jsxs)(_.R,{children:[(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("i",{children:"Source Academy"})," is a computer-mediated learning environment for studying the structure and interpretation of computer programs. Students write and run their programs in their web browser, using sublanguages of JavaScript called"," ",(0,n.jsx)("a",{href:"https://docs.sourceacademy.org/",children:"Source"}),", designed for the textbook"," ",(0,n.jsx)("a",{href:"https://sourceacademy.org/sicpjs/",children:"Structure and Interpretation of Computer Programs, JavaScript Edition"}),"."]}),(0,n.jsxs)("p",{children:["The Source Academy is available under the Apache License 2.0 at the GitHub organisation"," ",(0,n.jsx)("a",{href:"https://github.com/source-academy",children:"source-academy"}),". More information and resources are available at the ",(0,n.jsx)("a",{href:"https://about.sourceacademy.org",children:"about pages"})," of the Source Academy."]})]})});var $=t(12316),G=t(61499);let V=({isOpen:e,onClose:a,courses:t,courseId:s})=>{let l=(0,r.Zp)(),i=t.map(e=>({value:e.courseId,label:e.courseName.concat(e.viewable?"":" - disabled"),disabled:!e.viewable&&e.role!==G.Xh.Admin}));return(0,n.jsx)(B.l,{icon:C.W.PROPERTIES,isCloseButtonShown:!0,isOpen:e,onClose:a,title:"My Courses",children:(0,n.jsxs)(_.R,{children:[(0,n.jsx)("p",{children:"Select a course to switch to:"}),(0,n.jsx)($.g,{value:s,options:i,fill:!0,onChange:e=>{l(`/courses/${e.currentTarget.value}`),a()},disabled:t.length<=1})]})})};var U=t(35537),q=t(19551),X=t(68464),K=t(61517),z=t(11903),J=t(10720),Q=t(7866),Z=t(11678),Y=t(38786),ee=t(50988);t(49492);var ea=t(29890),et=t(37852);let en=e=>{let a,t=(0,l.wA)(),[r,i]=s.useState({courseName:"",courseShortName:"",viewable:!0,enableGame:!0,enableAchievements:!0,enableSourcecast:!0,enableStories:!1,enableLlmGrading:!1,sourceChapter:Y.Chapter.SOURCE_1,sourceVariant:Y.Variant.DEFAULT,moduleHelpText:"",llmApiKey:""}),[o,d]=s.useState("WRITE"),h=[{value:Y.Chapter.SOURCE_1},{value:Y.Chapter.SOURCE_2},{value:Y.Chapter.SOURCE_3},{value:Y.Chapter.SOURCE_4}],u=s.useCallback((e,a,t)=>{e!==a&&d(e)},[d]);return(0,n.jsx)(B.l,{className:"create-course",icon:C.W.ADD,isCloseButtonShown:!0,canOutsideClickClose:!1,isOpen:e.isOpen,onClose:e.onClose,title:"Create Course",children:(0,n.jsxs)(_.R,{children:[(0,n.jsx)(U.H6,{children:"Create your own Source Academy course and manage your own learners!"}),(0,n.jsx)("br",{}),(0,n.jsx)(q.g,{helperText:"Please enter the course name that will be used for course selection",label:"Course Name",labelInfo:"(* required)",labelFor:"courseName",children:(0,n.jsx)(X.M,{id:"courseName",value:r.courseName,onChange:e=>i({...r,courseName:e.target.value})})}),(0,n.jsx)(q.g,{helperText:"Usually the module code of the course. This will be displayed on the top left.",label:"Course Short Name",labelInfo:"(optional)",labelFor:"courseShortName",children:(0,n.jsx)(X.M,{id:"courseShortName",value:r.courseShortName,onChange:e=>i({...r,courseShortName:e.target.value})})}),(0,n.jsxs)(q.g,{helperText:"The module help text will be used in the course help dialog.",labelFor:"moduleHelpText",children:[(0,n.jsx)(K.E,{tagName:"span",children:"Module Help Text\xa0"}),(0,n.jsx)(K.E,{tagName:"span",className:"optional-text",children:"(optional)"}),(0,n.jsxs)(z.t,{selectedTabId:o,onChange:u,className:"module-help-text-tabs",children:[(0,n.jsx)(J.o,{id:"WRITE",title:"Write"}),(0,n.jsx)(J.o,{id:"PREVIEW",title:"Preview"})]}),"WRITE"===o&&(0,n.jsx)(Q.f,{id:"moduleHelpText",className:"input-textarea",fill:!0,value:r.moduleHelpText,onChange:e=>i({...r,moduleHelpText:e.target.value})}),"PREVIEW"===o&&(0,n.jsx)("div",{className:"input-markdown",children:(0,n.jsx)(ea.A,{content:r.moduleHelpText||"",openLinksInNewWindow:!0})})]}),(0,n.jsxs)("div",{className:"boolean-container",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.dO,{checked:r.viewable,inline:!0,label:"Viewable",onChange:e=>i({...r,viewable:e.target.checked})}),(0,n.jsx)(Z.dO,{checked:r.enableAchievements,inline:!0,label:"Enable Achievements",onChange:e=>i({...r,enableAchievements:e.target.checked})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.dO,{checked:r.enableGame,inline:!0,label:"Enable Game",onChange:e=>i({...r,enableGame:e.target.checked})}),(0,n.jsx)(Z.dO,{checked:r.enableSourcecast,inline:!0,label:"Enable Sourcecast",onChange:e=>i({...r,enableSourcecast:e.target.checked})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.dO,{checked:r.enableStories,inline:!0,label:"Enable Stories",onChange:e=>i({...r,enableStories:e.target.checked})}),(0,n.jsx)(Z.dO,{checked:r.enableLlmGrading,inline:!0,label:"Enable LLM Grading",onChange:e=>i({...r,enableLlmGrading:e.target.checked})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(q.g,{label:"Default Source Chapter",labelInfo:"(configurable later on)",labelFor:"source-chapter",children:(0,n.jsx)($.g,{id:"source-chapter",options:h,value:r.sourceChapter,onChange:e=>{i({...r,sourceChapter:parseInt(e.target.value)})},fill:!0})}),(0,n.jsx)(q.g,{label:"Default Source Variant",labelInfo:"(configurable later on)",labelFor:"source-variant",children:(0,n.jsx)($.g,{id:"source-variant",options:(a=r.sourceChapter,G.ph.filter(e=>e.chapter===a).map(e=>({label:e.variant.replace(/^\w/,e=>e.toUpperCase()),value:e.variant}))),value:r.sourceVariant,onChange:e=>{i({...r,sourceVariant:e.target.value})},fill:!0})}),(0,n.jsx)(q.g,{helperText:"API Key for LLM endpoint. This key will be encrypted and will not be retrievable on the frontend after.",label:"LLM API Key",labelInfo:"(optional)",labelFor:"llmApiKey",children:(0,n.jsx)(X.M,{id:"llmApiKey",type:"password",value:r.llmApiKey,onChange:e=>i({...r,llmApiKey:e.target.value})})})]}),(0,n.jsx)("div",{className:"create-course-button-container",children:(0,n.jsx)(c.$,{text:"Create Course",onClick:()=>{""===r.courseName?(0,et.JB)("Course Name cannot be empty!"):(t(ee.A.createCourse(r)),e.onClose())}})})]})})},es=e=>{let a=(0,R.N4)(e=>e.session.moduleHelpText);return(0,n.jsx)(B.l,{style:{textAlign:"justify"},icon:C.W.ERROR,isCloseButtonShown:!0,isOpen:e.isOpen,onClose:e.onClose,title:"Help",children:(0,n.jsx)(_.R,{children:a?(0,n.jsx)(ea.A,{content:a,openLinksInNewWindow:!0}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["We recommend recent updates of the browsers ",(0,n.jsx)("b",{children:"Google Chrome"}),","," ",(0,n.jsx)("b",{children:"Microsoft Edge"}),", or ",(0,n.jsx)("b",{children:"Mozilla Firefox"})," to visit the Source Academy."]}),(0,n.jsxs)("p",{children:["If you encounter issues with the Source Academy using these browsers, please use the issue system of the"," ",(0,n.jsx)("a",{href:"https://github.com/source-academy/frontend/issues",children:"Source Academy frontend repository on GitHub"}),"."]})]})})})};var el=t(92473),er=t(68178),ei=t(44632),eo=t(56695),ed=t(4271);let ec=Object.keys(ed.ES).map(e=>({label:ed.ES[e]?.name,value:e})),eh=()=>{let[e,a]=(0,s.useState)(eo.A.language);return(0,n.jsxs)(q.g,{label:"Language: ",labelFor:"language-binding",inline:!0,children:[(0,n.jsx)($.g,{id:"language-binding",options:ec,value:e,onChange:e=>{let t=e.target.value;a(t),eo.A.changeLanguage(t)}}),(0,n.jsx)(el.m,{position:er.$.TOP,className:"form-field-help-text",content:"Choose your language.",children:(0,n.jsx)(g.I,{icon:C.W.Help})})]})},eu=[{label:"None",value:""},{label:"Vim",value:"vim"},{label:"Emacs",value:"emacs"}],ep=({isOpen:e,onClose:a})=>{let[t,l]=(0,s.useContext)(ei.qD),i=(0,r.Zp)();return(0,n.jsx)(B.l,{className:"settings",icon:C.W.COG,isCloseButtonShown:!0,isOpen:e,onClose:a,title:"Settings",children:(0,n.jsxs)(_.R,{children:[(0,n.jsxs)(q.g,{label:"Editor Binding: ",labelFor:"editor-binding",inline:!0,children:[(0,n.jsx)($.g,{id:"editor-binding",options:eu,value:t.editorBinding,onChange:e=>{l({...t,editorBinding:e.target.value})}}),(0,n.jsx)(el.m,{position:er.$.TOP,className:"form-field-help-text",content:"Optional editor bindings for advanced users. Set to 'None' for default text editor behaviour.",children:(0,n.jsx)(g.I,{icon:C.W.Help})})]}),(0,n.jsx)(eh,{}),(0,n.jsx)(c.$,{onClick:()=>{i("/features"),a()},icon:C.W.FLAG,children:"Feature Flags"})]})})},ex=()=>{let[e,a]=(0,s.useState)(!1),[t,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!1),{t:m}=(0,A.Bd)("commons",{keyPrefix:"dropdown"}),{isLoggedIn:g,name:v,courses:j,courseId:D}=(0,R.wV)(),N=(0,l.wA)(),T=()=>{a(e=>!e)},k=()=>{r(e=>!e)},O=()=>o(e=>!e),I=()=>c(e=>!e),L=()=>u(e=>!e),M=()=>x(e=>!e),P=g&&null!=D?(0,n.jsx)(S.D,{icon:C.W.USER,onClick:I,text:v.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}):null,W=g?(0,n.jsx)(S.D,{icon:C.W.PROPERTIES,onClick:L,text:m("My Courses")}):null,B=g?(0,n.jsx)(S.D,{icon:C.W.ADD,onClick:M,text:m("Create Course")}):null,_=g?(0,n.jsx)(S.D,{icon:C.W.LOG_OUT,text:m("Logout"),onClick:()=>N((0,w.je)())}):null,$=(0,n.jsxs)(y.W,{children:[P,W,B,(0,n.jsx)(S.D,{icon:C.W.COG,onClick:T,text:m("Settings")}),(0,n.jsx)(S.D,{icon:C.W.HELP,onClick:k,text:m("About")}),(0,n.jsx)(S.D,{icon:C.W.ERROR,onClick:O,text:m("Help")}),_]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.A,{content:$,inheritDarkTheme:!1,placement:f.yX.BOTTOM,children:(0,n.jsx)(E.A,{icon:C.W.CARET_DOWN})}),(0,n.jsx)(ep,{isOpen:e,onClose:T}),(0,n.jsx)(H,{isOpen:t,onClose:k}),(0,n.jsx)(es,{isOpen:i,onClose:O}),g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V,{isOpen:h,onClose:L,courses:j,courseId:D}),(0,n.jsx)(en,{isOpen:p,onClose:M}),(0,n.jsx)(F,{isOpen:d,onClose:I})]}):null]})};var em=t(2480),eb=t(59240);let ef=[C.W.FLAME,C.W.LIGHTBULB,C.W.PREDICTIVE_ANALYSIS,C.W.COMPARISON,C.W.MANUAL,C.W.GRAPH,C.W.FORM,C.W.LAB_TEST,C.W.CALCULATOR],eg=({assessmentTypes:e=[],courseId:a,isEnrolledInACourse:t})=>e.map((e,n)=>({to:`/courses/${a}/${(0,P.zS)(e)}`,icon:ef[n],text:e,disabled:!t,hasNotifications:!0,hiddenInBreakpoints:["xs","sm"]})),ev=({isEnrolledInACourse:e,courseId:a,role:t})=>[...(({courseId:e,role:a})=>{let t=a===G.Xh.Admin||a===G.Xh.Staff,n=a===G.Xh.Admin;return[{to:`/courses/${e}/groundcontrol`,icon:C.W.SATELLITE,text:"Ground Control",disabled:!n,hiddenInBreakpoints:["xs","sm"]},{to:`/courses/${e}/dashboard`,icon:C.W.GLOBE,text:"Dashboard",disabled:!t,hiddenInBreakpoints:["xs","sm"]},{to:`/courses/${e}/sourcereel`,icon:C.W.MOBILE_VIDEO,text:"Sourcereel",disabled:!t,hiddenInBreakpoints:["xs","sm","md"]},{to:`/courses/${e}/teamformation`,icon:C.W.FORM,text:"Team Formation",disabled:!t,hiddenInBreakpoints:["xs","sm","md"]},{to:`/courses/${e}/grading`,icon:C.W.ENDORSED,text:"Grading",disabled:!t,hasNotifications:!0,hiddenInBreakpoints:["xs","sm","md"]},{to:`/courses/${e}/gamesimulator`,icon:C.W.CROWN,text:"Game Simulator",disabled:!t,hiddenInBreakpoints:["xs","sm","md"]},{to:`/courses/${e}/adminpanel`,icon:C.W.SETTINGS,text:"Admin Panel",disabled:!n,hiddenInBreakpoints:["xs","sm","md","lg"]}]})({courseId:a,role:t})],eC=({assessmentTypes:e})=>{let{role:a,courseId:t}=(0,R.wV)(),l=!!a,r=(0,s.useMemo)(()=>eg({assessmentTypes:e,courseId:t,isEnrolledInACourse:l}),[e,t,l]),i=(0,s.useMemo)(()=>ev({isEnrolledInACourse:l,courseId:t,role:a}),[l,t,a]);return void 0!==t&&l?(0,n.jsxs)(m.F,{className:"NavigationBar secondary-navbar",children:[(0,n.jsx)(o.y,{align:d.C.LEFT,children:r.map((e,a)=>(0,n.jsx)(eG,{...e},a))}),(0,n.jsx)(o.y,{align:d.C.RIGHT,children:i.map((e,a)=>(0,n.jsx)(eG,{...e},a))})]}):null};var ej=t(87574),eD=t(16916),eA=t(19874),eN=t(6670),eS=t(35905),ey=t(6428);let ew=()=>{let[e,a]=(0,s.useState)(!1),t=(0,R.N4)(e=>e.playground.languageConfig.mainLanguage),r=(0,l.wA)(),i={JavaScript:G.ph["0"],Python:G.hM["0"],Scheme:G.L5["0"],Java:G.eo["0"],C:G.h_["0"]};return(0,n.jsx)(eD.A,{options:G.Fc.map(e=>({value:e,label:e})),onClick:e=>{let{chapter:t,variant:n}=i[e];r((0,ey.yO)((0,G.lr)(t,n))),r(eS.A.chapterSelect(t,n,"playground")),a(!1)},selectedValue:t,popoverProps:{position:f.yX.BOTTOM_RIGHT,onClose:()=>a(!1),isOpen:e},buttonProps:{rightIcon:"caret-down",onClick:()=>a(!0),"data-testid":"NavigationBarLangSelectButton"}})},eE=()=>{let[e,a]=(0,s.useState)(!1),t=(0,R.N4)(e=>e.languageDirectory.selectedLanguageId),r=(0,l.wA)(),i=(0,R.N4)(e=>e.languageDirectory.languages).map(e=>({value:e.id,label:e.name}));return(0,ej.i)(eA.V)?(0,n.jsx)(eD.A,{options:i,onClick:e=>{r(eN.A.setSelectedLanguage(e)),a(!1)},selectedValue:t??void 0,popoverProps:{position:f.yX.BOTTOM_RIGHT,onClose:()=>a(!1),isOpen:e},buttonProps:{rightIcon:"caret-down",onClick:()=>a(!0),"data-testid":"NavigationBarLangSelectButton"}}):(0,n.jsx)(ew,{})};var eT=t(55741),ek=t(74213),eO=t(49111),eI=t(28675),eR=t(86186),eL=t(98830);class eM extends s.PureComponent{static displayName=`${ek.l}.Omnibar`;static ofType(){return eM}render(){let{isOpen:e,inputProps:a,overlayProps:t,...s}=this.props,l="initialContent"in this.props?this.props.initialContent:null;return(0,n.jsx)(eL.r,{...s,menuProps:{role:"menu"},initialContent:l,renderer:this.renderQueryList})}renderQueryList=e=>{let{inputProps:a={},isOpen:t,overlayProps:s={}}=this.props,{handleKeyDown:l,handleKeyUp:r}=e;return(0,n.jsx)(eO.v,{hasBackdrop:!0,...s,isOpen:t,className:D()(eR.y5,s.className),onClose:this.handleOverlayClose,children:(0,n.jsxs)("div",{className:D()(eR.Xl,e.className),...t?{onKeyDown:l,onKeyUp:r}:{},children:[(0,n.jsx)(X.M,{autoFocus:!0,leftIcon:(0,n.jsx)(eI.v,{}),placeholder:"Search...",size:"large",...a,onChange:e.handleQueryChange,value:e.query}),e.itemList]})})};handleOverlayClose=e=>{this.props.overlayProps?.onClose?.(e),this.props.onClose?.(e)}}var eP=t(7978),eW=t(55075);let eF=({handleOpenToc:e})=>(0,n.jsx)(E.A,{label:"Table of Contents",onClick:e});var eB=t(79399);let e_=()=>{let[e,a]=s.useState(!1),{section:t}=(0,r.g)(),l=(0,r.Zp)(),i=(0,eW.l)(t),h=(0,eW.E)(t),x=()=>a(!1),b=e=>{l("/sicpjs/"+e)},v=(0,n.jsx)(eF,{handleOpenToc:()=>a(!0)},"toc"),j=i&&(0,n.jsx)("div",{children:(0,n.jsx)(E.A,{label:"Previous",icon:C.W.ARROW_LEFT,onClick:()=>b(i)})},"prev"),D=h&&(0,n.jsx)("div",{children:(0,n.jsx)(E.A,{label:"Next",icon:C.W.ARROW_RIGHT,onClick:()=>b(h),options:{iconOnRight:!0}})},"next"),A={onClose:x,autoFocus:!0,canEscapeKeyClose:!0,canOutsideClickClose:!0,enforceFocus:!0,hasBackdrop:!0,isOpen:e,position:f.yX.LEFT,usePortal:!1};function N(e,a){let t=[...e],n=a;for(let e=0;e<t.length;e++){if(void 0===n||void 0===n.children||!n.children[t[e]])return[];n=n.children[t[e]]}return n.value}function w(e){return N(e.split(" ").reduce((e,a)=>e.length>a.length?e:a,""),R.textTrie).filter(a=>R.idToContentMap[a].toLowerCase().replaceAll("\n"," ").includes(e))}function T(e,a,t=25){let n=a;for(let a=0;a<e.length;a++){if(!n.children[e[a]])return[];n=n.children[e[a]]}let s=[],l=[n];for(;l.length>0&&s.length<t;){let e=l.shift();if(e&&e.value.length>0&&s.push(e.key),e&&e.children)for(let a of Object.values(e.children))l.push(a)}return s}function k(e,a=25){let t=e[0].toLowerCase()+e.slice(1),n=e[0].toUpperCase()+e.slice(1),s=T(t,R.indexTrie,a),l=T(n,R.indexTrie,a);for(;s.length<a&&l.length>0;){let e=l.shift();if(void 0===e){console.log("when searching, got undefined toPush");continue}s.push(e)}return s}function O(e,a=25){let t=e.split(" ");if(0===t.length)return[];if(1===t.length)return T(t[0],R.textTrie,a);let n=w(t.slice(0,-1).join(" ")).map(e=>R.idToContentMap[e].toLowerCase()),s=[];for(;s.length<a&&n.length>0;){let a=n.shift();if(void 0===a)continue;let t=(a=a.replaceAll("\n"," ")).indexOf(e)+e.length;if(t>=e.length){let n=a.slice(t),l=n.search(/[^a-zA-Z _]/);-1===l&&(l=n.length);let r=e+n.slice(0,l);s.includes(r.trim())||s.push(r.trim())}}return s}let R=s.useMemo(()=>{let e=new XMLHttpRequest,a=I.A.sicpBackendUrl+"json/rewritedSearchData.json";if(e.open("GET",a,!1),e.send(),200===e.status)return JSON.parse(e.responseText);throw alert("Unable to get rewrited search data. Error code = "+e.status+" url is "+a),Error("Unable to get search data. Error code = "+e.status+" url is "+a)},[]),[L,M]=s.useState(!1),[P,W]=s.useState("text"),[F,B]=s.useState(null),[_,H]=s.useState(""),[$,G]=s.useState([]),V=(0,n.jsx)(E.A,{label:"Text Search",icon:C.W.SEARCH,onClick:()=>{W("text"),M(!0),H(""),G([])}}),U=(0,n.jsx)(E.A,{label:"Index Search",icon:C.W.SEARCH,onClick:()=>{W("index"),M(!0),H(""),G([])}}),q=(0,n.jsxs)("div",{style:{width:"100%",display:"flex",gap:2,justifyContent:"center"},children:[V,U]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eM,{className:"sicp-search-bar",isOpen:L,inputProps:{disabled:"submenu"===P,placeholder:`${P.charAt(0).toUpperCase()}${P.slice(1)} Search...`},overlayProps:{className:p.OVERLAY_SCROLL_CONTAINER},onClose:()=>M(!1),items:$,onItemSelect:()=>{},query:_,onQueryChange:e=>{if(H(e),0===e.length)return void G([]);switch(P){case"text":G(O(e));break;case"index":G(k(e))}},itemListRenderer:({itemsParentRef:e,renderItem:a,items:t})=>(0,n.jsxs)(y.W,{ulRef:e,children:["submenu"===P&&(0,n.jsxs)(K.E,{className:p.TEXT_MUTED,style:{padding:6},children:["Showing results for ",(0,n.jsx)("strong",{children:_}),"â€¦"," ",(0,n.jsxs)(c.$,{small:!0,intent:"primary",minimal:!0,style:{padding:0,minHeight:0,verticalAlign:"baseline"},onClick:()=>{switch(W(F),B(null),F){case"text":G(O(_));break;case"index":G(k(_))}},children:["back to ",F," search"]})]}),t.map(a)]}),itemRenderer:e=>{switch(P){case"text":case"index":return(0,n.jsx)(S.D,{text:e,onClick:()=>(e=>{switch(H(e),B(P),W("submenu"),P){case"text":G(w(e));break;case"index":G(N(e,R.indexTrie).filter(e=>e.id).sort((e,a)=>e.hasSubindex&&!a.hasSubindex?1:!e.hasSubindex&&a.hasSubindex?-1:e.order.localeCompare(a.order)))}})(e),labelElement:(0,n.jsx)(g.I,{icon:C.W.CARET_RIGHT})});case"submenu":switch(F){case"text":let a;return(0,n.jsx)(S.D,{multiline:!0,text:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eT.v,{minimal:!0,children:["Section ",-1===(a=e.indexOf("#"))?e:e.slice(0,a)]}),(0,n.jsx)("br",{}),((e,a)=>{let t=(e=e.replaceAll("\n"," ").toLowerCase()).indexOf(a),s=t;for(;s>0&&!e[s-1].match(/[^a-zA-Z, _]/);)s--;let l=t+a.length;for(;l<e.length&&!e[l].match(/[^a-zA-Z _,]/);)l++;let r=e.slice(s,l);return s>0&&(r="..."+r),l<e.length&&(r+="..."),r=r.trim(),(0,n.jsxs)(n.Fragment,{children:[r.slice(0,r.indexOf(a)),(0,n.jsx)("mark",{children:(0,n.jsx)("strong",{children:r.slice(r.indexOf(a),r.indexOf(a)+a.length)})}),r.slice(r.indexOf(a)+a.length)]})})(R.idToContentMap[e],_)]}),onClick:()=>{b(e),M(!1)}});case"index":return(0,n.jsx)(S.D,{text:(0,n.jsx)(eP.A,{children:e.text.replaceAll("LATEX: ","")}),onClick:()=>{b(e.id),M(!1)}})}}}}),(0,n.jsxs)(m.F,{className:"SicpNavigationBar secondary-navbar",children:[(0,n.jsx)(o.y,{align:d.C.LEFT,children:v}),(0,n.jsx)(o.y,{align:d.C.RIGHT,children:[j,D]}),(0,n.jsx)(o.y,{align:d.C.CENTER,children:q})]}),(0,n.jsx)(u._,{...A,className:"sicp-toc-drawer",children:(0,n.jsx)(eB.A,{handleCloseToc:x})})]})},eH=({navlinks:e})=>{let[a,t]=(0,s.useState)(!1),l=e.filter(e=>!e.disabled),i=l.length>0,{courseShortName:x,courseId:m}=(0,R.wV)();return(0,n.jsxs)(o.y,{align:d.C.LEFT,children:[i&&(0,n.jsx)(c.$,{onClick:()=>t(!a),icon:C.W.MENU,large:!0,minimal:!0}),(0,n.jsx)(r.k2,{className:"NavigationBar__link",to:I.A.playgroundOnly?"/":null==m?"/welcome":`/courses/${m}`,children:(0,n.jsx)(h.r,{children:(0,n.jsx)(c.$,{className:"app-title",minimal:!0,icon:C.W.SYMBOL_DIAMOND,children:x||I.A.sourceAcademyDeploymentName})})}),i&&(0,n.jsx)(u._,{isOpen:a,position:"left",onClose:()=>t(!1),title:"",className:p.DARK,style:{overflowY:"auto"},children:l.map((e,a)=>(0,n.jsx)(eV,{...e,handleClick:()=>t(!1)},a))})]})},e$=[{to:"/playground",icon:C.W.CODE,text:"Playground"},{to:"/sicpjs",icon:C.W.BOOK,text:"SICP JS"}],eG=e=>{let a=(0,R.Qs)(),t=e.hiddenInBreakpoints?.some(e=>a[e]);return e.disabled?null:(0,n.jsxs)(r.k2,{className:({isActive:e})=>D()(e&&p.ACTIVE),to:e.to,title:e.text,children:[(0,n.jsx)(c.$,{minimal:!0,icon:e.icon,children:!t&&(0,n.jsx)(A.wD,{ns:"commons",keyPrefix:"navigationBar",children:a=>a(e.text,{defaultValue:e.text})})}),e.hasNotifications&&(0,n.jsx)(em.A,{notificationFilter:(0,eb.SA)(e.text),disableHover:!0})]},e.text)},eV=e=>e.disabled?null:(0,n.jsxs)(r.k2,{to:e.to,className:({isActive:e})=>D()(e&&p.ACTIVE),onClick:e.handleClick,children:[(0,n.jsx)(c.$,{minimal:!0,large:!0,icon:e.icon,children:(0,n.jsx)(A.wD,{ns:"commons",keyPrefix:"navigationBar",children:a=>a(e.text,{defaultValue:e.text})})}),e.hasNotifications&&(0,n.jsx)(em.A,{notificationFilter:(0,eb.SA)(e.text),disableHover:!0})]},e.text),eU=()=>{let e,a,t,l,{isMobileBreakpoint:i}=(0,R.Qs)(),u=(0,r.zy)(),{isLoggedIn:j,isEnrolledInACourse:A,role:S,courseId:y,courseShortName:w,enableAchievements:E,enableOverallLeaderboard:T,enableContestLeaderboard:k,enableSourcecast:O,enableStories:L,assessmentConfigurations:M}=(0,R.wV)(),P=(0,s.useMemo)(()=>M?.map(e=>e.type),[M]);x.$.onlyShowFocusOnTabs();let W=(0,s.useMemo)(()=>eg({assessmentTypes:P,courseId:y,isEnrolledInACourse:A}),[P,y,A]),F=(0,s.useMemo)(()=>[{to:`/courses/${y}/sourcecast`,icon:C.W.MUSIC,text:"Sourcecast",disabled:!(A&&O)},{to:"/playground",icon:C.W.CODE,text:"Playground",disabled:!A},{to:"/sicpjs",icon:C.W.BOOK,text:"SICP JS",disabled:!j},{to:`/courses/${y}/achievements`,icon:C.W.MOUNTAIN,text:"Achievements",disabled:!(A&&E)},{to:`/courses/${y}/stories`,icon:C.W.GIT_REPO,text:"Stories",disabled:!(A&&L)},{to:`/courses/${y}/leaderboard`,icon:C.W.TIMELINE_BAR_CHART,text:"Leaderboard",disabled:!(A&&(k||T))}],[y,A,O,L,j,E,k,T]),B=(0,s.useMemo)(()=>ev({isEnrolledInACourse:A,courseId:y,role:S}),[A,y,S]),_=(0,s.useMemo)(()=>[...W,...F,...B],[W,F,B]),H=(0,n.jsxs)(o.y,{align:d.C.RIGHT,children:[(0,n.jsx)(eE,{}),(0,n.jsx)(r.k2,{className:({isActive:e})=>D()("NavigationBar__link",p.BUTTON,p.MINIMAL,{[p.ACTIVE]:e}),to:"/contributors",children:(0,n.jsx)(g.I,{icon:C.W.HEART})}),(0,n.jsx)("div",{className:"visible-xs",children:(0,n.jsx)(v.c,{className:"thin-divider"})}),(0,n.jsx)("div",{className:"hidden-xs",children:(0,n.jsx)(v.c,{className:"default-divider"})}),(0,n.jsx)(ex,{})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.F,{className:D()("NavigationBar","primary-navbar","primary-navbar-e6yDiK",p.DARK),children:[I.A.playgroundOnly?i?(0,n.jsx)(eH,{navlinks:e$}):(0,n.jsx)(o.y,{align:d.C.LEFT,children:e$.map((e,a)=>(0,n.jsx)(eG,{...e},a))}):i?(0,n.jsx)(eH,{navlinks:_}):(e=eg({assessmentTypes:P,courseId:y,isEnrolledInACourse:A}),a=(0,n.jsx)(m.F,{children:(0,n.jsx)(o.y,{children:e.map((e,a)=>(0,n.jsx)(eG,{...e},a))})}),t=["/playground","/sicpjs","/contributors",`/courses/${y}/sourcecast`,`/courses/${y}/achievements`,`/courses/${y}/leaderboard`],l=null!=y&&!!t.find(e=>u.pathname.startsWith(e)),(0,n.jsxs)(o.y,{align:d.C.LEFT,children:[(0,n.jsx)(b.A,{position:f.yX.BOTTOM_RIGHT,interactionKind:"hover",content:a,popoverClassName:"desktop-navbar-popover",disabled:!l,children:(0,n.jsx)(r.k2,{className:"NavigationBar__link",to:null==y?"/welcome":`/courses/${y}`,children:(0,n.jsx)(h.r,{children:(0,n.jsx)(c.$,{className:"app-title",minimal:!0,icon:C.W.SYMBOL_DIAMOND,active:!t.find(e=>u.pathname.startsWith(e)),children:w||I.A.sourceAcademyDeploymentName})})})}),F.map((e,a)=>(0,n.jsx)(eG,{...e},a))]})),H]}),(0,n.jsxs)(N.uE,{children:[(0,n.jsx)(r.qh,{path:"/playground/*",element:null}),(0,n.jsx)(r.qh,{path:"/contributors",element:null}),(0,n.jsx)(r.qh,{path:"/courses/:courseId/sourcecast",element:null}),(0,n.jsx)(r.qh,{path:"/courses/:courseId/achievements",element:null}),(0,n.jsx)(r.qh,{path:"/courses/:courseId/leaderboard/*",element:null}),(0,n.jsx)(r.qh,{path:"/sicpjs/:section?",element:(0,n.jsx)(e_,{})}),(0,n.jsx)(r.qh,{path:"*",element:I.A.playgroundOnly||!A||i?null:(0,n.jsx)(eC,{assessmentTypes:P})})]})]})};var eq=t(71251);let eX=()=>{let e=(0,l.wA)(),{isLoggedIn:a}=(0,R.wV)(),t=/iPhone|iPad|Android/.test(navigator.userAgent),o=window.matchMedia("(display-mode: standalone)").matches,d=s.useRef({height:0,width:0}),[c,h]=(0,R.Vc)(I.A.workspaceSettingsLocalStorageKey,ei.i1);return s.useEffect(()=>{a&&e(O.A.fetchUserAndCourse())},[]),s.useEffect(()=>{let e=()=>{window.innerHeight<d.current.height&&window.innerWidth===d.current.width||document.documentElement.style.setProperty("--application-height",window.innerHeight+"px"),d.current={height:window.innerHeight,width:window.innerWidth}};return!o&&t&&(e(),window.addEventListener("resize",e)),()=>{!o&&t&&window.removeEventListener("resize",e)}},[o,t]),s.useEffect(()=>{window.confirm||(window.confirm=e=>(console.log(`Confirmation automatically accepted: ${e??"No text provided"}`),!0));let a=i.Ay.ExtensionPing(window.origin);(0,i.h0)(a),window.addEventListener("message",a=>{let t=a.data;if(a.origin.startsWith("vscode-webview://"))switch(t.type){case i.M9.ExtensionPong:if(console.log("Received WebviewStarted message, will set vsc"),e(eq.A.setVscode()),t.token){let a=JSON.parse(t.token.trim());console.log(`FRONTEND: WebviewStarted: ${a}`),e(O.A.setTokens({accessToken:a.accessToken,refreshToken:a.refreshToken})),e(O.A.fetchUserAndCourse())}break;case i.M9.Text:{let{workspaceLocation:a,code:n}=t;console.log(`FRONTEND: TextMessage: ${n}`),e(eS.A.updateEditorValue(a,0,n));break}case i.M9.EvalEditor:e(eS.A.evalEditor(t.workspaceLocation));break;case i.M9.Navigate:window.location.pathname=t.route;break;case i.M9.McqQuestion:e(eS.A.showMcqPane(t.workspaceLocation,t.options));break;case i.M9.McqAnswer:console.log(`FRONTEND: MCQAnswerMessage: ${t}`),e(O.A.submitAnswer(t.questionId,t.choice));break;case i.M9.AssessmentAnswer:e(O.A.submitAnswer(t.questionId,t.answer));break;case i.M9.SetEditorBreakpoints:e(eS.A.setEditorBreakpoint(t.workspaceLocation,0,t.newBreakpoints))}})},[]),(0,n.jsx)(ei.qD.Provider,{value:[c,h],children:(0,n.jsxs)("div",{className:"Application",children:[(0,n.jsx)(eU,{}),(0,n.jsx)("div",{className:"Application__main",children:(0,n.jsx)(r.sv,{})})]})})},eK=eX;eK.displayName="Application";let ez=eX},87574(e,a,t){t.d(a,{i:()=>s});var n=t(12149);function s(e){let{flagName:a,defaultValue:t}=e;return(0,n.N4)(e=>e.featureFlags.modifiedFlags[a])??t}},2480(e,a,t){t.d(a,{A:()=>p});var n=t(74848),s=t(55741),l=t(31365),r=t(96402),i=t(80667),o=t(54348);t(96540);var d=t(94201),c=t(46807),h=t(12149),u=t(59240);let p=e=>{let a=(0,d.wA)(),{notifications:t}=(0,h.wV)(),p=e.notificationFilter?e.notificationFilter(t):t;if(!p.length)return null;let x=(0,n.jsx)(s.v,{intent:l.J.DANGER,round:!0,large:e.large,"data-testid":"NotificationBadge",children:p.length});if(!e.disableHover){let t=(0,n.jsx)("div",{className:"col",children:p.map(e=>(0,n.jsx)(s.v,{className:"row badge-tag",minimal:!0,multiline:!0,onRemove:()=>a(c.A.acknowledgeNotifications((0,u.V8)(e.id))),children:(e=>{switch(e){case"new":return"This assessment is new.";case"submitted":return"This submission is new.";case"unsubmitted":return"This assessment has been unsubmitted.";case"published_grading":return"This submission's grading has been published.";case"unpublished_grading":return"This submission's grading has been unpublished.";case"new_message":return"There are new messages.";default:return"Unknown notification"}})(e.type)},`${e.id}`))});return(0,n.jsx)(r.A,{className:e.className,content:t,interactionKind:i.E.HOVER,placement:o.yX.RIGHT,hoverOpenDelay:50,hoverCloseDelay:50,lazy:!0,children:x})}return x}},59240(e,a,t){function n(e){return a=>a.filter(a=>!a.submission_id&&a.assessment_id===e)}function s(e){return a=>a.filter(a=>"Grading"===e?void 0!==a.submission_id:!a.submission_id&&e===a.assessment_type)}function l(e){return a=>a.filter(a=>a.id===e)}t.d(a,{SA:()=>s,V8:()=>l,iL:()=>n})},55075(e,a,t){t.d(a,{E:()=>s,l:()=>l});var n=JSON.parse('{"1":{"next":"1.1","prev":"acknowledgements"},"2":{"next":"2.1","prev":"1.3.4"},"3":{"next":"3.1","prev":"2.5.3"},"4":{"next":"4.1","prev":"3.5.5"},"5":{"next":"5.1","prev":"4.4.4"},"foreword02":{"next":"foreword84","prev":"index"},"foreword84":{"next":"prefaces03","prev":"foreword02"},"prefaces03":{"next":"prefaces96","prev":"foreword84"},"prefaces96":{"next":"acknowledgements","prev":"prefaces03"},"acknowledgements":{"next":"1","prev":"prefaces96"},"1.1":{"next":"1.1.1","prev":"1"},"1.1.1":{"next":"1.1.2","prev":"1.1"},"1.1.2":{"next":"1.1.3","prev":"1.1.1"},"1.1.3":{"next":"1.1.4","prev":"1.1.2"},"1.1.4":{"next":"1.1.5","prev":"1.1.3"},"1.1.5":{"next":"1.1.6","prev":"1.1.4"},"1.1.6":{"next":"1.1.7","prev":"1.1.5"},"1.1.7":{"next":"1.1.8","prev":"1.1.6"},"1.1.8":{"next":"1.2","prev":"1.1.7"},"1.2":{"next":"1.2.1","prev":"1.1.8"},"1.2.1":{"next":"1.2.2","prev":"1.2"},"1.2.2":{"next":"1.2.3","prev":"1.2.1"},"1.2.3":{"next":"1.2.4","prev":"1.2.2"},"1.2.4":{"next":"1.2.5","prev":"1.2.3"},"1.2.5":{"next":"1.2.6","prev":"1.2.4"},"1.2.6":{"next":"1.3","prev":"1.2.5"},"1.3":{"next":"1.3.1","prev":"1.2.6"},"1.3.1":{"next":"1.3.2","prev":"1.3"},"1.3.2":{"next":"1.3.3","prev":"1.3.1"},"1.3.3":{"next":"1.3.4","prev":"1.3.2"},"1.3.4":{"next":"2","prev":"1.3.3"},"2.1":{"next":"2.1.1","prev":"2"},"2.1.1":{"next":"2.1.2","prev":"2.1"},"2.1.2":{"next":"2.1.3","prev":"2.1.1"},"2.1.3":{"next":"2.1.4","prev":"2.1.2"},"2.1.4":{"next":"2.2","prev":"2.1.3"},"2.2":{"next":"2.2.1","prev":"2.1.4"},"2.2.1":{"next":"2.2.2","prev":"2.2"},"2.2.2":{"next":"2.2.3","prev":"2.2.1"},"2.2.3":{"next":"2.2.4","prev":"2.2.2"},"2.2.4":{"next":"2.3","prev":"2.2.3"},"2.3":{"next":"2.3.1","prev":"2.2.4"},"2.3.1":{"next":"2.3.2","prev":"2.3"},"2.3.2":{"next":"2.3.3","prev":"2.3.1"},"2.3.3":{"next":"2.3.4","prev":"2.3.2"},"2.3.4":{"next":"2.4","prev":"2.3.3"},"2.4":{"next":"2.4.1","prev":"2.3.4"},"2.4.1":{"next":"2.4.2","prev":"2.4"},"2.4.2":{"next":"2.4.3","prev":"2.4.1"},"2.4.3":{"next":"2.5","prev":"2.4.2"},"2.5":{"next":"2.5.1","prev":"2.4.3"},"2.5.1":{"next":"2.5.2","prev":"2.5"},"2.5.2":{"next":"2.5.3","prev":"2.5.1"},"2.5.3":{"next":"3","prev":"2.5.2"},"3.1":{"next":"3.1.1","prev":"3"},"3.1.1":{"next":"3.1.2","prev":"3.1"},"3.1.2":{"next":"3.1.3","prev":"3.1.1"},"3.1.3":{"next":"3.2","prev":"3.1.2"},"3.2":{"next":"3.2.1","prev":"3.1.3"},"3.2.1":{"next":"3.2.2","prev":"3.2"},"3.2.2":{"next":"3.2.3","prev":"3.2.1"},"3.2.3":{"next":"3.2.4","prev":"3.2.2"},"3.2.4":{"next":"3.3","prev":"3.2.3"},"3.3":{"next":"3.3.1","prev":"3.2.4"},"3.3.1":{"next":"3.3.2","prev":"3.3"},"3.3.2":{"next":"3.3.3","prev":"3.3.1"},"3.3.3":{"next":"3.3.4","prev":"3.3.2"},"3.3.4":{"next":"3.3.5","prev":"3.3.3"},"3.3.5":{"next":"3.4","prev":"3.3.4"},"3.4":{"next":"3.4.1","prev":"3.3.5"},"3.4.1":{"next":"3.4.2","prev":"3.4"},"3.4.2":{"next":"3.5","prev":"3.4.1"},"3.5":{"next":"3.5.1","prev":"3.4.2"},"3.5.1":{"next":"3.5.2","prev":"3.5"},"3.5.2":{"next":"3.5.3","prev":"3.5.1"},"3.5.3":{"next":"3.5.4","prev":"3.5.2"},"3.5.4":{"next":"3.5.5","prev":"3.5.3"},"3.5.5":{"next":"4","prev":"3.5.4"},"4.1":{"next":"4.1.1","prev":"4"},"4.1.1":{"next":"4.1.2","prev":"4.1"},"4.1.2":{"next":"4.1.3","prev":"4.1.1"},"4.1.3":{"next":"4.1.4","prev":"4.1.2"},"4.1.4":{"next":"4.1.5","prev":"4.1.3"},"4.1.5":{"next":"4.1.6","prev":"4.1.4"},"4.1.6":{"next":"4.1.7","prev":"4.1.5"},"4.1.7":{"next":"4.2","prev":"4.1.6"},"4.2":{"next":"4.2.1","prev":"4.1.7"},"4.2.1":{"next":"4.2.2","prev":"4.2"},"4.2.2":{"next":"4.2.3","prev":"4.2.1"},"4.2.3":{"next":"4.3","prev":"4.2.2"},"4.3":{"next":"4.3.1","prev":"4.2.3"},"4.3.1":{"next":"4.3.2","prev":"4.3"},"4.3.2":{"next":"4.3.3","prev":"4.3.1"},"4.3.3":{"next":"4.4","prev":"4.3.2"},"4.4":{"next":"4.4.1","prev":"4.3.3"},"4.4.1":{"next":"4.4.2","prev":"4.4"},"4.4.2":{"next":"4.4.3","prev":"4.4.1"},"4.4.3":{"next":"4.4.4","prev":"4.4.2"},"4.4.4":{"next":"5","prev":"4.4.3"},"5.1":{"next":"5.1.1","prev":"5"},"5.1.1":{"next":"5.1.2","prev":"5.1"},"5.1.2":{"next":"5.1.3","prev":"5.1.1"},"5.1.3":{"next":"5.1.4","prev":"5.1.2"},"5.1.4":{"next":"5.1.5","prev":"5.1.3"},"5.1.5":{"next":"5.2","prev":"5.1.4"},"5.2":{"next":"5.2.1","prev":"5.1.5"},"5.2.1":{"next":"5.2.2","prev":"5.2"},"5.2.2":{"next":"5.2.3","prev":"5.2.1"},"5.2.3":{"next":"5.2.4","prev":"5.2.2"},"5.2.4":{"next":"5.3","prev":"5.2.3"},"5.3":{"next":"5.3.1","prev":"5.2.4"},"5.3.1":{"next":"5.3.2","prev":"5.3"},"5.3.2":{"next":"5.4","prev":"5.3.1"},"5.4":{"next":"5.4.1","prev":"5.3.2"},"5.4.1":{"next":"5.4.2","prev":"5.4"},"5.4.2":{"next":"5.4.3","prev":"5.4.1"},"5.4.3":{"next":"5.4.4","prev":"5.4.2"},"5.4.4":{"next":"5.5","prev":"5.4.3"},"5.5":{"next":"5.5.1","prev":"5.4.4"},"5.5.1":{"next":"5.5.2","prev":"5.5"},"5.5.2":{"next":"5.5.3","prev":"5.5.1"},"5.5.3":{"next":"5.5.4","prev":"5.5.2"},"5.5.4":{"next":"5.5.5","prev":"5.5.3"},"5.5.5":{"next":"5.5.6","prev":"5.5.4"},"5.5.6":{"next":"5.5.7","prev":"5.5.5"},"5.5.7":{"next":"references","prev":"5.5.6"},"references":{"next":"making-of","prev":"5.5.7"},"making-of":{"prev":"references"},"index":{"next":"foreword02"}}');let s=e=>{let a=n[e];return a&&a.next},l=e=>{let a=n[e];return a&&a.prev}},79399(e,a,t){t.d(a,{A:()=>d});var n=t(74848),s=t(62047),l=t(2543),r=t(96540),i=t(41344),o=JSON.parse('[{"id":0,"hasCaret":false,"label":"Foreword","nodeData":"foreword02"},{"id":1,"hasCaret":false,"label":"Foreword to Structure and Interpretation of Computer Programs, 1984","nodeData":"foreword84"},{"id":2,"hasCaret":false,"label":"Preface","nodeData":"prefaces03"},{"id":3,"hasCaret":false,"label":"Prefaces to Structure and Interpretation of Computer Programs, 1996 & 1984","nodeData":"prefaces96"},{"id":4,"hasCaret":false,"label":"Acknowledgments","nodeData":"acknowledgements"},{"id":6,"hasCaret":true,"label":"1 Building Abstractions with Functions","nodeData":"1","childNodes":[{"id":7,"hasCaret":true,"label":"1.1 The Elements of Programming","nodeData":"1.1","childNodes":[{"id":8,"hasCaret":false,"label":"1.1.1 Expressions","nodeData":"1.1.1"},{"id":9,"hasCaret":false,"label":"1.1.2 Naming and the Environment","nodeData":"1.1.2"},{"id":10,"hasCaret":false,"label":"1.1.3 Evaluating Operator Combinations","nodeData":"1.1.3"},{"id":11,"hasCaret":false,"label":"1.1.4 Compound Functions","nodeData":"1.1.4"},{"id":12,"hasCaret":false,"label":"1.1.5 The Substitution Model for Function Application","nodeData":"1.1.5"},{"id":13,"hasCaret":false,"label":"1.1.6 Conditional Expressions and Predicates","nodeData":"1.1.6"},{"id":14,"hasCaret":false,"label":"1.1.7 Example: Square Roots by Newton\'s Method","nodeData":"1.1.7"},{"id":15,"hasCaret":false,"label":"1.1.8 Functions as Black-Box Abstractions","nodeData":"1.1.8"}]},{"id":16,"hasCaret":true,"label":"1.2 Functions and the Processes They Generate","nodeData":"1.2","childNodes":[{"id":17,"hasCaret":false,"label":"1.2.1 Linear Recursion and Iteration","nodeData":"1.2.1"},{"id":18,"hasCaret":false,"label":"1.2.2 Tree Recursion","nodeData":"1.2.2"},{"id":19,"hasCaret":false,"label":"1.2.3 Orders of Growth","nodeData":"1.2.3"},{"id":20,"hasCaret":false,"label":"1.2.4 Exponentiation","nodeData":"1.2.4"},{"id":21,"hasCaret":false,"label":"1.2.5 Greatest Common Divisors","nodeData":"1.2.5"},{"id":22,"hasCaret":false,"label":"1.2.6 Example: Testing for Primality","nodeData":"1.2.6"}]},{"id":23,"hasCaret":true,"label":"1.3 Formulating Abstractions with Higher-Order Functions","nodeData":"1.3","childNodes":[{"id":24,"hasCaret":false,"label":"1.3.1 Functions as Arguments","nodeData":"1.3.1"},{"id":25,"hasCaret":false,"label":"1.3.2 Constructing Functions using Lambda Expressions","nodeData":"1.3.2"},{"id":26,"hasCaret":false,"label":"1.3.3 Functions as General Methods","nodeData":"1.3.3"},{"id":27,"hasCaret":false,"label":"1.3.4 Functions as Returned Values","nodeData":"1.3.4"}]}]},{"id":28,"hasCaret":true,"label":"2 Building Abstractions with Data","nodeData":"2","childNodes":[{"id":29,"hasCaret":true,"label":"2.1 Introduction to Data Abstraction","nodeData":"2.1","childNodes":[{"id":30,"hasCaret":false,"label":"2.1.1 Example: Arithmetic Operations for Rational Numbers","nodeData":"2.1.1"},{"id":31,"hasCaret":false,"label":"2.1.2 Abstraction Barriers","nodeData":"2.1.2"},{"id":32,"hasCaret":false,"label":"2.1.3 What Is Meant by Data?","nodeData":"2.1.3"},{"id":33,"hasCaret":false,"label":"2.1.4 Extended Exercise: Interval Arithmetic","nodeData":"2.1.4"}]},{"id":34,"hasCaret":true,"label":"2.2 Hierarchical Data and the Closure Property","nodeData":"2.2","childNodes":[{"id":35,"hasCaret":false,"label":"2.2.1 Representing Sequences","nodeData":"2.2.1"},{"id":36,"hasCaret":false,"label":"2.2.2 Hierarchical Structures","nodeData":"2.2.2"},{"id":37,"hasCaret":false,"label":"2.2.3 Sequences as Conventional Interfaces","nodeData":"2.2.3"},{"id":38,"hasCaret":false,"label":"2.2.4 Example: A Picture Language","nodeData":"2.2.4"}]},{"id":39,"hasCaret":true,"label":"2.3 Symbolic Data","nodeData":"2.3","childNodes":[{"id":40,"hasCaret":false,"label":"2.3.1 Strings","nodeData":"2.3.1"},{"id":41,"hasCaret":false,"label":"2.3.2 Example: Symbolic Differentiation","nodeData":"2.3.2"},{"id":42,"hasCaret":false,"label":"2.3.3 Example: Representing Sets","nodeData":"2.3.3"},{"id":43,"hasCaret":false,"label":"2.3.4 Example: Huffman Encoding Trees","nodeData":"2.3.4"}]},{"id":44,"hasCaret":true,"label":"2.4 Multiple Representations for Abstract Data","nodeData":"2.4","childNodes":[{"id":45,"hasCaret":false,"label":"2.4.1 Representations for Complex Numbers","nodeData":"2.4.1"},{"id":46,"hasCaret":false,"label":"2.4.2 Tagged data","nodeData":"2.4.2"},{"id":47,"hasCaret":false,"label":"2.4.3 Data-Directed Programming and Additivity","nodeData":"2.4.3"}]},{"id":48,"hasCaret":true,"label":"2.5 Systems with Generic Operations","nodeData":"2.5","childNodes":[{"id":49,"hasCaret":false,"label":"2.5.1 Generic Arithmetic Operations","nodeData":"2.5.1"},{"id":50,"hasCaret":false,"label":"2.5.2 Combining Data of Different Types","nodeData":"2.5.2"},{"id":51,"hasCaret":false,"label":"2.5.3 Example: Symbolic Algebra","nodeData":"2.5.3"}]}]},{"id":52,"hasCaret":true,"label":"3 Modularity, Objects, and State","nodeData":"3","childNodes":[{"id":53,"hasCaret":true,"label":"3.1 Assignment and Local State","nodeData":"3.1","childNodes":[{"id":54,"hasCaret":false,"label":"3.1.1 Local State Variables","nodeData":"3.1.1"},{"id":55,"hasCaret":false,"label":"3.1.2 The Benefits of Introducing Assignment","nodeData":"3.1.2"},{"id":56,"hasCaret":false,"label":"3.1.3 The Costs of Introducing Assignment","nodeData":"3.1.3"}]},{"id":57,"hasCaret":true,"label":"3.2 The Environment Model of Evaluation","nodeData":"3.2","childNodes":[{"id":58,"hasCaret":false,"label":"3.2.1 The Rules for Evaluation","nodeData":"3.2.1"},{"id":59,"hasCaret":false,"label":"3.2.2 Applying Simple Functions","nodeData":"3.2.2"},{"id":60,"hasCaret":false,"label":"3.2.3 Frames as the Repository of Local State","nodeData":"3.2.3"},{"id":61,"hasCaret":false,"label":"3.2.4 Internal Declarations","nodeData":"3.2.4"}]},{"id":62,"hasCaret":true,"label":"3.3 Modeling with Mutable Data","nodeData":"3.3","childNodes":[{"id":63,"hasCaret":false,"label":"3.3.1 Mutable List Structure","nodeData":"3.3.1"},{"id":64,"hasCaret":false,"label":"3.3.2 Representing Queues","nodeData":"3.3.2"},{"id":65,"hasCaret":false,"label":"3.3.3 Representing Tables","nodeData":"3.3.3"},{"id":66,"hasCaret":false,"label":"3.3.4 A Simulator for Digital Circuits","nodeData":"3.3.4"},{"id":67,"hasCaret":false,"label":"3.3.5 Propagation of Constraints","nodeData":"3.3.5"}]},{"id":68,"hasCaret":true,"label":"3.4 Concurrency: Time Is of the Essence","nodeData":"3.4","childNodes":[{"id":69,"hasCaret":false,"label":"3.4.1 The Nature of Time in Concurrent Systems","nodeData":"3.4.1"},{"id":70,"hasCaret":false,"label":"3.4.2 Mechanisms for Controlling Concurrency","nodeData":"3.4.2"}]},{"id":71,"hasCaret":true,"label":"3.5 Streams","nodeData":"3.5","childNodes":[{"id":72,"hasCaret":false,"label":"3.5.1 Streams Are Delayed Lists","nodeData":"3.5.1"},{"id":73,"hasCaret":false,"label":"3.5.2 Infinite Streams","nodeData":"3.5.2"},{"id":74,"hasCaret":false,"label":"3.5.3 Exploiting the Stream Paradigm","nodeData":"3.5.3"},{"id":75,"hasCaret":false,"label":"3.5.4 Streams and Delayed Evaluation","nodeData":"3.5.4"},{"id":76,"hasCaret":false,"label":"3.5.5 Modularity of Functional Programs and Modularity of Objects","nodeData":"3.5.5"}]}]},{"id":77,"hasCaret":true,"label":"4 Metalinguistic Abstraction","nodeData":"4","childNodes":[{"id":78,"hasCaret":true,"label":"4.1 The Metacircular Evaluator","nodeData":"4.1","childNodes":[{"id":79,"hasCaret":false,"label":"4.1.1 The Core of the Evaluator","nodeData":"4.1.1"},{"id":80,"hasCaret":false,"label":"4.1.2 Representing Components","nodeData":"4.1.2"},{"id":81,"hasCaret":false,"label":"4.1.3 Evaluator Data Structures","nodeData":"4.1.3"},{"id":82,"hasCaret":false,"label":"4.1.4 Running the Evaluator as a Program","nodeData":"4.1.4"},{"id":83,"hasCaret":false,"label":"4.1.5 Data as Programs","nodeData":"4.1.5"},{"id":84,"hasCaret":false,"label":"4.1.6 Internal Declarations","nodeData":"4.1.6"},{"id":85,"hasCaret":false,"label":"4.1.7 Separating Syntactic Analysis from Execution","nodeData":"4.1.7"}]},{"id":86,"hasCaret":true,"label":"4.2 Lazy Evaluation","nodeData":"4.2","childNodes":[{"id":87,"hasCaret":false,"label":"4.2.1 Normal Order and Applicative Order","nodeData":"4.2.1"},{"id":88,"hasCaret":false,"label":"4.2.2 An Interpreter with Lazy Evaluation","nodeData":"4.2.2"},{"id":89,"hasCaret":false,"label":"4.2.3 Streams as Lazy Lists","nodeData":"4.2.3"}]},{"id":90,"hasCaret":true,"label":"4.3 Nondeterministic Computing","nodeData":"4.3","childNodes":[{"id":91,"hasCaret":false,"label":"4.3.1 Search and amb","nodeData":"4.3.1"},{"id":92,"hasCaret":false,"label":"4.3.2 Examples of Nondeterministic Programs","nodeData":"4.3.2"},{"id":93,"hasCaret":false,"label":"4.3.3 Implementing the amb Evaluator","nodeData":"4.3.3"}]},{"id":94,"hasCaret":true,"label":"4.4 Logic Programming","nodeData":"4.4","childNodes":[{"id":95,"hasCaret":false,"label":"4.4.1 Deductive Information Retrieval","nodeData":"4.4.1"},{"id":96,"hasCaret":false,"label":"4.4.2 How the Query System Works","nodeData":"4.4.2"},{"id":97,"hasCaret":false,"label":"4.4.3 Is Logic Programming Mathematical Logic?","nodeData":"4.4.3"},{"id":98,"hasCaret":false,"label":"4.4.4 Implementing the Query System","nodeData":"4.4.4"}]}]},{"id":99,"hasCaret":true,"label":"5 Computing with Register Machines","nodeData":"5","childNodes":[{"id":100,"hasCaret":true,"label":"5.1 Designing Register Machines","nodeData":"5.1","childNodes":[{"id":101,"hasCaret":false,"label":"5.1.1 A Language for Describing Register Machines","nodeData":"5.1.1"},{"id":102,"hasCaret":false,"label":"5.1.2 Abstraction in Machine Design","nodeData":"5.1.2"},{"id":103,"hasCaret":false,"label":"5.1.3 Subroutines","nodeData":"5.1.3"},{"id":104,"hasCaret":false,"label":"5.1.4 Using a Stack to Implement Recursion","nodeData":"5.1.4"},{"id":105,"hasCaret":false,"label":"5.1.5 Instruction Summary","nodeData":"5.1.5"}]},{"id":106,"hasCaret":true,"label":"5.2 A Register-Machine Simulator","nodeData":"5.2","childNodes":[{"id":107,"hasCaret":false,"label":"5.2.1 The Machine Model","nodeData":"5.2.1"},{"id":108,"hasCaret":false,"label":"5.2.2 The Assembler","nodeData":"5.2.2"},{"id":109,"hasCaret":false,"label":"5.2.3 Instructions and Their Execution Functions","nodeData":"5.2.3"},{"id":110,"hasCaret":false,"label":"5.2.4 Monitoring Machine Performance","nodeData":"5.2.4"}]},{"id":111,"hasCaret":true,"label":"5.3 Storage Allocation and Garbage Collection","nodeData":"5.3","childNodes":[{"id":112,"hasCaret":false,"label":"5.3.1 Memory as Vectors","nodeData":"5.3.1"},{"id":113,"hasCaret":false,"label":"5.3.2 Maintaining the Illusion of Infinite Memory","nodeData":"5.3.2"}]},{"id":114,"hasCaret":true,"label":"5.4 The Explicit-Control Evaluator","nodeData":"5.4","childNodes":[{"id":115,"hasCaret":false,"label":"5.4.1 The Dispatcher and Basic Evaluation","nodeData":"5.4.1"},{"id":116,"hasCaret":false,"label":"5.4.2 Evaluating Function Applications","nodeData":"5.4.2"},{"id":117,"hasCaret":false,"label":"5.4.3 Blocks, Assignments, and Declarations","nodeData":"5.4.3"},{"id":118,"hasCaret":false,"label":"5.4.4 Running the Evaluator","nodeData":"5.4.4"}]},{"id":119,"hasCaret":true,"label":"5.5 Compilation","nodeData":"5.5","childNodes":[{"id":120,"hasCaret":false,"label":"5.5.1 Structure of the Compiler","nodeData":"5.5.1"},{"id":121,"hasCaret":false,"label":"5.5.2 Compiling Components","nodeData":"5.5.2"},{"id":122,"hasCaret":false,"label":"5.5.3 Compiling Applications and Return Statements","nodeData":"5.5.3"},{"id":123,"hasCaret":false,"label":"5.5.4 Combining Instruction Sequences","nodeData":"5.5.4"},{"id":124,"hasCaret":false,"label":"5.5.5 An Example of Compiled Code","nodeData":"5.5.5"},{"id":125,"hasCaret":false,"label":"5.5.6 Lexical Addressing","nodeData":"5.5.6"},{"id":126,"hasCaret":false,"label":"5.5.7 Interfacing Compiled Code to the Evaluator","nodeData":"5.5.7"}]}]},{"id":127,"hasCaret":false,"label":"References","nodeData":"references"},{"id":128,"hasCaret":false,"label":"About the SICP JS Project","nodeData":"making-of"}]');let d=e=>{let[a,t]=(0,r.useState)(o),d=(0,i.Zp)(),c=r.useCallback(a=>{e.handleCloseToc&&e.handleCloseToc(),d("/sicpjs/"+String(a.nodeData))},[d,e]);return(0,n.jsx)("div",{className:"sicp-toc",children:(0,n.jsx)(s.P,{className:"sicp-toc-tree",contents:a,onNodeClick:c,onNodeCollapse:(e,n)=>{let r=(0,l.cloneDeep)(a);s.P.nodeFromPath(n,r).isExpanded=!1,t(r)},onNodeExpand:(e,n)=>{let r=(0,l.cloneDeep)(a);s.P.nodeFromPath(n,r).isExpanded=!0,t(r)}})})}}}]);
//# sourceMappingURL=9628.a5d45aec.js.map