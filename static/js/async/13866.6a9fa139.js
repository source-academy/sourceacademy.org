"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["13866"],{55441(e,a,t){Object.defineProperty(a,"__esModule",{value:!0});let l=t(32099),r=t(38007),n=t(20142),s=t(30300),i=t(15863);function g(e,a,t,l){let r=t.getClass();if("java/lang/Object"===r.getName()){let e=t.getNativeField("staticFieldBase");return[e,e.getFieldFromVmIndex(Number(l))]}if(r.checkArray()){let e=r.getComponentClass(),a=(0,s.typeIndexScale)(e);return[t.getJsArray(),Math.floor(Number(l)/a)]}{let e=t.getFieldFromVMIndex(Number(l));return[t,e]}}let c=(e,a)=>{let t=g(e,a[0],a[1],a[2]),l=t[0],r=t[1];"number"==typeof r?e.returnStackFrame(l[r]):e.returnStackFrame(r.getValue())};function o(e,a,t,l,r,n){let s=g(e,a,t,l),i=s[0],c=s[1];return"number"==typeof c?i[c]===r?(i[c]=n,1):0:c.getValue()===r?(c.putValue(n),1):0}a.default={"registerNatives()V":e=>{e.returnStackFrame()},"arrayBaseOffset(Ljava/lang/Class;)I":e=>{e.returnStackFrame(0)},"objectFieldOffset(Ljava/lang/reflect/Field;)J":(e,a)=>{let t=a[1]._getField("slot","I","java/lang/reflect/Field");s.logger.warn("objectFieldOffset: returning slot instead of vmindex"),e.returnStackFrame64(BigInt(t))},"arrayIndexScale(Ljava/lang/Class;)I":(e,a)=>{let t=a[1].getNativeField("classRef");if(!t.checkArray())return void e.returnStackFrame(-1);let l=(0,s.typeIndexScale)(t.getComponentClass());e.returnStackFrame(l)},"addressSize()I":e=>{e.returnStackFrame(4)},"compareAndSwapObject(Ljava/lang/Object;JLjava/lang/Object;Ljava/lang/Object;)Z":(e,a)=>{let t=a[0],l=a[1],r=a[2],n=a[3],s=a[4];e.returnStackFrame(o(e,t,l,r,n,s))},"compareAndSwapInt(Ljava/lang/Object;JII)Z":(e,a)=>{let t=a[0],l=a[1],r=a[2],n=a[3],s=a[4];e.returnStackFrame(o(e,t,l,r,n,s))},"compareAndSwapLong(Ljava/lang/Object;JJJ)Z":(e,a)=>{let t=a[0],l=a[1],r=a[2],n=a[3],s=a[4];e.returnStackFrame(o(e,t,l,r,n,s))},"getIntVolatile(Ljava/lang/Object;J)I":c,"getObjectVolatile(Ljava/lang/Object;J)Ljava/lang/Object;":c,"putObjectVolatile(Ljava/lang/Object;JLjava/lang/Object;)V":(e,a)=>{let t=g(e,a[0],a[1],a[2]),l=t[0],r=t[1];if("number"==typeof r){l[r]=a[3],e.returnStackFrame();return}r.putValue(a[3]),e.returnStackFrame()},"allocateMemory(J)J":(e,a)=>{let t=a[1],l=e.getJVM().getUnsafeHeap().allocate(t);e.returnStackFrame64(l)},"putLong(JJ)V":(e,a)=>{let t=a[1],l=a[2];e.getJVM().getUnsafeHeap().get(t).setBigInt64(0,l),e.returnStackFrame()},"getByte(J)B":(e,a)=>{let t=a[1],l=e.getJVM().getUnsafeHeap().get(t);e.returnStackFrame(l.getInt8(0))},"freeMemory(J)V":(e,a)=>{let t=a[1];e.getJVM().getUnsafeHeap().free(t),e.returnStackFrame()},"defineAnonymousClass(Ljava/lang/Class;[B[Ljava/lang/Object;)Ljava/lang/Class;":(e,a)=>{let t=a[1],l=a[2],s=a[3],g=new DataView(new Uint8Array(l.getJsArray()).buffer),c=(0,i.default)(g),o=c.constantPool[c.thisClass],u=c.constantPool[o.nameIndex].value,d=t.getNativeField("classRef"),F=null,f=new r.ReferenceClassData(c,d.getLoader(),u,e=>F=e,s);if(F)return void e.throwNewException(F.exceptionCls,F.msg);if(!d.getAttribute("NestHost")){let e=n.ConstantClass.asResolved(d,new n.ConstantUtf8(d,d.getName()),d);f._addAttribute({hostClass:e,name:"NestHost"})}let j=f.getJavaObject();e.returnStackFrame(j)},"defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;":(e,a)=>{let t=a[2],r=a[5],n=r?r.getNativeField("loader"):e.getJVM().getBootstrapClassLoader(),s=new DataView(new Uint8Array(t.getJsArray()).buffer),g=(0,i.default)(s),c=n.defineClass(g);c.status===l.ResultType.ERROR?e.throwNewException(c.exceptionCls,c.msg):e.returnStackFrame(c.result.getJavaObject())},"ensureClassInitialized(Ljava/lang/Class;)V":(e,a)=>{let t=a[1].getNativeField("classRef").initialize(e);t.status===l.ResultType.SUCCESS?e.returnStackFrame():t.status===l.ResultType.ERROR&&e.throwNewException(t.exceptionCls,t.msg)},"shouldBeInitialized(Ljava/lang/Class;)Z":(e,a)=>{let t=a[1].getNativeField("classRef");e.returnStackFrame(+!!t.isInitialized())},"staticFieldOffset(Ljava/lang/reflect/Field;)J":(e,a)=>{let t=a[1],l=t._getField("slot","I","java/lang/reflect/Field"),r=t._getField("clazz","Ljava/lang/Class;","java/lang/reflect/Field").getNativeField("classRef"),n=r.getFieldFromSlot(l);e.returnStackFrame64(BigInt(n?r.getFieldVmIndex(n):-1))},"staticFieldBase(Ljava/lang/reflect/Field;)Ljava/lang/Object;":(e,a)=>{let t=a[1]._getField("clazz","Ljava/lang/Class;","java/lang/reflect/Field").getNativeField("classRef"),l=t.getLoader().getClass("java/lang/Object").result.instantiate();l.putNativeField("staticFieldBase",t),e.returnStackFrame(l)}}}}]);
//# sourceMappingURL=13866.6a9fa139.js.map