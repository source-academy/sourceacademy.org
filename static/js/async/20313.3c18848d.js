"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["20313"],{36403:function(e,a,t){t.r(a),t.d(a,{Component:()=>j,default:()=>H});var r=t(74848),n=t(35537),l=t(53991),o=t(66314),d=t(53978),s=t.n(d),i=t(50046),u=t(96540),c=t(81333),h=t(83509),p=t(94894),g=t(82134),b=t(97210),A=t(27849),E=t(64088),S=t(96830),y=t(35459),m=t(75209),D=t(3186),T=t(57017),C=t(20922),v=t(11175),x=t(4535),R=t(99869),I=t(38211),f=t(61505),P=t(80925),B=t(13481),k=t(80594);let w="sourcecast",V=()=>{let{t:e}=(0,c.Bd)(),{isMobileBreakpoint:a}=(0,E.Qs)(),t=(0,p.g)(),{audioUrl:d,currentPlayerTime:V,codeDeltasToApply:j,title:H,description:N,externalLibrary:U,isEditorAutorun:M,isEditorReadonly:L,inputToApply:O,isRunning:_,isDebugging:F,output:z,playbackDuration:J,playbackData:K,playbackStatus:Q,replValue:W,sourcecastIndex:X,context:{chapter:Y,variant:q},uid:G,isFolderModeEnabled:Z,activeEditorTabIndex:$,editorTabs:ee}=(0,E.N4)(e=>e.workspaces[w]),ea=(0,E.N4)(e=>e.session.courseId),et=(0,h.wA)(),{handleFetchSourcecastIndex:er,handleChapterSelect:en,handleEditorEval:el,handleEditorValueChange:eo,handleExternalSelect:ed,handleReplEval:es,handleSetSourcecastData:ei,handleSetSourcecastStatus:eu,handleReplOutputClear:ec,handleSideContentHeightChange:eh}=(0,u.useMemo)(()=>({handleFetchSourcecastIndex:()=>et((0,y.p3)(w)),handleChapterSelect:e=>et(S.A.chapterSelect(e,i.Variant.DEFAULT,w)),handleEditorEval:()=>et(S.A.evalEditor(w)),handleEditorValueChange:e=>et(S.A.updateEditorValue(w,0,e)),handleExternalSelect:e=>et(S.A.externalLibrarySelect(e,w)),handleReplEval:()=>et(S.A.evalRepl(w)),handleSetSourcecastData:(e,a,t,r,n)=>et((0,m.Hr)(e,a,t,r,n,w)),handleSetSourcecastStatus:e=>et((0,m.PI)(e,w)),handleReplOutputClear:()=>et(S.A.clearReplOutput(w)),handleSideContentHeightChange:e=>et((0,b.k1)(e,w))}),[et]),{selectedTab:ep,setSelectedTab:eg}=(0,A.k9)(w,"introduction"),eb=()=>{let e=t.sourcecastId;if(e&&e!==G&&X){let a=X.find(a=>a.uid===e);a&&ei(a.title,a.description,a.uid,a.url,JSON.parse(a.playbackData))}};(0,u.useEffect)(()=>{er()},[]),(0,u.useEffect)(()=>{if(eb(),O)switch(O.type){case"activeTabChange":eg(O.data);break;case"chapterSelect":en(O.data);break;case"externalLibrarySelect":ed(O.data);break;case"forcePause":eu("forcedPaused")}},[eb,O]),(0,u.useEffect)(()=>{a||"mobile_editor"!==ep&&"mobile_editor_run"!==ep||eg("introduction")},[a,ep,eg]);let eA=(0,u.useMemo)(()=>({handleDebuggerPause:()=>et(g.A.beginDebuggerPause(w)),handleDebuggerReset:()=>et(g.A.debuggerReset(w)),handleDebuggerResume:()=>et(g.A.debuggerResume(w)),handleInterruptEval:()=>et(g.A.beginInterruptExecution(w)),handleToggleEditorAutorun:()=>et(S.A.toggleEditorAutorun(w))}),[et]),eE=(0,r.jsx)(D.g,{handleDebuggerPause:eA.handleDebuggerPause,handleDebuggerReset:eA.handleDebuggerReset,handleDebuggerResume:eA.handleDebuggerResume,handleEditorEval:el,handleInterruptEval:eA.handleInterruptEval,handleToggleEditorAutorun:eA.handleToggleEditorAutorun,isEntrypointFileDefined:null!==$,isDebugging:F,isEditorAutorun:M,isRunning:_},"autorun"),eS=(0,r.jsx)(T.e,{handleChapterSelect:({chapter:e},a)=>en(e),isFolderModeEnabled:Z,sourceChapter:Y,sourceVariant:q},"chapter"),ey=(0,r.jsx)(C.g,{handleReplOutputClear:ec},"clear_repl"),em=(0,r.jsx)(v.T,{handleReplEval:es,isRunning:_},"eval_repl"),eD=(0,f.A)(w),eT=(0,I.Ay)(w),eC=[{label:"Sourcecast Table",iconName:o.W.HOME,body:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"Multi-line",children:(0,r.jsx)(n.AC,{children:H?e("sourcecast.titleDescription",{title:H,description:N}):e("sourcecast.introduction")})}),(0,r.jsx)(B.A,{handleSetSourcecastData:ei,sourcecastIndex:X,courseId:ea})]}),id:"introduction"},eD,eT],ev=(e,a,t)=>{e!==a&&eg(e)},ex=(0,u.useMemo)(()=>({handleDeclarationNavigate:e=>et(S.A.navigateToDeclaration(w,e)),handleEditorUpdateBreakpoints:e=>et(S.A.setEditorBreakpoint(w,0,e)),setActiveEditorTabIndex:e=>et(S.A.updateActiveEditorTabIndex(w,e)),removeEditorTabByIndex:e=>et(S.A.removeEditorTab(w,e))}),[et]),eR={editorVariant:"sourcecast",isFolderModeEnabled:Z,activeEditorTabIndex:$,setActiveEditorTabIndex:ex.setActiveEditorTabIndex,removeEditorTabByIndex:ex.removeEditorTabByIndex,editorTabs:ee.map(x.U),codeDeltasToApply:j,isEditorReadonly:L,editorSessionId:"",handleDeclarationNavigate:ex.handleDeclarationNavigate,handleEditorEval:el,handleEditorValueChange:eo,isEditorAutorun:M,inputToApply:O,isPlaying:"playing"===Q,handleEditorUpdateBreakpoints:ex.handleEditorUpdateBreakpoints},eI=(0,u.useMemo)(()=>({handleBrowseHistoryDown:()=>et(S.A.browseReplHistoryDown(w)),handleBrowseHistoryUp:()=>et(S.A.browseReplHistoryUp(w)),handleReplValueChange:e=>et(S.A.updateReplValue(e,w))}),[et]),ef={output:z,replValue:W,handleBrowseHistoryDown:eI.handleBrowseHistoryDown,handleBrowseHistoryUp:eI.handleBrowseHistoryUp,handleReplEval:es,handleReplValueChange:eI.handleReplValueChange,sourceChapter:Y,sourceVariant:q,externalLibrary:U,replButtons:[em,ey]},eP={tabs:[]},eB=(0,u.useMemo)(()=>({handlePromptAutocomplete:(e,a,t)=>et(S.A.promptAutocomplete(w,e,a,t)),handleSetCurrentPlayerTime:e=>et((0,m.Yz)(e,w)),handleSetCodeDeltasToApply:e=>et((0,m.ie)(e,w)),handleSetIsEditorReadonly:e=>et(S.A.setIsEditorReadonly(w,e)),handleSetInputToApply:e=>et((0,m.eS)(e,w)),handleSetSourcecastDuration:e=>et((0,m.PX)(e,w))}),[et]),ek={handleEditorValueChange:eo,handlePromptAutocomplete:eB.handlePromptAutocomplete,handleSetCurrentPlayerTime:eB.handleSetCurrentPlayerTime,handleSetCodeDeltasToApply:eB.handleSetCodeDeltasToApply,handleSetIsEditorReadonly:eB.handleSetIsEditorReadonly,handleSetInputToApply:eB.handleSetInputToApply,handleSetSourcecastDuration:eB.handleSetSourcecastDuration,handleSetSourcecastStatus:eu,audioUrl:d,currentPlayerTime:V,duration:J,playbackData:K,playbackStatus:Q,handleChapterSelect:en,handleExternalSelect:ed,setSelectedTab:eg};return(0,r.jsxs)("div",{className:s()("Sourcecast",l.DARK),children:[(0,r.jsx)(P.A,{...ek}),a?(0,r.jsx)(R.A,{editorContainerProps:eR,replProps:ef,sideBarProps:eP,mobileSideContentProps:{mobileControlBarProps:{editorButtons:[eE,eS]},selectedTabId:ep,onChange:ev,tabs:{beforeDynamicTabs:eC,afterDynamicTabs:[]},workspaceLocation:w}}):(0,r.jsx)(k.A,{controlBarProps:{editorButtons:[eE,eS]},editorContainerProps:eR,handleSideContentHeightChange:eh,replProps:ef,sideBarProps:eP,sideContentProps:{selectedTabId:ep,onChange:ev,tabs:{beforeDynamicTabs:eC,afterDynamicTabs:[]},workspaceLocation:w}})]})},j=V;j.displayName="Sourcecast";let H=V}}]);
//# sourceMappingURL=20313.3c18848d.js.map