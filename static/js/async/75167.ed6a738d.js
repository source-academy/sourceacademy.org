"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["75167"],{90913(e,t,r){r.d(t,{X:()=>i});var n=r(96540),o=r(41344);function i({when:e,message:t,...r}){return!function(e,{beforeUnload:t}={}){let r=(0,o.KP)(n.useCallback(()=>"string"==typeof e&&!window.confirm(e),[e])),i=n.useRef(r.state);n.useEffect(()=>{"blocked"===r.state&&r.reset(),i.current=r.state},[r]),(0,o.K)(n.useCallback(r=>{t&&"string"==typeof e&&(r.preventDefault(),r.returnValue=e)},[e,t]),{capture:!0})}(!!e&&t,r),null}},44632(e,t,r){r.d(t,{i1:()=>o,qD:()=>i});var n=r(96540);let o={editorBinding:""},i=n.createContext(null)},78098(e,t,r){r.d(t,{A:()=>a});var n=r(74848),o=r(53991),i=r(46942),s=r.n(i);r(96540);let a=e=>{let t=(0,n.jsx)("div",{className:s()("ControlBar_editor",o.BUTTON_GROUP),children:e.editorButtons}),r=e.flowButtons&&(0,n.jsx)("div",{className:s()("ControlBar_flow",o.BUTTON_GROUP),children:e.flowButtons}),i=(0,n.jsx)("div",{className:s()("ControlBar_editingWorkspace",o.BUTTON_GROUP),children:e.editingWorkspaceButtons});return(0,n.jsxs)("div",{className:"ControlBar",children:[t,r,i]})}},90559(e,t,r){r.d(t,{g:()=>s});var n=r(74848),o=r(9584);r(96540);var i=r(29458);let s=({handleReplOutputClear:e})=>(0,n.jsx)(i.A,{label:"Clear",icon:o.W.REMOVE,onClick:e})},62120(e,t,r){r.d(t,{T:()=>c});var n=r(74848),o=r(92473),i=r(9584);r(96540);var s=r(19874),a=r(29458),l=r(87574);let c=({handleReplEval:e,isRunning:t})=>((0,l.i)(s.V)?t:!t)?(0,n.jsx)(o.m,{content:"...or press shift-enter in the REPL",children:(0,n.jsx)(a.A,{label:"Eval",icon:i.W.CODE,onClick:e})}):null},40276(e,t,r){r.d(t,{A:()=>H,U:()=>$});var n=r(74848),o=r(2543),i=r.n(o),s=r(96540);r(55208),r(1766),r(50447);var a=r(51851),l=r(70470);class c extends s.PureComponent{ShareAce;AceEditor;onChangeMethod;onCursorChange;onSelectionChange;constructor(e){super(e),this.AceEditor=s.createRef(),this.ShareAce=null,this.onChangeMethod=(e,t)=>{this.props.handleUpdateHasUnsavedChanges&&this.props.handleUpdateHasUnsavedChanges(!0),this.props.handleEditorValueChange(e),this.props.isRecording&&this.props.handleRecordInput({type:"codeDelta",time:this.props.getTimerDuration(),data:t});let r=this.AceEditor.current.editor.getSession().getAnnotations();this.props.isEditorAutorun&&0===r.length&&this.props.handleEditorEval()},this.onCursorChange=e=>{if(!this.props.isRecording)return;let t=e.getCursor();this.props.handleRecordInput({type:"cursorPositionChange",time:this.props.getTimerDuration(),data:t})},this.onSelectionChange=e=>{if(!this.props.isRecording)return;let t=e.getRange(),r=e.isBackwards();(0,o.isEqual)(t.start,t.end)||this.props.handleRecordInput({type:"selectionRangeData",time:this.props.getTimerDuration(),data:{range:t,isBackwards:r}})}}componentDidUpdate(e){let{codeDeltasToApply:t,inputToApply:r,newCursorPosition:n}=this.props;if(t&&t!==e.codeDeltasToApply&&(this.AceEditor.current.editor.session.getDocument().applyDeltas(t),this.AceEditor.current.editor.selection.clearSelection()),n&&n!==e.newCursorPosition&&this.moveCursor(n),r&&r!==e.inputToApply)switch(r.type){case"codeDelta":this.AceEditor.current.editor.session.getDocument().applyDelta(r.data),this.AceEditor.current.editor.selection.clearSelection();break;case"cursorPositionChange":this.moveCursor(r.data);break;case"selectionRangeData":{let{range:e,isBackwards:t}=r.data;this.AceEditor.current.editor.selection.setRange(e,t);break}case"keyboardCommand":"run"===r.data&&(this.props.handleEditorEval(),this.props.setDraggableReplPosition&&this.props.setDraggableReplPosition())}}getBreakpoints(){return this.AceEditor.current.editor.session.getBreakpoints().filter(e=>null!=e)}componentDidMount(){if(!this.AceEditor||!this.AceEditor.current||!this.AceEditor.current.editor)return;let e=this.AceEditor.current.editor,t=e.getSession();e.on("gutterclick",this.handleGutterClick),t.on("changeAnnotation",this.handleAnnotationChange(t));let{onFocus:r,onBlur:n}=this.props;r&&e.on("focus",t=>r(t,e)),n&&e.on("blur",t=>n(t,e))}componentWillUnmount(){null!==this.ShareAce&&this.ShareAce.WS.close(),this.ShareAce=null}getMarkers=()=>{let e=[];for(let t of this.props.highlightedLines)e.push({startRow:t[0],startCol:0,endRow:t[1],endCol:1,className:"myMarker",type:"fullLine"});return e};render(){return(0,n.jsx)(a.Z,{className:"Editor",children:(0,n.jsx)("div",{className:"row editor-react-ace",children:(0,n.jsx)(l.default,{className:"react-ace",commands:[{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:this.handleEvaluate},{name:"navigate",bindKey:{win:"Ctrl-B",mac:"Command-B"},exec:this.handleDeclarationNavigate}],editorProps:{$blockScrolling:1/0},ref:this.AceEditor,markers:this.getMarkers(),fontSize:17,height:"100%",highlightActiveLine:!1,mode:"javascript",onChange:this.onChangeMethod,onCursorChange:this.onCursorChange,onSelectionChange:this.onSelectionChange,readOnly:this.props.isEditorReadonly,theme:"source",value:this.props.editorValue,width:"100%",setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:this.props.editorBinding})})})}handleGutterClick=e=>{let t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;let r=e.getDocumentPosition().row,n=e.editor.session.getLine(r);void 0!==e.editor.session.getBreakpoints(r,0)[r]||0===n.length||n.includes("//")||n.includes("debugger;")?e.editor.session.clearBreakpoint(r):e.editor.session.setBreakpoint(r),e.stop(),this.props.handleEditorUpdateBreakpoints(e.editor.session.$breakpoints)};handleAnnotationChange=e=>()=>{let t=e.getAnnotations(),r=0;for(let e of t)"info"===e.type&&(e.type="error",e.className="ace_error",r++);0!==r&&e.setAnnotations(t)};handleEvaluate=()=>{this.props.handleEditorEval(),this.props.isRecording&&this.props.handleRecordInput({type:"keyboardCommand",time:this.props.getTimerDuration(),data:"run"})};moveCursor=e=>{this.AceEditor.current.editor.selection.clearSelection(),this.AceEditor.current.editor.moveCursorToPosition(e),this.AceEditor.current.editor.renderer.showCursor(),this.AceEditor.current.editor.renderer.scrollCursorIntoView(e,.5)};handleDeclarationNavigate=()=>{this.props.handleDeclarationNavigate(this.AceEditor.current.editor.getCursorPosition())}}var d=r(44632),u=r(80952);r(20047),r(67744),r(50117),r(61742);var h=r(38786),p=r(65021),g=r(281);let m={evaluate:{win:"Shift-Enter",mac:"Shift-Enter"},navigate:{win:"Ctrl-B",mac:"Command-B"},refactor:{win:"Ctrl-M",mac:"Command-M"},highlightScope:{win:"Ctrl-Shift-H",mac:"Command-Shift-H"}};var f=r(57415),C=r(98396);r(91948),r(54759);var v=r(87603),b=r(64251),w=r(12850),E=r.n(w),x=r(61300),y=r(94201),k=r(61499),A=r(14873),S=r(61488),N=r(12149),R=r(37852);let j="hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(50+20*Math.random())+"%)";var P=r(75580);let B=["onSelectionChange","onCursorChange","onInput","onLoad","onValidate","onBeforeLoad","onChange","onSelection","onCopy","onPaste","onFocus","onBlur","onScroll"],L=e=>{let t=[];return e.forEach((e,r)=>{"ace_breakpoint"===e&&t.push(r)}),t},T=s.memo(e=>{let t=s.useRef(null),[r,o]=s.useState(void 0),i=s.useRef(e.handleEditorUpdateBreakpoints),c=s.useRef(e.handlePromptAutocomplete),d=t.current?.editor;void 0!==d&&r!==e.filePath&&(e.session.setMode(d.getSession().getMode()),d.setSession(e.session),void 0!==r&&d.focus(),o(e.filePath)),s.useEffect(()=>{i.current=e.handleEditorUpdateBreakpoints,c.current=e.handlePromptAutocomplete},[e.handleEditorUpdateBreakpoints,e.handlePromptAutocomplete]),s.useEffect(()=>{if(void 0!==d){let t;t=L(e.breakpoints),d.session.setBreakpoints(t)}},[d,e.breakpoints]),s.useEffect(()=>(/iPhone|iPad|iPod/.test(navigator.userAgent)&&(document.body.style.position="fixed",document.body.style.width="100%"),()=>{document.body.style.position="",document.body.style.width=""}),[]);let[f,C,v]=[e.sourceChapter||h.Chapter.SOURCE_1,e.sourceVariant||h.Variant.DEFAULT,e.externalLibraryName||P.O.NONE];(0,p.wC)(f,C,v),s.useLayoutEffect(()=>{let t,r;if(void 0===d)return;let n=d.getSession();if(d.on("gutterclick",(t=i.current,r=e.editorTabIndex,e=>{let n=e.domEvent.target;if(-1===n.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+n.getBoundingClientRect().left)return;let o=e.getDocumentPosition().row,i=e.editor.session.getLine(o);void 0!==e.editor.session.getBreakpoints()[o]||0===i.length||i.includes("//")||i.includes("debugger;")?e.editor.session.clearBreakpoint(o):e.editor.session.setBreakpoint(o,void 0),e.stop(),t(r,e.editor.session.getBreakpoints())})),n.on("changeAnnotation",()=>{let e=n.getAnnotations(),t=0;for(let r of e)"info"===r.type&&(r.type="error",r.className="ace_error",t++);0!==t&&n.setAnnotations(e)}),e.sourceChapter===h.Chapter.FULL_C||e.sourceChapter===h.Chapter.FULL_JAVA){let{textCompleter:e,keyWordCompleter:t,setCompleters:r}=(0,u.require)("ace/ext/language_tools");r([e,t])}else{let e;(0,u.require)("ace/ext/language_tools").setCompleters([(e=(...e)=>c.current(...e),{getCompletions:(t,r,n,o,i)=>{o&&/\d/.test(o.charAt(0))?i():e(n.row+1,n.column,i)}})])}},[d,e.sourceChapter,e.editorTabIndex]),s.useLayoutEffect(()=>{if(void 0===d)return;let t=e.newCursorPosition;t&&(d.selection.clearSelection(),d.moveCursorToPosition(t),d.renderer.showCursor(),d.renderer.scrollCursorIntoView(t,.5))},[d,e.newCursorPosition]);let{handleUpdateHasUnsavedChanges:b,handleEditorValueChange:w,isEditorAutorun:E,handleEditorEval:x}=e,y={evaluate:x},k={className:"react-ace",editorProps:{$blockScrolling:1/0},markers:s.useMemo(()=>e.highlightedLines.map(e=>({startRow:e[0],startCol:0,endRow:e[1],endCol:1,className:"myMarker",type:"fullLine"})),[e.highlightedLines]),fontSize:17,height:"100%",highlightActiveLine:!1,mode:(0,p.xU)(f,C,v),theme:"source",value:e.editorValue,width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:e.editorBinding},[A]=s.useState(e.hooks);if(A)for(let r of A)r(e,k,y,t);let{onChange:S}=k;return k.onChange=s.useCallback((r,n)=>{if(!t.current)return;((e,t)=>{let r=e=>e.length-e.trimStart().length,n=e=>0===e.trim().length,o=L(e.session.getBreakpoints()),i=[],s=t.start.row,a=t.start.column,l=t.end.row,c=t.lines.length-1;for(let d of o)switch(t.action){case"insert":{let t;t=!(d<s)&&(d!==s||r(e.session.getLine(d))>=a);let n=d+(t?c:0);i.push(n);break}case"remove":{let t;if(d<s)t=!1;else if(d>s&&d<l)break;else if(d===s){if(n(e.session.getLine(d)))break;t=!1}else if(d===l){if(n(e.session.getLine(d-c).substring(a)))break;t=!0}else t=!0;let r=d-(t?c:0);i.push(r)}}e.session.setBreakpoints(i)})(t.current.editor,n),w(e.editorTabIndex,r),i.current(e.editorTabIndex,t.current.editor.session.getBreakpoints()),b&&b(!0);let o=t.current.editor.getSession().getAnnotations();E&&0===o.length&&x(),void 0!==S&&S(r,n)},[w,e.editorTabIndex,b,E,S,x]),k.commands=(0,g.WP)(y).filter(([e,t])=>t).map(([e,t])=>({name:e,bindKey:m[e],exec:t})),B.forEach(t=>{let r=e[t];if(r){let e=k[t];e?k[t]=function(...t){e(...t),r(...t)}:k[t]=r}}),(0,u.require)("ace/ext/menu_tools/overlay_page").overlayPage=function(e,t,r){let n=document.createElement("div");n.id="overlay";let o=!1;function i(e){27===e.keyCode&&s()}function s(){n&&(document.removeEventListener("keydown",i),n?.parentNode?.removeChild(n),e&&e.focus(),n=null,r?.())}return n.style.cssText="margin: 0; padding: 0; position: fixed; top:0; bottom:0; left:0; right:0;z-index: 9990; "+(e?"background-color: rgba(0, 0, 0, 0.3);":""),n.addEventListener("click",function(e){o||s()}),document.addEventListener("keydown",i),t.addEventListener("click",function(e){e.stopPropagation()}),n.appendChild(t),document.body.appendChild(n),e&&e.blur(),{close:s,setIgnoreFocusOut:function(e){o=e,e&&(n.style.pointerEvents="none",t.style.pointerEvents="auto")}}},s.useEffect(()=>()=>{let e=document.getElementById("overlay");e&&e.parentNode?.removeChild(e)},[]),(0,n.jsx)(a.Z,{className:"Editor",children:(0,n.jsxs)("div",{className:"row editor-react-ace","data-testid":"Editor",id:"editor-react-ace",children:[(0,n.jsx)(l.default,{...k,ref:t}),(0,n.jsx)("div",{id:"ace-radar-view"})]})})}),I=[(e,t,r,n)=>{let o=s.useRef(e);o.current=e;let i=s.useRef([]),a=s.useCallback(()=>{setTimeout(()=>{if(!n.current)return;let e=n.current.editor,t=e.session,r=t.getValue(),s=o.current.sourceChapter,a=e.getCursorPosition();t&&t.bgTokenizer&&(i.current.forEach(e=>{t.removeMarker(e)}),i.current=(0,f.getAllOccurrencesInScope)(r,(0,f.createContext)(s),{line:a.row+1,column:a.column}).map(e=>new u.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)).map(e=>t.addMarker(e,"ace_variable_highlighting","text")))},10)},[n]),l=s.useCallback(()=>{if(!n.current)return;let e=n.current.editor,t=e.getValue(),r=o.current.sourceChapter,s=e.getCursorPosition(),a=(0,f.getScope)(t,(0,f.createContext)(r),{line:s.row+1,column:s.column});0!==a.length&&a.forEach(t=>{i.current.push(e.session.addMarker(new u.Range(t.start.line-1,t.start.column,t.end.line-1,t.end.column),"ace_selection","text"))})},[n]),{onChange:c,onCursorChange:d}=t;t.onChange=s.useCallback((e,t)=>{a(),c?.(e,t)},[a,c]),t.onCursorChange=s.useCallback((e,t)=>{a(),d?.(e,t)},[a,d]),r.highlightScope=l},(e,t,r,n)=>{let o=s.useRef(e);o.current=e,r.navigate=s.useCallback(()=>{let e=n.current.editor,t=e.selection.getCursor(),r=e.session.getTokenAt(t.row,t.column),{sourceChapter:i,handleDeclarationNavigate:s}=o.current;s(e.getCursorPosition());let a=e.selection.getCursor();if(a.row!==t.row||a.column!==t.column||(0,f.hasDeclaration)(e.getValue(),(0,f.createContext)(i),{line:a.row+1,column:a.column}))return;let l="https://docs.sourceacademy.org/",c=o.current.sourceVariant===h.Variant.DEFAULT?"":`_${o.current.sourceVariant}`,d=void 0===o.current.externalLibraryName?"NONE":o.current.externalLibraryName,u="ALL"===o.current.externalLibraryName?"External%20libraries":d;C.H.externalLibraries[d].some(e=>e.caption===(r&&r.value))?null!==r&&(/\bsupport.function\b/.test(r.type)||/\bbuiltinconsts\b/.test(r.type))&&window.open(`${l}${u}/global.html#${r.value}`):null!==r&&(/\bsupport.function\b/.test(r.type)||/\bbuiltinconsts\b/.test(r.type))&&window.open(`${l}source_${i}${c}/global.html#${r.value}`),null!==r&&/\bstorage.type\b/.test(r.type)&&window.open(`${l}source_${i}.pdf`)},[n])},(e,t,r,n)=>{let o=s.useRef(e);o.current=e;let{editorSessionId:i,sessionDetails:a}=e,{name:l,userId:c}=(0,N.wV)(),d=(0,y.wA)();s.useEffect(()=>{let e;if(!i||!a)return;let t={name:l||"Unnamed user",color:j,role:a.owner?x.CollabEditingAccess.OWNER:a.readOnly?x.CollabEditingAccess.VIEWER:x.CollabEditingAccess.EDITOR},r=n.current.editor,s=r.getSession(),c=new v.AceMultiCursorManager(s),u=new v.AceMultiSelectionManager(s),h=new v.AceRadarView("ace-radar-view",r);h.removeAllViews=()=>{for(let e in h._views)h.removeView(e)};let g=new(E())(a.docId,{user:t,WsUrl:(0,S.GP)(i,!0),namespace:"sa"}),m=e=>{if(void 0===e.connectedUsers)return;o.current.setUsers?.(e.connectedUsers);let r=Object.keys(g.usersPresence.localPresences)[0];e.connectedUsers[r].role!==t.role&&d(A.Ay.setSessionDetails("playground",{readOnly:e.connectedUsers[r].role===x.CollabEditingAccess.VIEWER}))},f=()=>{if(!a)return;let e=g.add(r,["contents"],{cursorManager:c,selectionManager:u,radarManager:h},{languageSelectHandler:e=>{let{chapter:t,variant:r}=(0,p.KN)(e);o.current.updateLanguageCallback?.((0,k.lr)(t,r),null)}});o.current.handleSetSharedbConnected(!0),d(A.Ay.setUpdateUserRoleCallback("playground",e.changeUserRole)),r.setReadOnly(a.readOnly),navigator.clipboard.writeText(i).then(()=>{(0,R.uT)(`You have joined a session as ${a.readOnly?"a viewer":"an editor"}. Copied to clipboard: ${i}`)}),m(e),e.usersPresence.on("receive",()=>m(e)),window.history.pushState({},document.title,"/playground/"+i)},C=(e,t)=>{console.error("ShareAce error",t),b.Cp(t)};g.on("ready",f),g.on("error",C);let w=g.WS;return e=setInterval(async()=>{if(null!==g)try{let t=await (0,S.mU)(i);null===t&&(clearInterval(e),w.close())}catch{w.reconnect()}},5e3),w.addEventListener("open",()=>{o.current.handleSetSharedbConnected(!0)}),w.addEventListener("close",()=>{o.current.handleSetSharedbConnected(!1)}),()=>{for(let t of(clearInterval(e),Object.values(g.connections)))t.unlisten();g.WS.close(),g.off("ready",f),g.off("error",C),r.setReadOnly(!1),c.removeAll(),u.removeAll(),h.removeAllViews(),window.location.href.includes("/playground")&&!window.location.href.endsWith("/playground")&&window.history.pushState({},document.title,"/playground")}},[i,a,n,c,l,d])},(e,t,r,n)=>{let{sourceChapter:o}=e;r.refactor=s.useCallback(()=>{let e=n.current.editor;if(!e)return;let t=e.getValue(),r=e.getCursorPosition(),i=(0,f.getAllOccurrencesInScope)(t,(0,f.createContext)(o),{line:r.row+1,column:r.column}),s=e.getSelection();i.map(e=>new u.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)).forEach(e=>s.addRange(e))},[n,o])}],O=e=>{let[t,r]=s.useState({}),o=(0,u.require)("ace/mode/javascript").Mode(),i=(0,u.createEditSession)(e.editorValue,o);return void 0!==e.filePath&&void 0===t[e.filePath]&&r({...t,[e.filePath]:i}),(0,n.jsx)(T,{...e,session:e.filePath?t[e.filePath]:i,hooks:I})};var U=r(28761),D=r(9584),M=r(46942),V=r.n(M);let _=({filePath:e,isActive:t,setActive:r,remove:o})=>(0,n.jsxs)(a.Z,{className:V()("editor-tab",{selected:t}),onClick:r,children:[e,(0,n.jsx)(U.I,{className:"remove-button",icon:D.W.SMALL_CROSS,onClick:e=>{e.stopPropagation(),o()}})]});var W=r(43627);let z=({baseFilePath:e,filePaths:t,activeEditorTabIndex:r,setActiveEditorTabIndex:o,removeEditorTabByIndex:i})=>{let s=(e=>{let t={},r=e.reduce((e,t)=>({...e,[t]:t.split(W.posix.sep).filter(e=>""!==e)}),{});for(let n=1;Object.keys(t).length<e.length;n++)Object.entries(Object.entries(r).reduce((e,[t,r])=>{let o="/"+r.slice(-n).join("/");return{...e,[o]:(e[o]??[]).concat(t)}},{})).forEach(([e,n])=>{if(n.length>1)return;let o=n[0];t[o]=e,delete r[o]});return e.map(e=>t[e])})(t.map(t=>t.replace(e,"")));return(0,n.jsx)("div",{className:"editor-tab-container",onWheel:e=>{e.currentTarget.scrollTo({left:e.currentTarget.scrollLeft+e.deltaY})},children:s.map((e,t)=>(0,n.jsx)(_,{filePath:e,isActive:t===r,setActive:()=>o(t),remove:()=>i(t)},t))})},$=(e,t)=>({editorTabIndex:t,editorValue:e.value,...i().pick(e,"filePath","highlightedLines","breakpoints","newCursorPosition")}),H=e=>{let[t]=s.useContext(d.qD),{baseFilePath:r,isFolderModeEnabled:o,activeEditorTabIndex:i,setActiveEditorTabIndex:a,removeEditorTabByIndex:l,editorTabs:u,...h}=e;h.editorBinding=t.editorBinding;let p="sourcecast"===h.editorVariant?e=>(0,n.jsx)(c,{...h,...e}):e=>(0,n.jsx)(O,{...h,...e});if(null===i)return(0,n.jsx)("div",{className:"editor-container",children:(0,n.jsx)("h1",{children:"Double click on a file in the sidebar to start editing!"})});let g=u.map(e=>e.filePath??"UNKNOWN");return(0,n.jsxs)("div",{className:"editor-container",children:[o&&(0,n.jsx)(z,{baseFilePath:r??"",activeEditorTabIndex:i,filePaths:g,setActiveEditorTabIndex:a,removeEditorTabByIndex:l}),p(u[i])]})}},87574(e,t,r){r.d(t,{i:()=>o});var n=r(12149);function o(e){let{flagName:t,defaultValue:r}=e;return(0,n.N4)(e=>e.featureFlags.modifiedFlags[t])??r}},6518(e,t,r){r.d(t,{A:()=>c});var n=r(74848),o=r(79642),i=r(31365),s=r(51851);r(96540);var a=r(29890),l=r(37852);let c=({mcq:e,handleMCQSubmit:t})=>{let r=e.choices.map((r,s)=>{let c=s===e.answer,d=void 0!==e.solution,u=s===e.solution;return(0,n.jsx)(o.$,{className:"mcq-option col-xs-12",active:c,intent:c&&d?u?i.J.SUCCESS:i.J.DANGER:i.J.NONE,onClick:()=>{if(c||t(s),!r.hint||!d)return;let e=(0,n.jsx)(a.A,{className:"markdown-notification",content:r.hint});u?(0,l.uT)(e,4e3):(0,l.JB)(e,4e3)},minimal:!0,children:(0,n.jsx)(a.A,{content:r.content})},s)});return(0,n.jsx)("div",{className:"MCQChooser row","data-testid":"MCQChooser",children:(0,n.jsx)(s.Z,{className:"mcq-content-parent col-xs-12 middle-xs",children:(0,n.jsx)("div",{className:"row mcq-options-parent between-xs",children:r})})})}},16773(e,t,r){r.d(t,{A:()=>S});var n=r(74848),o=r(45132),i=r(92473),s=r(79642),a=r(9584),l=r(61265),c=r(65420),d=r(96540),u=r(78098),h=r(40276),p=r(6518),g=r(90913),m=r(15361),f=r(51851),C=r(28761),v=r(46942),b=r.n(v);let w=({tabs:e,isExpanded:t,expandSideBar:r,collapseSideBar:o})=>{let[i,s]=d.useState(0);return 0===e.length?(0,n.jsx)("div",{className:"sidebar-container"}):(0,n.jsxs)("div",{className:"sidebar-container",children:[(0,n.jsx)("div",{className:"sidebar-tab-container",children:e.map((e,a)=>(0,n.jsxs)(f.Z,{className:b()("sidebar-tab",{selected:t&&i===a}),onClick:()=>{var e;i===(e=a)?t?o():r():(s(e),r())},children:[(0,n.jsx)(C.I,{className:"sidebar-tab-icon",icon:e.iconName,size:14}),e.label]},a))}),null!==i&&(0,n.jsx)(f.Z,{className:"sidebar-panel",children:e[i].body})]})};var E=r(64860),x=r(12149);let y={right:!0},k={bottom:!0},A={},S=e=>{let t,r,f=(0,d.useRef)(null),C=(0,d.useRef)(null),v=(0,d.useRef)(null),b=(0,d.useRef)(null),S=(0,d.useRef)(null),N=(0,d.useRef)(null),[R]=(0,x.Xl)(C),[j,P]=(0,d.useState)(200),[B,L]=(0,d.useState)(!0),T=(0,x.N4)(e=>e.vscode.isVscode);o.$.onlyShowFocusOnTabs(),(0,d.useEffect)(()=>{e.sideContentIsResizeable&&null===S.current&&(S.current=N.current.clientHeight)});let I=(0,n.jsx)(E.A,{...e.sideContentProps}),O=(0,n.jsxs)(c.c,{...{bounds:"parent",className:"resize-side-content",enable:k,onResize:(e,t,r)=>{S.current=N.current.clientHeight>S.current?N.current.clientHeight:S.current;let n=r.clientHeight,o=r.parentNode.clientHeight;n+S.current+2>o?N.current.style.display="none":N.current.style.display="initial"},onResizeStop:(t,r,n)=>e.handleSideContentHeightChange(n.clientHeight)},children:[I,(0,n.jsx)("div",{className:"side-content-divider",ref:N})]}),{ref:U,toggle:D,fullscreen:M}=(0,l.H)(),V=d.useRef(null),_=d.useCallback(e=>{V.current=e,U(e)},[U]);return(0,n.jsxs)("div",{className:"workspace",children:[(0,n.jsx)(g.X,{when:!!e.hasUnsavedChanges,message:"You have changes that may not be saved. Are you sure you want to leave?"}),(0,n.jsx)(u.A,{...e.controlBarProps}),(0,n.jsxs)("div",{className:"workspace-parent",children:[(0,n.jsx)(c.c,{...(r=(t=0!==e.sideBarProps.tabs.length)?40:"auto",{enable:t?y:A,minWidth:r,maxWidth:"50%",onResize:(e,t,r,n)=>{if(r.clientWidth<100){let e=f.current;if(null===e)throw Error("Reference to SideBar not found when resizing.");e.updateSize({width:40,height:"100%"}),L(!1)}else L(!0)},onResizeStop:(e,t,r,n)=>{let o=r.clientWidth;40!==o&&P(o)},ref:f,size:{width:t&&B?j:r,height:"100%"},defaultSize:{width:r,height:"100%"}}),children:(0,n.jsx)(w,{...e.sideBarProps,isExpanded:B,expandSideBar:()=>L(!0),collapseSideBar:()=>L(!1)})}),(0,n.jsxs)("div",{className:"row content-parent",ref:C,children:[(0,n.jsx)("div",{className:"editor-divider",ref:v}),!T&&(0,n.jsx)(c.c,{...{className:"resize-editor left-parent",enable:y,minWidth:0,onResize:(e,t,r)=>{let n=r.clientWidth/R*100;n>95?b.current.updateSize({width:"100%",height:"100%"}):n<5&&b.current.updateSize({width:"0%",height:"100%"})},ref:b,defaultSize:{width:"50%",height:"100%"},as:void 0},children:e.editorContainerProps?(0,n.jsx)(h.A,{...e.editorContainerProps}):(0,n.jsx)(p.A,{...e.mcqProps})}),(0,n.jsxs)("div",{className:"right-parent",ref:_,children:[!T&&(0,n.jsx)(i.m,{className:"fullscreen-button",content:M?"Exit fullscreen":"Fullscreen",portalContainer:V.current||void 0,children:(0,n.jsx)(s.$,{minimal:!0,icon:M?a.W.MINIMIZE:a.W.MAXIMIZE,onClick:D})}),void 0===e.sideContentIsResizeable||e.sideContentIsResizeable?O:I,(0,n.jsx)(m.A,{...e.replProps})]})]})]})]})}}}]);
//# sourceMappingURL=75167.ed6a738d.js.map