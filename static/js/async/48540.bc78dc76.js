"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["48540"],{2166:function(e,t,n){n.d(t,{X:()=>i});var r=n(96540),o=n(94894);function i({when:e,message:t,...n}){return!function(e,{beforeUnload:t}={}){let n=(0,o.KP)(r.useCallback(()=>"string"==typeof e&&!window.confirm(e),[e])),i=r.useRef(n.state);r.useEffect(()=>{"blocked"===n.state&&n.reset(),i.current=n.state},[n]),(0,o.K)(r.useCallback(n=>{t&&"string"==typeof e&&(n.preventDefault(),n.returnValue=e)},[e,t]),{capture:!0})}(!!e&&t,n),null}},57069:function(e,t,n){n.d(t,{i1:()=>o,qD:()=>i});var r=n(96540);let o={editorBinding:""},i=r.createContext(null)},8381:function(e,t,n){n.d(t,{A:()=>a});var r=n(74848),o=n(53991),i=n(53978),s=n.n(i);n(96540);let a=e=>{let t=(0,r.jsx)("div",{className:s()("ControlBar_editor",o.BUTTON_GROUP),children:e.editorButtons}),n=e.flowButtons&&(0,r.jsx)("div",{className:s()("ControlBar_flow",o.BUTTON_GROUP),children:e.flowButtons}),i=(0,r.jsx)("div",{className:s()("ControlBar_editingWorkspace",o.BUTTON_GROUP),children:e.editingWorkspaceButtons});return(0,r.jsxs)("div",{className:"ControlBar",children:[t,n,i]})}},20922:function(e,t,n){n.d(t,{g:()=>s});var r=n(74848),o=n(66314);n(96540);var i=n(64313);let s=({handleReplOutputClear:e})=>(0,r.jsx)(i.A,{label:"Clear",icon:o.W.REMOVE,onClick:e})},11175:function(e,t,n){n.d(t,{T:()=>c});var r=n(74848),o=n(92473),i=n(66314);n(96540);var s=n(73329),a=n(64313),l=n(48003);let c=({handleReplEval:e,isRunning:t})=>((0,l.i)(s.V)?t:!t)?(0,r.jsx)(o.m,{content:"...or press shift-enter in the REPL",children:(0,r.jsx)(a.A,{label:"Eval",icon:i.W.CODE,onClick:e})}):null},4535:function(e,t,n){n.d(t,{A:()=>H,U:()=>$});var r=n(74848),o=n(2543),i=n.n(o),s=n(96540);n(55208),n(1766),n(50447);var a=n(51851),l=n(70470);class c extends s.PureComponent{ShareAce;AceEditor;onChangeMethod;onCursorChange;onSelectionChange;constructor(e){super(e),this.AceEditor=s.createRef(),this.ShareAce=null,this.onChangeMethod=(e,t)=>{this.props.handleUpdateHasUnsavedChanges&&this.props.handleUpdateHasUnsavedChanges(!0),this.props.handleEditorValueChange(e),this.props.isRecording&&this.props.handleRecordInput({type:"codeDelta",time:this.props.getTimerDuration(),data:t});let n=this.AceEditor.current.editor.getSession().getAnnotations();this.props.isEditorAutorun&&0===n.length&&this.props.handleEditorEval()},this.onCursorChange=e=>{if(!this.props.isRecording)return;let t=e.getCursor();this.props.handleRecordInput({type:"cursorPositionChange",time:this.props.getTimerDuration(),data:t})},this.onSelectionChange=e=>{if(!this.props.isRecording)return;let t=e.getRange(),n=e.isBackwards();(0,o.isEqual)(t.start,t.end)||this.props.handleRecordInput({type:"selectionRangeData",time:this.props.getTimerDuration(),data:{range:t,isBackwards:n}})}}componentDidUpdate(e){let{codeDeltasToApply:t,inputToApply:n,newCursorPosition:r}=this.props;if(t&&t!==e.codeDeltasToApply&&(this.AceEditor.current.editor.session.getDocument().applyDeltas(t),this.AceEditor.current.editor.selection.clearSelection()),r&&r!==e.newCursorPosition&&this.moveCursor(r),n&&n!==e.inputToApply)switch(n.type){case"codeDelta":this.AceEditor.current.editor.session.getDocument().applyDelta(n.data),this.AceEditor.current.editor.selection.clearSelection();break;case"cursorPositionChange":this.moveCursor(n.data);break;case"selectionRangeData":{let{range:e,isBackwards:t}=n.data;this.AceEditor.current.editor.selection.setRange(e,t);break}case"keyboardCommand":"run"===n.data&&(this.props.handleEditorEval(),this.props.setDraggableReplPosition&&this.props.setDraggableReplPosition())}}getBreakpoints(){return this.AceEditor.current.editor.session.getBreakpoints().filter(e=>null!=e)}componentDidMount(){if(!this.AceEditor||!this.AceEditor.current||!this.AceEditor.current.editor)return;let e=this.AceEditor.current.editor,t=e.getSession();e.on("gutterclick",this.handleGutterClick),t.on("changeAnnotation",this.handleAnnotationChange(t));let{onFocus:n,onBlur:r}=this.props;n&&e.on("focus",t=>n(t,e)),r&&e.on("blur",t=>r(t,e))}componentWillUnmount(){null!==this.ShareAce&&this.ShareAce.WS.close(),this.ShareAce=null}getMarkers=()=>{let e=[];for(let t of this.props.highlightedLines)e.push({startRow:t[0],startCol:0,endRow:t[1],endCol:1,className:"myMarker",type:"fullLine"});return e};render(){return(0,r.jsx)(a.Z,{className:"Editor",children:(0,r.jsx)("div",{className:"row editor-react-ace",children:(0,r.jsx)(l.default,{className:"react-ace",commands:[{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:this.handleEvaluate},{name:"navigate",bindKey:{win:"Ctrl-B",mac:"Command-B"},exec:this.handleDeclarationNavigate}],editorProps:{$blockScrolling:1/0},ref:this.AceEditor,markers:this.getMarkers(),fontSize:17,height:"100%",highlightActiveLine:!1,mode:"javascript",onChange:this.onChangeMethod,onCursorChange:this.onCursorChange,onSelectionChange:this.onSelectionChange,readOnly:this.props.isEditorReadonly,theme:"source",value:this.props.editorValue,width:"100%",setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:this.props.editorBinding})})})}handleGutterClick=e=>{let t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;let n=e.getDocumentPosition().row,r=e.editor.session.getLine(n);void 0!==e.editor.session.getBreakpoints(n,0)[n]||0===r.length||r.includes("//")||r.includes("debugger;")?e.editor.session.clearBreakpoint(n):e.editor.session.setBreakpoint(n),e.stop(),this.props.handleEditorUpdateBreakpoints(e.editor.session.$breakpoints)};handleAnnotationChange=e=>()=>{let t=e.getAnnotations(),n=0;for(let e of t)"info"===e.type&&(e.type="error",e.className="ace_error",n++);0!==n&&e.setAnnotations(t)};handleEvaluate=()=>{this.props.handleEditorEval(),this.props.isRecording&&this.props.handleRecordInput({type:"keyboardCommand",time:this.props.getTimerDuration(),data:"run"})};moveCursor=e=>{this.AceEditor.current.editor.selection.clearSelection(),this.AceEditor.current.editor.moveCursorToPosition(e),this.AceEditor.current.editor.renderer.showCursor(),this.AceEditor.current.editor.renderer.scrollCursorIntoView(e,.5)};handleDeclarationNavigate=()=>{this.props.handleDeclarationNavigate(this.AceEditor.current.editor.getCursorPosition())}}var d=n(57069),u=n(80952);n(20047),n(67744),n(50117),n(61742);var h=n(50046),p=n(45760),g=n(96122);let m={evaluate:{win:"Shift-Enter",mac:"Shift-Enter"},navigate:{win:"Ctrl-B",mac:"Command-B"},refactor:{win:"Ctrl-M",mac:"Command-M"},highlightScope:{win:"Ctrl-Shift-H",mac:"Command-Shift-H"}};var f=n(57415),C=n(96249);n(15145),n(88659);var v=n(87603),b=n(43571),w=n(12850),E=n.n(w),x=n(61300),y=n(83509),k=n(81720),A=n(23574),S=n(80237),N=n(64088),R=n(41397);let j="hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(50+20*Math.random())+"%)";var P=n(23385);let B=["onSelectionChange","onCursorChange","onInput","onLoad","onValidate","onBeforeLoad","onChange","onSelection","onCopy","onPaste","onFocus","onBlur","onScroll"],L=e=>{let t=[];return e.forEach((e,n)=>{"ace_breakpoint"===e&&t.push(n)}),t},T=s.memo(e=>{let t=s.useRef(null),[n,o]=s.useState(void 0),i=s.useRef(e.handleEditorUpdateBreakpoints),c=s.useRef(e.handlePromptAutocomplete),d=t.current?.editor;void 0!==d&&n!==e.filePath&&(e.session.setMode(d.getSession().getMode()),d.setSession(e.session),void 0!==n&&d.focus(),o(e.filePath)),s.useEffect(()=>{i.current=e.handleEditorUpdateBreakpoints,c.current=e.handlePromptAutocomplete},[e.handleEditorUpdateBreakpoints,e.handlePromptAutocomplete]),s.useEffect(()=>{if(void 0!==d){let t;t=L(e.breakpoints),d.session.setBreakpoints(t)}},[d,e.breakpoints]),s.useEffect(()=>(/iPhone|iPad|iPod/.test(navigator.userAgent)&&(document.body.style.position="fixed",document.body.style.width="100%"),()=>{document.body.style.position="",document.body.style.width=""}),[]);let[f,C,v]=[e.sourceChapter||h.Chapter.SOURCE_1,e.sourceVariant||h.Variant.DEFAULT,e.externalLibraryName||P.O.NONE];(0,p.wC)(f,C,v),s.useLayoutEffect(()=>{let t,n;if(void 0===d)return;let r=d.getSession();if(d.on("gutterclick",(t=i.current,n=e.editorTabIndex,e=>{let r=e.domEvent.target;if(-1===r.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+r.getBoundingClientRect().left)return;let o=e.getDocumentPosition().row,i=e.editor.session.getLine(o);void 0!==e.editor.session.getBreakpoints()[o]||0===i.length||i.includes("//")||i.includes("debugger;")?e.editor.session.clearBreakpoint(o):e.editor.session.setBreakpoint(o,void 0),e.stop(),t(n,e.editor.session.getBreakpoints())})),r.on("changeAnnotation",()=>{let e=r.getAnnotations(),t=0;for(let n of e)"info"===n.type&&(n.type="error",n.className="ace_error",t++);0!==t&&r.setAnnotations(e)}),e.sourceChapter===h.Chapter.FULL_C||e.sourceChapter===h.Chapter.FULL_JAVA){let{textCompleter:e,keyWordCompleter:t,setCompleters:n}=(0,u.require)("ace/ext/language_tools");n([e,t])}else{let e;(0,u.require)("ace/ext/language_tools").setCompleters([(e=(...e)=>c.current(...e),{getCompletions:(t,n,r,o,i)=>{o&&/\d/.test(o.charAt(0))?i():e(r.row+1,r.column,i)}})])}},[d,e.sourceChapter,e.editorTabIndex]),s.useLayoutEffect(()=>{if(void 0===d)return;let t=e.newCursorPosition;t&&(d.selection.clearSelection(),d.moveCursorToPosition(t),d.renderer.showCursor(),d.renderer.scrollCursorIntoView(t,.5))},[d,e.newCursorPosition]);let{handleUpdateHasUnsavedChanges:b,handleEditorValueChange:w,isEditorAutorun:E,handleEditorEval:x}=e,y={evaluate:x},k={className:"react-ace",editorProps:{$blockScrolling:1/0},markers:s.useMemo(()=>e.highlightedLines.map(e=>({startRow:e[0],startCol:0,endRow:e[1],endCol:1,className:"myMarker",type:"fullLine"})),[e.highlightedLines]),fontSize:17,height:"100%",highlightActiveLine:!1,mode:(0,p.xU)(f,C,v),theme:"source",value:e.editorValue,width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:e.editorBinding},[A]=s.useState(e.hooks);if(A)for(let n of A)n(e,k,y,t);let{onChange:S}=k;return k.onChange=s.useCallback((n,r)=>{if(!t.current)return;((e,t)=>{let n=e=>e.length-e.trimStart().length,r=e=>0===e.trim().length,o=L(e.session.getBreakpoints()),i=[],s=t.start.row,a=t.start.column,l=t.end.row,c=t.lines.length-1;for(let d of o)switch(t.action){case"insert":{let t;t=!(d<s)&&(d!==s||n(e.session.getLine(d))>=a);let r=d+(t?c:0);i.push(r);break}case"remove":{let t;if(d<s)t=!1;else if(d>s&&d<l)break;else if(d===s){if(r(e.session.getLine(d)))break;t=!1}else if(d===l){if(r(e.session.getLine(d-c).substring(a)))break;t=!0}else t=!0;let n=d-(t?c:0);i.push(n)}}e.session.setBreakpoints(i)})(t.current.editor,r),w(e.editorTabIndex,n),i.current(e.editorTabIndex,t.current.editor.session.getBreakpoints()),b&&b(!0);let o=t.current.editor.getSession().getAnnotations();E&&0===o.length&&x(),void 0!==S&&S(n,r)},[w,e.editorTabIndex,b,E,S,x]),k.commands=(0,g.WP)(y).filter(([e,t])=>t).map(([e,t])=>({name:e,bindKey:m[e],exec:t})),B.forEach(t=>{let n=e[t];if(n){let e=k[t];e?k[t]=function(...t){e(...t),n(...t)}:k[t]=n}}),(0,u.require)("ace/ext/menu_tools/overlay_page").overlayPage=function(e,t,n){let r=document.createElement("div");r.id="overlay";let o=!1;function i(e){27===e.keyCode&&s()}function s(){r&&(document.removeEventListener("keydown",i),r?.parentNode?.removeChild(r),e&&e.focus(),r=null,n?.())}return r.style.cssText="margin: 0; padding: 0; position: fixed; top:0; bottom:0; left:0; right:0;z-index: 9990; "+(e?"background-color: rgba(0, 0, 0, 0.3);":""),r.addEventListener("click",function(e){o||s()}),document.addEventListener("keydown",i),t.addEventListener("click",function(e){e.stopPropagation()}),r.appendChild(t),document.body.appendChild(r),e&&e.blur(),{close:s,setIgnoreFocusOut:function(e){o=e,e&&(r.style.pointerEvents="none",t.style.pointerEvents="auto")}}},s.useEffect(()=>()=>{let e=document.getElementById("overlay");e&&e.parentNode?.removeChild(e)},[]),(0,r.jsx)(a.Z,{className:"Editor",children:(0,r.jsxs)("div",{className:"row editor-react-ace","data-testid":"Editor",id:"editor-react-ace",children:[(0,r.jsx)(l.default,{...k,ref:t}),(0,r.jsx)("div",{id:"ace-radar-view"})]})})}),I=[(e,t,n,r)=>{let o=s.useRef(e);o.current=e;let i=s.useRef([]),a=s.useCallback(()=>{setTimeout(()=>{if(!r.current)return;let e=r.current.editor,t=e.session,n=t.getValue(),s=o.current.sourceChapter,a=e.getCursorPosition();t&&t.bgTokenizer&&(i.current.forEach(e=>{t.removeMarker(e)}),i.current=(0,f.getAllOccurrencesInScope)(n,(0,f.createContext)(s),{line:a.row+1,column:a.column}).map(e=>new u.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)).map(e=>t.addMarker(e,"ace_variable_highlighting","text")))},10)},[r]),l=s.useCallback(()=>{if(!r.current)return;let e=r.current.editor,t=e.getValue(),n=o.current.sourceChapter,s=e.getCursorPosition(),a=(0,f.getScope)(t,(0,f.createContext)(n),{line:s.row+1,column:s.column});0!==a.length&&a.forEach(t=>{i.current.push(e.session.addMarker(new u.Range(t.start.line-1,t.start.column,t.end.line-1,t.end.column),"ace_selection","text"))})},[r]),{onChange:c,onCursorChange:d}=t;t.onChange=s.useCallback((e,t)=>{a(),c?.(e,t)},[a,c]),t.onCursorChange=s.useCallback((e,t)=>{a(),d?.(e,t)},[a,d]),n.highlightScope=l},(e,t,n,r)=>{let o=s.useRef(e);o.current=e,n.navigate=s.useCallback(()=>{let e=r.current.editor,t=e.selection.getCursor(),n=e.session.getTokenAt(t.row,t.column),{sourceChapter:i,handleDeclarationNavigate:s}=o.current;s(e.getCursorPosition());let a=e.selection.getCursor();if(a.row!==t.row||a.column!==t.column||(0,f.hasDeclaration)(e.getValue(),(0,f.createContext)(i),{line:a.row+1,column:a.column}))return;let l="https://docs.sourceacademy.org/",c=o.current.sourceVariant===h.Variant.DEFAULT?"":`_${o.current.sourceVariant}`,d=void 0===o.current.externalLibraryName?"NONE":o.current.externalLibraryName,u="ALL"===o.current.externalLibraryName?"External%20libraries":d;C.H.externalLibraries[d].some(e=>e.caption===(n&&n.value))?null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${l}${u}/global.html#${n.value}`):null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${l}source_${i}${c}/global.html#${n.value}`),null!==n&&/\bstorage.type\b/.test(n.type)&&window.open(`${l}source_${i}.pdf`)},[r])},(e,t,n,r)=>{let o=s.useRef(e);o.current=e;let{editorSessionId:i,sessionDetails:a}=e,{name:l,userId:c}=(0,N.wV)(),d=(0,y.wA)();s.useEffect(()=>{let e;if(!i||!a)return;let t={name:l||"Unnamed user",color:j,role:a.owner?x.CollabEditingAccess.OWNER:a.readOnly?x.CollabEditingAccess.VIEWER:x.CollabEditingAccess.EDITOR},n=r.current.editor,s=n.getSession(),c=new v.AceMultiCursorManager(s),u=new v.AceMultiSelectionManager(s),h=new v.AceRadarView("ace-radar-view",n);h.removeAllViews=()=>{for(let e in h._views)h.removeView(e)};let g=new(E())(a.docId,{user:t,WsUrl:(0,S.GP)(i,!0),namespace:"sa"}),m=e=>{if(void 0===e.connectedUsers)return;o.current.setUsers?.(e.connectedUsers);let n=Object.keys(g.usersPresence.localPresences)[0];e.connectedUsers[n].role!==t.role&&d(A.Ay.setSessionDetails("playground",{readOnly:e.connectedUsers[n].role===x.CollabEditingAccess.VIEWER}))},f=()=>{if(!a)return;let e=g.add(n,["contents"],{cursorManager:c,selectionManager:u,radarManager:h},{languageSelectHandler:e=>{let{chapter:t,variant:n}=(0,p.KN)(e);o.current.updateLanguageCallback?.((0,k.lr)(t,n),null)}});o.current.handleSetSharedbConnected(!0),d(A.Ay.setUpdateUserRoleCallback("playground",e.changeUserRole)),n.setReadOnly(a.readOnly),navigator.clipboard.writeText(i).then(()=>{(0,R.uT)(`You have joined a session as ${a.readOnly?"a viewer":"an editor"}. Copied to clipboard: ${i}`)}),m(e),e.usersPresence.on("receive",()=>m(e)),window.history.pushState({},document.title,"/playground/"+i)},C=(e,t)=>{console.error("ShareAce error",t),b.Cp(t)};g.on("ready",f),g.on("error",C);let w=g.WS;return e=setInterval(async()=>{if(null!==g)try{let t=await (0,S.mU)(i);null===t&&(clearInterval(e),w.close())}catch{w.reconnect()}},5e3),w.addEventListener("open",()=>{o.current.handleSetSharedbConnected(!0)}),w.addEventListener("close",()=>{o.current.handleSetSharedbConnected(!1)}),()=>{for(let t of(clearInterval(e),Object.values(g.connections)))t.unlisten();g.WS.close(),g.off("ready",f),g.off("error",C),n.setReadOnly(!1),c.removeAll(),u.removeAll(),h.removeAllViews(),window.location.href.includes("/playground")&&!window.location.href.endsWith("/playground")&&window.history.pushState({},document.title,"/playground")}},[i,a,r,c,l,d])},(e,t,n,r)=>{let{sourceChapter:o}=e;n.refactor=s.useCallback(()=>{let e=r.current.editor;if(!e)return;let t=e.getValue(),n=e.getCursorPosition(),i=(0,f.getAllOccurrencesInScope)(t,(0,f.createContext)(o),{line:n.row+1,column:n.column}),s=e.getSelection();i.map(e=>new u.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)).forEach(e=>s.addRange(e))},[r,o])}],O=e=>{let[t,n]=s.useState({}),o=(0,u.require)("ace/mode/javascript").Mode(),i=(0,u.createEditSession)(e.editorValue,o);return void 0!==e.filePath&&void 0===t[e.filePath]&&n({...t,[e.filePath]:i}),(0,r.jsx)(T,{...e,session:e.filePath?t[e.filePath]:i,hooks:I})};var U=n(28761),D=n(66314),M=n(53978),V=n.n(M);let _=({filePath:e,isActive:t,setActive:n,remove:o})=>(0,r.jsxs)(a.Z,{className:V()("editor-tab",{selected:t}),onClick:n,children:[e,(0,r.jsx)(U.I,{className:"remove-button",icon:D.W.SMALL_CROSS,onClick:e=>{e.stopPropagation(),o()}})]});var W=n(43627);let z=({baseFilePath:e,filePaths:t,activeEditorTabIndex:n,setActiveEditorTabIndex:o,removeEditorTabByIndex:i})=>{let s=(e=>{let t={},n=e.reduce((e,t)=>({...e,[t]:t.split(W.posix.sep).filter(e=>""!==e)}),{});for(let r=1;Object.keys(t).length<e.length;r++)Object.entries(Object.entries(n).reduce((e,[t,n])=>{let o="/"+n.slice(-r).join("/");return{...e,[o]:(e[o]??[]).concat(t)}},{})).forEach(([e,r])=>{if(r.length>1)return;let o=r[0];t[o]=e,delete n[o]});return e.map(e=>t[e])})(t.map(t=>t.replace(e,"")));return(0,r.jsx)("div",{className:"editor-tab-container",onWheel:e=>{e.currentTarget.scrollTo({left:e.currentTarget.scrollLeft+e.deltaY})},children:s.map((e,t)=>(0,r.jsx)(_,{filePath:e,isActive:t===n,setActive:()=>o(t),remove:()=>i(t)},t))})},$=(e,t)=>({editorTabIndex:t,editorValue:e.value,...i().pick(e,"filePath","highlightedLines","breakpoints","newCursorPosition")}),H=e=>{let[t]=s.useContext(d.qD),{baseFilePath:n,isFolderModeEnabled:o,activeEditorTabIndex:i,setActiveEditorTabIndex:a,removeEditorTabByIndex:l,editorTabs:u,...h}=e;h.editorBinding=t.editorBinding;let p="sourcecast"===h.editorVariant?e=>(0,r.jsx)(c,{...h,...e}):e=>(0,r.jsx)(O,{...h,...e});if(null===i)return(0,r.jsx)("div",{className:"editor-container",children:(0,r.jsx)("h1",{children:"Double click on a file in the sidebar to start editing!"})});let g=u.map(e=>e.filePath??"UNKNOWN");return(0,r.jsxs)("div",{className:"editor-container",children:[o&&(0,r.jsx)(z,{baseFilePath:n??"",activeEditorTabIndex:i,filePaths:g,setActiveEditorTabIndex:a,removeEditorTabByIndex:l}),p(u[i])]})}},48003:function(e,t,n){n.d(t,{i:()=>o});var r=n(64088);function o(e){let{flagName:t,defaultValue:n}=e;return(0,r.N4)(e=>e.featureFlags.modifiedFlags[t])??n}},87749:function(e,t,n){n.d(t,{A:()=>c});var r=n(74848),o=n(79642),i=n(31365),s=n(51851);n(96540);var a=n(48299),l=n(41397);let c=({mcq:e,handleMCQSubmit:t})=>{let n=e.choices.map((n,s)=>{let c=s===e.answer,d=void 0!==e.solution,u=s===e.solution;return(0,r.jsx)(o.$,{className:"mcq-option col-xs-12",active:c,intent:c&&d?u?i.J.SUCCESS:i.J.DANGER:i.J.NONE,onClick:()=>{if(c||t(s),!n.hint||!d)return;let e=(0,r.jsx)(a.A,{className:"markdown-notification",content:n.hint});u?(0,l.uT)(e,4e3):(0,l.JB)(e,4e3)},minimal:!0,children:(0,r.jsx)(a.A,{content:n.content})},s)});return(0,r.jsx)("div",{className:"MCQChooser row","data-testid":"MCQChooser",children:(0,r.jsx)(s.Z,{className:"mcq-content-parent col-xs-12 middle-xs",children:(0,r.jsx)("div",{className:"row mcq-options-parent between-xs",children:n})})})}},80594:function(e,t,n){n.d(t,{A:()=>S});var r=n(74848),o=n(29124),i=n(92473),s=n(79642),a=n(66314),l=n(92857),c=n(2576),d=n(96540),u=n(8381),h=n(4535),p=n(87749),g=n(2166),m=n(21078),f=n(51851),C=n(28761),v=n(53978),b=n.n(v);let w=({tabs:e,isExpanded:t,expandSideBar:n,collapseSideBar:o})=>{let[i,s]=d.useState(0);return 0===e.length?(0,r.jsx)("div",{className:"sidebar-container"}):(0,r.jsxs)("div",{className:"sidebar-container",children:[(0,r.jsx)("div",{className:"sidebar-tab-container",children:e.map((e,a)=>(0,r.jsxs)(f.Z,{className:b()("sidebar-tab",{selected:t&&i===a}),onClick:()=>{var e;i===(e=a)?t?o():n():(s(e),n())},children:[(0,r.jsx)(C.I,{className:"sidebar-tab-icon",icon:e.iconName,size:14}),e.label]},a))}),null!==i&&(0,r.jsx)(f.Z,{className:"sidebar-panel",children:e[i].body})]})};var E=n(14739),x=n(64088);let y={right:!0},k={bottom:!0},A={},S=e=>{let t,n,f=(0,d.useRef)(null),C=(0,d.useRef)(null),v=(0,d.useRef)(null),b=(0,d.useRef)(null),S=(0,d.useRef)(null),N=(0,d.useRef)(null),[R]=(0,x.Xl)(C),[j,P]=(0,d.useState)(200),[B,L]=(0,d.useState)(!0),T=(0,x.N4)(e=>e.vscode.isVscode);o.$.onlyShowFocusOnTabs(),(0,d.useEffect)(()=>{e.sideContentIsResizeable&&null===S.current&&(S.current=N.current.clientHeight)});let I=(0,r.jsx)(E.A,{...e.sideContentProps}),O=(0,r.jsxs)(c.c,{...{bounds:"parent",className:"resize-side-content",enable:k,onResize:(e,t,n)=>{S.current=N.current.clientHeight>S.current?N.current.clientHeight:S.current;let r=n.clientHeight,o=n.parentNode.clientHeight;r+S.current+2>o?N.current.style.display="none":N.current.style.display="initial"},onResizeStop:(t,n,r)=>e.handleSideContentHeightChange(r.clientHeight)},children:[I,(0,r.jsx)("div",{className:"side-content-divider",ref:N})]}),{ref:U,toggle:D,fullscreen:M}=(0,l.H)(),V=d.useRef(null),_=d.useCallback(e=>{V.current=e,U(e)},[U]);return(0,r.jsxs)("div",{className:"workspace",children:[(0,r.jsx)(g.X,{when:!!e.hasUnsavedChanges,message:"You have changes that may not be saved. Are you sure you want to leave?"}),(0,r.jsx)(u.A,{...e.controlBarProps}),(0,r.jsxs)("div",{className:"workspace-parent",children:[(0,r.jsx)(c.c,{...(n=(t=0!==e.sideBarProps.tabs.length)?40:"auto",{enable:t?y:A,minWidth:n,maxWidth:"50%",onResize:(e,t,n,r)=>{if(n.clientWidth<100){let e=f.current;if(null===e)throw Error("Reference to SideBar not found when resizing.");e.updateSize({width:40,height:"100%"}),L(!1)}else L(!0)},onResizeStop:(e,t,n,r)=>{let o=n.clientWidth;40!==o&&P(o)},ref:f,size:{width:t&&B?j:n,height:"100%"},defaultSize:{width:n,height:"100%"}}),children:(0,r.jsx)(w,{...e.sideBarProps,isExpanded:B,expandSideBar:()=>L(!0),collapseSideBar:()=>L(!1)})}),(0,r.jsxs)("div",{className:"row content-parent",ref:C,children:[(0,r.jsx)("div",{className:"editor-divider",ref:v}),!T&&(0,r.jsx)(c.c,{...{className:"resize-editor left-parent",enable:y,minWidth:0,onResize:(e,t,n)=>{let r=n.clientWidth/R*100;r>95?b.current.updateSize({width:"100%",height:"100%"}):r<5&&b.current.updateSize({width:"0%",height:"100%"})},ref:b,defaultSize:{width:"50%",height:"100%"},as:void 0},children:e.editorContainerProps?(0,r.jsx)(h.A,{...e.editorContainerProps}):(0,r.jsx)(p.A,{...e.mcqProps})}),(0,r.jsxs)("div",{className:"right-parent",ref:_,children:[!T&&(0,r.jsx)(i.m,{className:"fullscreen-button",content:M?"Exit fullscreen":"Fullscreen",portalContainer:V.current||void 0,children:(0,r.jsx)(s.$,{minimal:!0,icon:M?a.W.MINIMIZE:a.W.MAXIMIZE,onClick:D})}),void 0===e.sideContentIsResizeable||e.sideContentIsResizeable?O:I,(0,r.jsx)(m.A,{...e.replProps})]})]})]})]})}}}]);
//# sourceMappingURL=48540.bc78dc76.js.map