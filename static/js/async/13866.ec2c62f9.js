"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["13866"],{55441:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});let l=a(32099),r=a(38007),n=a(20142),s=a(30300),i=a(15863);function g(e,t,a,l){let r=a.getClass();if("java/lang/Object"===r.getName()){let e=a.getNativeField("staticFieldBase");return[e,e.getFieldFromVmIndex(Number(l))]}if(r.checkArray()){let e=r.getComponentClass(),t=(0,s.typeIndexScale)(e);return[a.getJsArray(),Math.floor(Number(l)/t)]}{let e=a.getFieldFromVMIndex(Number(l));return[a,e]}}let c=(e,t)=>{let a=g(e,t[0],t[1],t[2]),l=a[0],r=a[1];"number"==typeof r?e.returnStackFrame(l[r]):e.returnStackFrame(r.getValue())};function o(e,t,a,l,r,n){let s=g(e,t,a,l),i=s[0],c=s[1];return"number"==typeof c?i[c]===r?(i[c]=n,1):0:c.getValue()===r?(c.putValue(n),1):0}t.default={"registerNatives()V":e=>{e.returnStackFrame()},"arrayBaseOffset(Ljava/lang/Class;)I":e=>{e.returnStackFrame(0)},"objectFieldOffset(Ljava/lang/reflect/Field;)J":(e,t)=>{let a=t[1]._getField("slot","I","java/lang/reflect/Field");s.logger.warn("objectFieldOffset: returning slot instead of vmindex"),e.returnStackFrame64(BigInt(a))},"arrayIndexScale(Ljava/lang/Class;)I":(e,t)=>{let a=t[1].getNativeField("classRef");if(!a.checkArray())return void e.returnStackFrame(-1);let l=(0,s.typeIndexScale)(a.getComponentClass());e.returnStackFrame(l)},"addressSize()I":e=>{e.returnStackFrame(4)},"compareAndSwapObject(Ljava/lang/Object;JLjava/lang/Object;Ljava/lang/Object;)Z":(e,t)=>{let a=t[0],l=t[1],r=t[2],n=t[3],s=t[4];e.returnStackFrame(o(e,a,l,r,n,s))},"compareAndSwapInt(Ljava/lang/Object;JII)Z":(e,t)=>{let a=t[0],l=t[1],r=t[2],n=t[3],s=t[4];e.returnStackFrame(o(e,a,l,r,n,s))},"compareAndSwapLong(Ljava/lang/Object;JJJ)Z":(e,t)=>{let a=t[0],l=t[1],r=t[2],n=t[3],s=t[4];e.returnStackFrame(o(e,a,l,r,n,s))},"getIntVolatile(Ljava/lang/Object;J)I":c,"getObjectVolatile(Ljava/lang/Object;J)Ljava/lang/Object;":c,"putObjectVolatile(Ljava/lang/Object;JLjava/lang/Object;)V":(e,t)=>{let a=g(e,t[0],t[1],t[2]),l=a[0],r=a[1];if("number"==typeof r){l[r]=t[3],e.returnStackFrame();return}r.putValue(t[3]),e.returnStackFrame()},"allocateMemory(J)J":(e,t)=>{let a=t[1],l=e.getJVM().getUnsafeHeap().allocate(a);e.returnStackFrame64(l)},"putLong(JJ)V":(e,t)=>{let a=t[1],l=t[2];e.getJVM().getUnsafeHeap().get(a).setBigInt64(0,l),e.returnStackFrame()},"getByte(J)B":(e,t)=>{let a=t[1],l=e.getJVM().getUnsafeHeap().get(a);e.returnStackFrame(l.getInt8(0))},"freeMemory(J)V":(e,t)=>{let a=t[1];e.getJVM().getUnsafeHeap().free(a),e.returnStackFrame()},"defineAnonymousClass(Ljava/lang/Class;[B[Ljava/lang/Object;)Ljava/lang/Class;":(e,t)=>{let a=t[1],l=t[2],s=t[3],g=new DataView(new Uint8Array(l.getJsArray()).buffer),c=(0,i.default)(g),o=c.constantPool[c.thisClass],u=c.constantPool[o.nameIndex].value,d=a.getNativeField("classRef"),f=null,F=new r.ReferenceClassData(c,d.getLoader(),u,e=>f=e,s);if(f)return void e.throwNewException(f.exceptionCls,f.msg);if(!d.getAttribute("NestHost")){let e=n.ConstantClass.asResolved(d,new n.ConstantUtf8(d,d.getName()),d);F._addAttribute({hostClass:e,name:"NestHost"})}let j=F.getJavaObject();e.returnStackFrame(j)},"defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;":(e,t)=>{let a=t[2],r=t[5],n=r?r.getNativeField("loader"):e.getJVM().getBootstrapClassLoader(),s=new DataView(new Uint8Array(a.getJsArray()).buffer),g=(0,i.default)(s),c=n.defineClass(g);c.status===l.ResultType.ERROR?e.throwNewException(c.exceptionCls,c.msg):e.returnStackFrame(c.result.getJavaObject())},"ensureClassInitialized(Ljava/lang/Class;)V":(e,t)=>{let a=t[1].getNativeField("classRef").initialize(e);a.status===l.ResultType.SUCCESS?e.returnStackFrame():a.status===l.ResultType.ERROR&&e.throwNewException(a.exceptionCls,a.msg)},"shouldBeInitialized(Ljava/lang/Class;)Z":(e,t)=>{let a=t[1].getNativeField("classRef");e.returnStackFrame(+!!a.isInitialized())},"staticFieldOffset(Ljava/lang/reflect/Field;)J":(e,t)=>{let a=t[1],l=a._getField("slot","I","java/lang/reflect/Field"),r=a._getField("clazz","Ljava/lang/Class;","java/lang/reflect/Field").getNativeField("classRef"),n=r.getFieldFromSlot(l);e.returnStackFrame64(BigInt(n?r.getFieldVmIndex(n):-1))},"staticFieldBase(Ljava/lang/reflect/Field;)Ljava/lang/Object;":(e,t)=>{let a=t[1]._getField("clazz","Ljava/lang/Class;","java/lang/reflect/Field").getNativeField("classRef"),l=a.getLoader().getClass("java/lang/Object").result.instantiate();l.putNativeField("staticFieldBase",a),e.returnStackFrame(l)}}}}]);
//# sourceMappingURL=13866.ec2c62f9.js.map