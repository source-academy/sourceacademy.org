"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["22293"],{82356:function(e,n,t){t.r(n),t.d(n,{Component:()=>E,default:()=>k});var r=t(74848),l=t(92473),s=t(79642),c=t(66314),o=t(92857),u=t(96540),a=t(83509),i=t(64088),d=t(38585),f=t(46237),m=t(11804);let w=()=>{let e=(0,i.N4)(e=>e.session),n=(0,a.wA)(),t=(0,i.N4)(e=>e.achievement.achievements),w=(0,i.N4)(e=>e.achievement.goals),[E,k]=u.useState(!1),[h,g]=u.useState(!1),v=(0,i.N4)(e=>e.vscode.isVscode);u.useEffect(()=>{n(d.A.getAchievements()),n(d.A.getOwnGoals())},[n]),u.useEffect(()=>{let e=(0,m._o)();return()=>{e.isMounted=!1,e.stopAllSounds(),e.destroy(!0)}},[]),u.useEffect(()=>{m.Ay.getInstance().setAccountInfo({accessToken:e.accessToken,refreshToken:e.refreshToken,role:e.role,name:e.name}),m.Ay.getInstance().setAchievements(t),m.Ay.getInstance().setGoals(w)},[e,t,w]);let{ref:p,toggle:b,fullscreen:F}=(0,o.H)(),C=async()=>{b(),window.screen.orientation&&(F?window.screen.orientation.unlock():window.screen.orientation.lock("landscape"))},x=u.useRef(null),y=u.useCallback(e=>{x.current=e,p(e)},[p]),[A,S]=u.useState("0px"),[I,$]=u.useState("0px"),z=u.useCallback(()=>{if(x.current){let e=16/9,n=x.current.offsetHeight,t=x.current.offsetWidth,r=F||n*e>t?0:(t-n*e)/2;$(`${n/50}px`),S(`${r}px`)}},[F]),N=u.useCallback(()=>{setTimeout(z,100)},[z]);return u.useEffect(()=>(window.addEventListener("resize",N),N(),()=>window.removeEventListener("resize",N)),[N]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"game-display",ref:y,children:!v&&(0,r.jsx)(l.m,{className:"fullscreen-button",content:F?"Exit fullscreen":"Fullscreen",portalContainer:x.current||void 0,renderTarget:({isOpen:e,...n})=>(0,r.jsx)(s.$,{...n,minimal:!0,icon:F?c.W.MINIMIZE:c.W.MAXIMIZE,onClick:C,style:{left:A,padding:I}})})}),E&&(0,r.jsxs)("div",{className:"Horizontal",children:[(0,r.jsx)("button",{onClick:async()=>{await (0,f.i)({}),alert("Game cleared! Please refresh")},children:"Clear data"}),(0,r.jsx)("button",{onClick:()=>{g(!h),m.Ay.getInstance().toggleUsingMock()},children:h?"Use Game Chapters":"Use Mock Chapters"})]})]})},E=w;E.displayName="Game";let k=w},92857:function(e,n,t){t.d(n,{H:()=>o});var r=t(96540);function l(){let e=window.document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement}let s=["","webkit","moz","ms"];function c(e,{onFullScreen:n,onError:t}){return s.forEach(r=>{e.addEventListener(`${r}fullscreenchange`,n),e.addEventListener(`${r}fullscreenerror`,t)}),()=>{s.forEach(r=>{e.removeEventListener(`${r}fullscreenchange`,n),e.removeEventListener(`${r}fullscreenerror`,t)})}}function o(){let[e,n]=(0,r.useState)(!1),t=(0,r.useRef)(null),s=(0,r.useCallback)(e=>{n(e.target===l())},[n]),o=(0,r.useCallback)(e=>{n(!1),console.error(`[@mantine/hooks] use-fullscreen: Error attempting full-screen mode method: ${e} (${e.target})`)},[n]),u=(0,r.useCallback)(async()=>{if(l()){let e;await ("function"==typeof(e=window.document).exitFullscreen?e.exitFullscreen():"function"==typeof e.msExitFullscreen?e.msExitFullscreen():"function"==typeof e.webkitExitFullscreen?e.webkitExitFullscreen():"function"==typeof e.mozCancelFullScreen?e.mozCancelFullScreen():null)}else{var e;await (e=t.current,e.requestFullscreen?.()||e.msRequestFullscreen?.()||e.webkitEnterFullscreen?.()||e.webkitRequestFullscreen?.()||e.mozRequestFullscreen?.())}},[]),a=(0,r.useCallback)(e=>{null===e?t.current=window.document.documentElement:t.current=e},[]);return(0,r.useEffect)(()=>!t.current&&window.document?(t.current=window.document.documentElement,c(t.current,{onFullScreen:s,onError:o})):t.current?c(t.current,{onFullScreen:s,onError:o}):void 0,[t.current]),{ref:a,toggle:u,fullscreen:e}}}}]);
//# sourceMappingURL=22293.c83dd1e4.js.map