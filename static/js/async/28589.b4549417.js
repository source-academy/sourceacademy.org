"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([["28589"],{8300(e,a,t){t.d(a,{A:()=>l});let l={"form-container":"form-container-DtwhDJ",formContainer:"form-container-DtwhDJ","form-field":"form-field-_w6W1r",formField:"form-field-_w6W1r","student-form-field":"student-form-field-sykcj_",studentFormField:"student-form-field-sykcj_","input-container":"input-container-jKhPGm",inputContainer:"input-container-jKhPGm","form-label":"form-label-zSTWQC",formLabel:"form-label-zSTWQC","form-select":"form-select-TWaaom",formSelect:"form-select-TWaaom","form-footer":"form-footer-NJvnVK",formFooter:"form-footer-NJvnVK","form-field-row":"form-field-row-oMG_W9",formFieldRow:"form-field-row-oMG_W9"}},71836(e,a,t){t.r(a),t.d(a,{Component:()=>u,default:()=>h});var l=t(74848);t(10705);var s=t(79642),r=t(96540),n=t(94201),o=t(41344),m=t(94393),i=t(46807),d=t(12149),c=t(8300);let f=()=>{let{teamId:e}=(0,o.g)(),{courseId:a,students:t,assessmentOverviews:f,teamFormationOverviews:u}=(0,d.wV)(),h=(0,n.wA)(),[x,b]=(0,r.useState)(void 0),[p,v]=(0,r.useState)([[]]),j=(0,o.Zp)(),A=x?x.maxTeamSize:0;return(0,r.useEffect)(()=>{if(e){let a=u?.find(a=>a.teamId.toString()===e);a&&(b(f?.find(e=>e.id===a.assessmentId)),v(a.studentIds.map(e=>t?.filter(e=>a.studentIds.includes(e.userId)).map(e=>({label:e.name,value:e}))).slice(0,1)))}},[f,t,u,e]),(0,l.jsx)("div",{className:c.A["form-container"],children:(0,l.jsxs)(o.lV,{children:[(0,l.jsxs)("h2",{children:[e?"Edit":"Create New"," Team"]}),(0,l.jsxs)("div",{className:c.A["form-field-row"],children:[(0,l.jsxs)("div",{className:c.A["form-field"],children:[(0,l.jsx)("label",{htmlFor:"assessment",className:c.A["form-label"],children:"Assessment"}),(0,l.jsx)(m.A,{id:"assessment",options:f?.map(e=>({label:e.title,value:e})),value:x?{label:x.title,value:x}:null,onChange:e=>{var a;b(a=e?.value),A=a?.maxTeamSize},isSearchable:!0,className:c.A["form-select"]})]}),x&&(0,l.jsxs)("div",{className:c.A["form-field"],children:[(0,l.jsx)("label",{className:c.A["form-label"],children:"Max No. of Students:"}),(0,l.jsx)("input",{type:"text",className:c.A["form-select"],value:A,readOnly:!0,disabled:!0})]})]}),p.map((e,a)=>(0,l.jsxs)("div",{className:c.A["student-form-field"],children:[(0,l.jsx)("label",{htmlFor:`team-${a}`,className:c.A["form-label"],children:"Students"}),(0,l.jsxs)("div",{className:c.A["input-container"],children:[(0,l.jsx)(m.A,{id:`team-${a}`,options:t?.map(e=>({label:e.name,value:e})),isMulti:!0,isSearchable:!0,value:e,onChange:(e,t)=>{let l;(l=[...p])[a]=e,v(l)},className:c.A["form-select"]}),a>0&&(0,l.jsx)("button",{type:"button",onClick:()=>{let e;(e=[...p]).splice(a,1),v(e)},className:c.A["remove-button"],children:"Remove Team"})]})]},a)),e?null:(0,l.jsx)(s.$,{onClick:()=>{v([...p,[]])},intent:"primary",children:"Add Another Team"}),(0,l.jsxs)("div",{className:c.A["form-footer"],children:[(0,l.jsx)(s.$,{onClick:()=>{j(`/courses/${a}/teamformation`)},intent:"danger",children:"Back"}),(0,l.jsx)("div",{children:(0,l.jsx)(s.$,{onClick:()=>{x?p.some(e=>0===e.length)?alert("Each team must have at least one student."):p.some(e=>e.length>x.maxTeamSize)?alert("The number of students in a team cannot exceed the max team size."):(e?h(i.A.updateTeam(parseInt(e,10),x,p)):h(i.A.createTeam(x,p)),j(`/courses/${a}/teamformation`)):alert("Please select an assessment.")},intent:"success",children:"Submit"})})]})]})})},u=f;u.displayName="TeamFormationForm";let h=f}}]);
//# sourceMappingURL=28589.b4549417.js.map