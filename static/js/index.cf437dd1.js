(()=>{var e,t,a,i,s,n,r,o,l,d,c,u,h={93510:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i={draggable:"draggable-tuKs7A",clickable:"clickable-oLol_o"}},7203:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i={Application__main:"Application__main-FdQGjO",applicationMain:"Application__main-FdQGjO",WorkspaceParent:"WorkspaceParent-QJ2V4E",workspaceParent:"WorkspaceParent-QJ2V4E","bp6-tag":"bp6-tag-rL13Ap",bp6Tag:"bp6-tag-rL13Ap",badge:"badge-spGWMQ","bp6-overlay":"bp6-overlay-pigCzr",bp6Overlay:"bp6-overlay-pigCzr","bp6-popover-content":"bp6-popover-content-z2cOzW",bp6PopoverContent:"bp6-popover-content-z2cOzW","badge-tag":"badge-tag-_VS7zD",badgeTag:"badge-tag-_VS7zD","grading-overview-unfilterable-btns":"grading-overview-unfilterable-btns-opRvqf",gradingOverviewUnfilterableBtns:"grading-overview-unfilterable-btns-opRvqf","grading-overview-filterable-btns":"grading-overview-filterable-btns-dBjj2i",gradingOverviewFilterableBtns:"grading-overview-filterable-btns-dBjj2i","grading-badge":"grading-badge-VfDb9M",gradingBadge:"grading-badge-VfDb9M","grading-table-col-icons":"grading-table-col-icons-oxgIFP",gradingTableColIcons:"grading-table-col-icons-oxgIFP","grading-left-align":"grading-left-align-QRx3fq",gradingLeftAlign:"grading-left-align-QRx3fq","grading-default-headers":"grading-default-headers-FnJD_o",gradingDefaultHeaders:"grading-default-headers-FnJD_o","grading-table-header-individual":"grading-table-header-individual-rMo0p3",gradingTableHeaderIndividual:"grading-table-header-individual-rMo0p3","grading-table-rows":"grading-table-rows-tcwUSS",gradingTableRows:"grading-table-rows-tcwUSS","grading-filter-btn":"grading-filter-btn-hPYpCy",gradingFilterBtn:"grading-filter-btn-hPYpCy","grading-filter-btn-on":"grading-filter-btn-on-kGGjm1",gradingFilterBtnOn:"grading-filter-btn-on-kGGjm1","grading-def-cell":"grading-def-cell-qolE4X",gradingDefCell:"grading-def-cell-qolE4X","grading-def-cell-pointer":"grading-def-cell-pointer-x8_uV4",gradingDefCellPointer:"grading-def-cell-pointer-x8_uV4","grading-def-cell-selectable":"grading-def-cell-selectable-beKclP",gradingDefCellSelectable:"grading-def-cell-selectable-beKclP","grading-cell-align-left":"grading-cell-align-left-fUJg7W",gradingCellAlignLeft:"grading-cell-align-left-fUJg7W","grading-xp-cell":"grading-xp-cell-Qrq51E",gradingXpCell:"grading-xp-cell-Qrq51E"}},37025:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=37025,e.exports=t},3764:function(e,t,a){var i={"./java/lang/Object.js":["75838","70515"],"./java/lang/Thread.js":["68365","95934"],"./java/lang/reflect/Array.js":["46034","54479"],"./java/util/concurrent/atomic/AtomicLong.js":["71502","57315"],"./java/lang/Double.js":["37432","16385"],"./java/lang/Runtime.js":["95625","30226"],"./java/lang/Float.js":["60827","85480"],"./sun/misc/URLClassPath.js":["64171","13080"],"./sun/misc/Unsafe.js":["55441","13866"],"./sun/misc/VM.js":["51958","21403"],"./java/io/UnixFileSystem.js":["39300","1893"],"./java/lang/invoke/MethodHandleNatives.js":["25291","50136"],"./sun/reflect/NativeConstructorAccessorImpl.js":["16776","43537"],"./java/lang/System.js":["82476","53501"],"./java/io/FileOutputStream.js":["29810","29199"],"./sun/misc/Signal.js":["52875","74904"],"./java/io/FileInputStream.js":["20375","82172"],"./sun/reflect/Reflection.js":["4851","5072"],"./java/io/FileDescriptor.js":["89614","13827"],"./java/security/AccessController.js":["39385","14274"],"./sun/misc/Perf.js":["57136","20169"],"./java/lang/String.js":["85084","3373"],"./sun/reflect/NativeMethodAccessorImpl.js":["2349","12190"],"./java/lang/ClassLoader.js":["61994","92311"],"./java/lang/Class.js":["14337","61562"],"./java/lang/Throwable.js":["74205","51694"]};function s(e){if(!a.o(i,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],s=t[0];return a.e(t[1]).then(function(){return a(s)})}s.keys=()=>Object.keys(i),s.id=3764,e.exports=s},6518:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=6518,e.exports=t},64313:function(e,t,a){"use strict";a.d(t,{A:()=>l});var i=a(74848),s=a(31365),n=a(28761),r=a(79642);a(96540);let o={className:"",fullWidth:!1,iconOnRight:!1,intent:s.J.NONE,minimal:!0},l=({label:e="",icon:t,onClick:a,options:s={},isDisabled:l=!1})=>{let d={...o,...s},c=t&&(0,i.jsx)(n.I,{icon:t,color:d.iconColor}),u=l?r.A:r.$;return(0,i.jsx)(u,{disabled:l,fill:d.fullWidth,intent:d.intent,minimal:d.minimal,className:d.className,type:d.type,onClick:a,icon:!d.iconOnRight&&c,rightIcon:d.iconOnRight&&c,children:e})}},48299:function(e,t,a){"use strict";a.d(t,{A:()=>c});var i=a(74848),s=a(53991),n=a(53978),r=a.n(n),o=a(78354),l=a(96540),d=a(41552);let c=l.memo(e=>{let t=new d.Converter({tables:!0,simplifiedAutoLink:e.simplifiedAutoLink,strikethrough:e.strikethrough,tasklists:e.tasklists,openLinksInNewWindow:e.openLinksInNewWindow});return(0,i.jsx)("div",{className:r()(e.className?e.className:"md",s.RUNNING_TEXT),dangerouslySetInnerHTML:{__html:o.A.sanitize(t.makeHtml(e.content),{USE_PROFILES:{html:!0},ADD_ATTR:["target"]})}})})},31062:function(e,t,a){"use strict";a.d(t,{A:()=>x,j:()=>b});var i=a(74848),s=a(39798),n=a(79642),r=a(67849),o=a(11678),l=a(33114),d=a(96540),c=a(49631),u=a(41397);let h=l.l.ofType(),p=(e,{handleClick:t})=>(0,i.jsx)(s.D,{onClick:t,text:e.text},e.uuid),m=(e,t)=>t.text.toLowerCase().includes(e.toLowerCase()),g=l.l.ofType(),y=(e,{handleClick:t})=>(0,i.jsx)(s.D,{onClick:t,text:e.name||e.username},e.courseRegId),f=(e,t)=>[t.name,t.username,t.group].reduce((t,a)=>a?t||a.toLowerCase().includes(e.toLowerCase()):t,!1);function b(){(0,u.uT)("Goal updated")}let x=e=>{let{userState:t,hiddenState:a,studio:l,getUsers:b,updateGoalProgress:x}=e,v="Staff"===l?[...e.users].sort((e,t)=>null!=e.name&&null!=t.name?e.name.localeCompare(t.name):null==e.name?1:-1):e.users.filter(e=>e.group===l).sort((e,t)=>null!=e.name&&null!=t.name?e.name.localeCompare(t.name):null==e.name?1:-1);(0,d.useEffect)(()=>{b()},[b]);let T=(0,d.useContext)(c.xV).getAllGoals().filter(e=>"Manual"===e.meta.type),[A,w]=(0,d.useState)(void 0),[S,C]=t,[I,E]=(0,d.useState)(0),[_,j]=a;return(0,i.jsxs)("div",{className:"achievement-manual-editor",children:[(0,i.jsxs)("div",{className:"editor-section",children:[(0,i.jsx)("h3",{children:"User: "}),(0,i.jsx)(g,{filterable:!0,items:v,itemRenderer:y,itemPredicate:f,onItemSelect:C,noResults:(0,i.jsx)(s.D,{disabled:!0,text:"No matching user"}),children:(0,i.jsx)(n.$,{outlined:!0,text:S?S.name||S.username:"No User Selected",color:"White"})})]}),(0,i.jsxs)("div",{className:"editor-section",children:[(0,i.jsx)("h3",{children:"Goal: "}),(0,i.jsx)(h,{filterable:!0,items:T,itemRenderer:p,itemPredicate:m,onItemSelect:w,noResults:(0,i.jsx)(s.D,{disabled:!0,text:"No matching goal"}),children:(0,i.jsx)(n.$,{outlined:!0,text:A?A.text:"No Goal Selected",color:"White"})})]}),(0,i.jsxs)("div",{className:"editor-section",children:[(0,i.jsx)("h3",{children:"Count: "}),(0,i.jsx)(r.O,{value:I,min:0,allowNumericCharactersOnly:!0,minorStepSize:null,placeholder:"Count",onValueChange:E})]}),(0,i.jsx)("div",{className:"editor-section",children:(0,i.jsx)(n.$,{outlined:!0,text:"Update Goal",onClick:()=>{if(A&&S){let e={uuid:A.uuid,count:I<0?0:Math.floor(I),targetCount:A.targetCount,completed:I>=A.targetCount};x(S.courseRegId,e)}else A||(0,u.JB)("Goal not selected"),S||(0,u.JB)("User not selected")},intent:"primary"})}),(0,i.jsx)("div",{className:"editor-section",children:(0,i.jsx)(o.Sc,{checked:_,label:"View Hidden Achievements",onChange:()=>j(!_)})})]})}},86520:function(e,t,a){"use strict";a.d(t,{A:()=>c});var i=a(2543),s=a(40086),n=a(53455),r=a(41397),o=a(57142);class l{achievement;displayDeadline;xp;progressFrac;status;children;descendant;parents;constructor(e){const{deadline:t,prerequisiteUuids:a}=e;this.achievement=e,this.displayDeadline=t,this.xp=0,this.progressFrac=0,this.status="ACTIVE",this.children=new Set(a),this.descendant=new Set(a),this.parents=new Set}}class d{nodeList=new Map;goalList=new Map;textToUuid=new Map;titleToUuid=new Map;achievementsToDelete=[];goalsToDelete=[];constructor(e,t){this.nodeList=this.constructNodeList(e),this.goalList=this.constructGoalList(t),this.processNodes(),this.processGoals()}invalidGoal={uuid:"invalid",text:"invalid",achievementUuids:[],meta:{type:n.IW.MANUAL,targetCount:0},count:0,targetCount:0,completed:!1};invalidAchievement={uuid:"invalid",title:"invalid",xp:0,isVariableXp:!1,deadline:void 0,release:void 0,isTask:!1,position:0,prerequisiteUuids:[],goalUuids:[],cardBackground:"invalid",view:{coverImage:"invalid",description:"invalid",completionText:"invalid"}};getAllAchievements(){return[...this.nodeList.values()].map(e=>e.achievement)}getAllReleasedAchievements(){return[...this.nodeList.values()].filter(e=>"UNRELEASED"!==e.status).map(e=>e.achievement)}getAllCompletedAchievements(){return[...this.nodeList.values()].filter(e=>"COMPLETED"===e.status).map(e=>e.achievement)}getAllAchievementUuids(){return[...this.nodeList.keys()]}getAllGoals(){return[...this.goalList.values()]}getAllGoalUuids(){return[...this.goalList.keys()]}hasAchievement(e){return this.nodeList.has(e)}isPrerequisite(e){let t=this.nodeList.get(e);return!!t&&t.parents.size>0}getAchievement(e){let t=this.nodeList.get(e);return t?t.achievement:this.invalidAchievement}hasGoal(e){return this.goalList.has(e)}getGoal(e){return this.goalList.get(e)||this.invalidGoal}getGoalDefinition(e){return this.getGoal(e)}getGoalProgress(e){return this.getGoal(e)}getAchievementPositionByUuid(e){return this.getAchievement(e).position}getAchievementsToDelete(){return this.achievementsToDelete}getGoalsToDelete(){return this.goalsToDelete}resetToDelete(){this.achievementsToDelete=[],this.goalsToDelete=[]}getAchievementsByGoal(e){return this.getGoal(e).achievementUuids}listSortedAchievementUuids(){return this.getAllAchievements().sort((e,t)=>e.position-t.position).map(e=>e.uuid)}isInvalidGoal(e){return e===this.invalidGoal}isInvalidAchievement(e){return e===this.invalidAchievement}insertAchievement(e){let t=(0,s.A)();for(;this.nodeList.has(t);)t=(0,s.A)();return e.uuid=t,this.nodeList.set(t,new l(e)),this.processNodes(),this.normalizePositions(e.uuid,e.position),t}insertFakeAchievement(e){return this.nodeList.set(e.uuid,new l(e)),this.processNodes(),this.normalizePositions(e.uuid,e.position),e.uuid}insertGoalDefinition(e){let t=(0,s.A)();for(;this.goalList.has(t);)t=(0,s.A)();return e.uuid=t,this.goalList.set(t,{...e,...n.ss}),this.processGoals(),t}insertFakeGoalDefinition(e,t){return t?this.goalList.set(e.uuid,{...e,count:1,targetCount:1,completed:!0}):this.goalList.set(e.uuid,{...e,count:0,targetCount:1,completed:!1}),this.processGoals(),e.uuid}modifyAchievement(e){this.nodeList.set(e.uuid,new l(e)),this.processNodes(),this.normalizePositions(e.uuid,e.position)}modifyGoalDefinition(e){this.goalList.set(e.uuid,{...e,...n.ss}),this.processNodes(),this.processGoals()}modifyGoalProgress(e){let t=this.getGoal(e.uuid);if(this.isInvalidGoal(t))return;this.goalList.set(e.uuid,{...t,...e});let a=t.achievementUuids;for(let e in a){let t=this.nodeList.get(e);t&&(this.generateXp(t),this.generateProgressFrac(t),this.generateStatus(t))}}removeAchievement(e){this.nodeList.delete(e),this.nodeList.forEach((t,a)=>{let i;t.children.has(e)&&this.nodeList.set(a,(i=t.achievement.prerequisiteUuids.filter(t=>t!==e),t.achievement.prerequisiteUuids=i,new l(t.achievement)))}),this.achievementsToDelete.push(e),this.processNodes(),this.normalizePositions()}removeGoalDefinition(e){this.goalList.delete(e),this.nodeList.forEach(t=>{var a;let i;-1!==(i=(a=t).achievement.goalUuids.findIndex(t=>t===e))&&a.achievement.goalUuids.splice(i,1)}),this.goalsToDelete.push(e),this.processNodes(),this.processGoals()}listTaskUuids(){return this.getAllAchievements().filter(e=>e.isTask||this.isCompleted(e)).map(e=>e.uuid)}listSortedTaskUuids(){return this.getAllAchievements().filter(e=>e.isTask||this.isCompleted(e)).sort((e,t)=>e.position-t.position).map(e=>e.uuid)}listSortedReleasedTaskUuids(){return this.getAllReleasedAchievements().filter(e=>e.isTask||this.isCompleted(e)).sort((e,t)=>e.position-t.position).map(e=>e.uuid)}listAllSortedAchievementUuids(){return this.getAllAchievements().sort((e,t)=>e.position-t.position).map(e=>e.uuid)}isCompleted(e){let t=e.goalUuids.length,a=e.prerequisiteUuids.length;if(0===t&&0===a)return!1;for(let a=0;a<t;a++)if(!this.getGoal(e.goalUuids[a]).completed)return!1;for(let t=0;t<a;t++)if(!this.isCompleted(this.getAchievement(e.prerequisiteUuids[t])))return!1;return!0}listGoals(e){let{goalUuids:t}=this.getAchievement(e);return t.map(e=>this.getGoal(e))}listPrerequisiteGoals(e){let t=[];for(let a of this.getImmediateChildren(e)){let{goalUuids:e}=this.getAchievement(a);e.forEach(e=>t.push(e))}return t.map(e=>this.getGoal(e))}getUuidByText(e){return this.textToUuid.get(e)}getTextByUuid(e){return this.getGoal(e).text}getUuidByTitle(e){return this.titleToUuid.get(e)}getTitleByUuid(e){return this.getAchievement(e).title}getAchievementXp(e){let t=this.getAchievement(e);return t.isVariableXp?this.listGoals(t.uuid).reduce((e,t)=>e+t.count,0):t.xp}getTotalXp(){return this.getAllCompletedAchievements().reduce((e,t)=>e+this.getAchievementXp(t.uuid),0)}getProgressFrac(e){return this.nodeList.has(e)?this.nodeList.get(e).progressFrac:0}getStatus(e){return this.nodeList.has(e)?this.nodeList.get(e).status:"ACTIVE"}getDisplayDeadline(e){return this.nodeList.has(e)?this.nodeList.get(e).displayDeadline:void 0}isImmediateChild(e,t){return!!this.nodeList.has(e)&&this.nodeList.get(e).children.has(t)}getImmediateChildren(e){return this.nodeList.has(e)?this.nodeList.get(e).children:new Set}isDescendant(e,t){return!!this.nodeList.has(e)&&this.nodeList.get(e).descendant.has(t)}getDescendants(e){return this.nodeList.has(e)?this.nodeList.get(e).descendant:new Set}getDescendantXp(e){let t=this.getAchievementXp(e);return this.getDescendants(e).forEach(e=>{this.isCompleted(this.getAchievement(e))&&(t+=this.getAchievementXp(e))}),t}listAvailablePrerequisiteUuids(e){return this.getAllAchievementUuids().filter(t=>t!==e&&!this.isDescendant(e,t)&&!this.isDescendant(t,e))}processNodes(){this.titleToUuid=new Map,this.nodeList.forEach(e=>{let{title:t,uuid:a}=e.achievement;this.titleToUuid.set(t,a),e.achievement.prerequisiteUuids=(0,i.uniq)(e.achievement.prerequisiteUuids),e.achievement.goalUuids=(0,i.uniq)(e.achievement.goalUuids),this.generateParentReference(e),this.generateDescendant(e),this.generateDisplayDeadline(e),this.generateXp(e),this.generateProgressFrac(e),this.generateStatus(e)})}processGoals(){this.textToUuid=new Map,this.goalList.forEach(e=>{let{text:t,uuid:a}=e;this.textToUuid.set(t,a),e.achievementUuids=(0,i.uniq)(e.achievementUuids)})}constructNodeList(e){let t=new Map;return e.forEach(e=>t.set(e.uuid,new l((0,i.cloneDeep)(e)))),t}constructGoalList(e){let t=new Map;return e.forEach(e=>t.set(e.uuid,(0,i.cloneDeep)(e))),t}generateParentReference(e){for(let t of e.children)this.nodeList.get(t)?.parents.add(e.achievement.uuid)}generateDescendant(e){for(let t of e.descendant){if(t===e.achievement.uuid){let{title:t}=e.achievement;(0,r.mn)(`Circular dependency detected in achievement ${t}`,3e4)}for(let a of this.getDescendants(t))e.descendant.add(a)}}generateDisplayDeadline(e){let t=[];for(let a of e.descendant){let e=this.getAchievement(a).deadline;t.push(e)}e.displayDeadline=t.reduce((e,t)=>void 0===t||(0,o._d)(t)?e:void 0===e||(0,o._d)(e)||t<e?t:e,e.displayDeadline)}generateXp(e){let{goalUuids:t,isVariableXp:a}=e.achievement;e.xp=t.reduce((e,t)=>e&&this.getGoal(t).completed,!0)?a?t.reduce((e,t)=>e+this.getGoal(t).count,0):e.achievement.xp:0}generateProgressFrac(e){let{goalUuids:t}=e.achievement;if(0===t.length)e.progressFrac=0;else{let a=t.reduce((e,t)=>e+this.getGoal(t).count,0),i=t.reduce((e,t)=>e+this.getGoal(t).targetCount,0);e.progressFrac=Math.min(0===i?0:a/i,1)}}generateStatus(e){let t=this.isCompleted(e.achievement),a=(0,o.OZ)(e.achievement.release),i=!(0,o._d)(e.displayDeadline);e.status=t?"COMPLETED":a?i?"ACTIVE":"EXPIRED":"UNRELEASED"}normalizePositions(e,t){let a=1;if(this.getAllAchievements().filter(e=>e.isTask).filter(e=>e.position>=0).sort((e,t)=>e.position-t.position).forEach(e=>e.position=a++),this.getAllAchievements().filter(e=>!e.isTask).forEach(e=>e.position=0),e&&t&&0!==t){let a=this.getAchievement(e),i=a.position;if(i!==t){let e=this.getAllAchievements().find(e=>e.position===t);e&&(e.position=i,a.position=t)}}}}let c=d},57142:function(e,t,a){"use strict";a.d(t,{CC:()=>c,GG:()=>l,It:()=>h,N6:()=>u,OZ:()=>o,Zw:()=>d,_d:()=>r});var i=a(74353),s=a.n(i);let n=new Date,r=e=>void 0!==e&&e<=n,o=e=>void 0===e||e<=n,l=(e,t)=>{if(void 0===e&&void 0===t)return!0;let a=new Date,i=100*a.getHours()+a.getMinutes(),s=void 0===e?void 0:100*e.getHours()+e.getMinutes(),n=void 0===t?void 0:100*t.getHours()+t.getMinutes();return void 0===s?i<=n:void 0===n?i>=s:s>=n?i<=n||i>=s:i<=n&&i>=s},d=e=>void 0===e?0:e.getTime()-n.getTime(),c=e=>void 0===e?"":s()(e).format("D MMMM YYYY HH:mm"),u=e=>void 0===e?"":s()(e).format("HH:mm"),h=e=>{if(void 0===e)return"Unlimited";if(r(e))return"Expired";let t=s()(),a=Math.ceil(s()(e).diff(t,"weeks",!0)),i=Math.ceil(s()(e).diff(t,"days",!0)),n=Math.ceil(s()(e).diff(t,"hours",!0));return a>1?a+" Weeks":i>1?i+" Days":n>1?n+" Hours":"1 Hour"}},81720:function(e,t,a){"use strict";a.d(t,{BM:()=>P,Fc:()=>m,HR:()=>V,HU:()=>f,Jm:()=>R,Kd:()=>E,Kl:()=>C,Kn:()=>U,Ko:()=>J,L5:()=>x,MP:()=>M,O9:()=>F,Pu:()=>G,QR:()=>W,Qm:()=>z,T_:()=>L,Xh:()=>h,Ye:()=>N,Zg:()=>D,eo:()=>w,f_:()=>T,gO:()=>p,hM:()=>A,h_:()=>S,iH:()=>b,js:()=>Y,lU:()=>y,lr:()=>j,n6:()=>X,pL:()=>k,pb:()=>O,ph:()=>I,qq:()=>v,sQ:()=>H,tu:()=>B});var i,s,n=a(50046),r=a(7146),o=a(98876),l=a(66048),d=a(15145),c=a(33972),u=a(23385),h=((i={}).Student="student",i.Staff="staff",i.Admin="admin",i),p=((s={}).Standard="member",s.Moderator="moderator",s.Admin="admin",s);let m=["JavaScript","Scheme","Python","Java","C"],g=new Map([[n.Variant.TYPED,"Typed"],[n.Variant.WASM,"WebAssembly"],[n.Variant.NATIVE,"Native"],[n.Variant.EXPLICIT_CONTROL,"Explicit-Control"]]),y={chapter:n.Chapter.FULL_JS,variant:n.Variant.DEFAULT,displayName:"full JavaScript",mainLanguage:"JavaScript",supports:{dataVisualizer:!0,repl:!0}},f={chapter:n.Chapter.FULL_TS,variant:n.Variant.DEFAULT,displayName:"full TypeScript",mainLanguage:"JavaScript",supports:{dataVisualizer:!0,repl:!0}},b={chapter:n.Chapter.HTML,variant:n.Variant.DEFAULT,displayName:"HTML",mainLanguage:"JavaScript",supports:{}},x=[{chapter:n.Chapter.SCHEME_1,variant:n.Variant.EXPLICIT_CONTROL,displayName:"Scheme \xa71"},{chapter:n.Chapter.SCHEME_2,variant:n.Variant.EXPLICIT_CONTROL,displayName:"Scheme \xa72"},{chapter:n.Chapter.SCHEME_3,variant:n.Variant.EXPLICIT_CONTROL,displayName:"Scheme \xa73"},{chapter:n.Chapter.SCHEME_4,variant:n.Variant.EXPLICIT_CONTROL,displayName:"Scheme \xa74"},{chapter:n.Chapter.FULL_SCHEME,variant:n.Variant.EXPLICIT_CONTROL,displayName:"Full Scheme"}].map(e=>({...e,mainLanguage:"Scheme",supports:{repl:!0,cseMachine:!0}}));function v(e){return[n.Chapter.SCHEME_1,n.Chapter.SCHEME_2,n.Chapter.SCHEME_3,n.Chapter.SCHEME_4,n.Chapter.FULL_SCHEME].includes(e)}function T(e){return e==n.Variant.EXPLICIT_CONTROL}let A=[{chapter:n.Chapter.PYTHON_1,variant:n.Variant.DEFAULT,displayName:"Python \xa71"}].map(e=>({...e,mainLanguage:"Python",supports:{repl:!0}})),w=[{chapter:n.Chapter.FULL_JAVA,variant:n.Variant.DEFAULT,displayName:"Java",mainLanguage:"Java",supports:{cseMachine:!0}}],S=[{chapter:n.Chapter.FULL_C,variant:n.Variant.DEFAULT,displayName:"C",mainLanguage:"C",supports:{}}],C=(e,t=n.Variant.DEFAULT)=>j(e,t).displayName,I=[{chapter:n.Chapter.SOURCE_1,variant:n.Variant.DEFAULT},{chapter:n.Chapter.SOURCE_1,variant:n.Variant.TYPED},{chapter:n.Chapter.SOURCE_1,variant:n.Variant.WASM},{chapter:n.Chapter.SOURCE_1,variant:n.Variant.NATIVE},{chapter:n.Chapter.SOURCE_2,variant:n.Variant.DEFAULT},{chapter:n.Chapter.SOURCE_2,variant:n.Variant.TYPED},{chapter:n.Chapter.SOURCE_2,variant:n.Variant.NATIVE},{chapter:n.Chapter.SOURCE_3,variant:n.Variant.DEFAULT},{chapter:n.Chapter.SOURCE_3,variant:n.Variant.TYPED},{chapter:n.Chapter.SOURCE_3,variant:n.Variant.NATIVE},{chapter:n.Chapter.SOURCE_4,variant:n.Variant.DEFAULT},{chapter:n.Chapter.SOURCE_4,variant:n.Variant.TYPED},{chapter:n.Chapter.SOURCE_4,variant:n.Variant.NATIVE},{chapter:n.Chapter.SOURCE_4,variant:n.Variant.EXPLICIT_CONTROL}].map(e=>{let{chapter:t,variant:a}=e,i={};return i.dataVisualizer=t>=n.Chapter.SOURCE_2,i.substVisualizer=t<=n.Chapter.SOURCE_2&&(a===n.Variant.DEFAULT||a===n.Variant.NATIVE||a===n.Variant.TYPED),i.cseMachine=t>=n.Chapter.SOURCE_3,i.multiFile=t>=n.Chapter.SOURCE_2,i.repl=!0,{...e,displayName:`Source \xa7${t} ${g.get(a)??""}`.trim(),mainLanguage:"JavaScript",supports:i}}),E=e=>[n.Chapter.SOURCE_1,n.Chapter.SOURCE_2,n.Chapter.SOURCE_3,n.Chapter.SOURCE_4].includes(e),_=[...I,y,f,b,...x,...A,...w,...S],j=(e,t=n.Variant.DEFAULT)=>{let a=_.find(a=>a.chapter===e&&a.variant===t);if(!a)throw Error(`Language config not found for chapter ${e} variant ${t}`);return a},k=null,N={gradingSummary:{cols:[],rows:[]}},P={achievements:[],goals:[],users:[],assessmentOverviews:[]},R={paginatedUserXp:{rows:[],userCount:0},contestScore:[],contestPopularVote:[],code:"",contests:[],initialRun:{}},L={githubSaveInfo:{repoName:"",filePath:""},languageConfig:(()=>{let e=_.find(e=>e.chapter===d.A.defaultSourceChapter&&e.variant===d.A.defaultSourceVariant);if(!e)throw Error("Cannot find language config to match default chapter and variant");return e})()},M="// Type your program in here!",O=e=>({autogradingResults:[],context:(0,c.q6)(d.A.defaultSourceChapter,[],e,d.A.defaultSourceVariant),isFolderModeEnabled:!1,activeEditorTabIndex:0,editorTabs:[{filePath:["playground","sicp"].includes(e)?D(e):void 0,value:["playground","sourcecast"].includes(e)?M:"",highlightedLines:[],breakpoints:[]}],programPrependValue:"",programPostpendValue:"",editorSessionId:"",sessionDetails:null,isEditorReadonly:!1,editorTestcases:[],externalLibrary:u.O.NONE,execTime:1e3,output:[],replHistory:{browseIndex:null,records:[],originalValue:""},replValue:"",hasTokenCounter:!1,tokenCount:0,customNotification:"",sharedbConnected:!1,stepLimit:1e3,globals:[],isEditorAutorun:!1,isRunning:!1,isDebugging:!1,enableDebugging:!0,debuggerContext:{},lastDebuggerResult:void 0,files:{},updateUserRoleCallback:()=>{}}),D=e=>`${o.V[e]}/program.js`,U={assessment:{...O("assessment"),currentAssessment:void 0,currentQuestion:void 0,hasUnsavedChanges:!1},grading:{...O("grading"),submissionsTableFilters:{columnFilters:[]},currentSubmission:void 0,currentQuestion:void 0,hasUnsavedChanges:!1,columnVisiblity:[],requestCounter:0,allColsSortStates:{currentState:r.IP,sortBy:""},hasLoadedBefore:!1},playground:{...O("playground"),usingSubst:!1,usingCse:!1,updateCse:!0,usingUpload:!1,currentStep:-1,stepsTotal:0,breakpointSteps:[],changepointSteps:[],activeEditorTabIndex:0,editorTabs:[{filePath:D("playground"),value:M,highlightedLines:[],breakpoints:[]}]},sourcecast:{...O("sourcecast"),audioUrl:"",codeDeltasToApply:null,currentPlayerTime:0,description:null,inputToApply:null,playbackData:{init:{editorValue:"",chapter:n.Chapter.SOURCE_1,externalLibrary:u.O.NONE},inputs:[]},playbackDuration:0,playbackStatus:"paused",sourcecastIndex:null,title:null,uid:null},sourcereel:{...O("sourcereel"),playbackData:{init:{editorValue:"",chapter:n.Chapter.SOURCE_1,externalLibrary:u.O.NONE},inputs:[]},recordingStatus:"notStarted",timeElapsedBeforePause:0,timeResumed:0},sicp:{...O("sicp"),usingSubst:!1,usingCse:!1,updateCse:!0,usingUpload:!1,currentStep:-1,stepsTotal:0,breakpointSteps:[],changepointSteps:[],activeEditorTabIndex:0,editorTabs:[{filePath:D("sicp"),value:M,highlightedLines:[],breakpoints:[]}]},stories:{...O("stories")}},F={courses:[],group:null,gameState:{completed_quests:[],collectibles:{}},xp:0,story:{story:"",playStory:!1},assessments:{},assessmentOverviews:void 0,agreedToResearch:void 0,sessionId:Date.now(),githubOctokitObject:{octokit:void 0},gradingOverviews:void 0,students:void 0,teamFormationOverviews:void 0,gradings:{},notifications:[]},G={storyList:[],currentStoryId:null,currentStory:null,envs:{},storiesUsers:[]},z=(e,t,a)=>({context:(0,c.q6)(t,[],e,a),execTime:1e3,isRunning:!1,output:[],stepLimit:1e3,globals:[],usingSubst:!1,debuggerContext:{}}),B={inBrowserFileSystem:null},H={dynamicTabs:[],alerts:[]},V={assessment:H,grading:H,playground:H,sicp:H,sourcecast:H,sourcereel:H,stories:{}},J={isVscode:!1},Y={selectedLanguageId:null,selectedEvaluatorId:null,languages:[],languageMap:{}},W={plugins:[],pluginMap:{}},X={router:k,achievement:P,leaderboard:R,dashboard:N,playground:L,session:F,stories:G,workspaces:U,featureFlags:l.b0,fileSystem:B,sideContent:V,vscode:J,languageDirectory:Y,pluginDirectory:W}},82378:function(e,t,a){"use strict";a.d(t,{Ay:()=>r,C9:()=>n,je:()=>s});let i=(0,a(86930).Ej)("commons",{logOut:()=>({}),updateReactRouter:e=>e}),{logOut:s,updateReactRouter:n}=i,r=i},82134:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("interpreter",{handleConsoleLog:(e,...t)=>({logString:t,workspaceLocation:e}),evalInterpreterSuccess:(e,t)=>({type:"result",value:e,workspaceLocation:t}),evalTestcaseSuccess:(e,t,a)=>({type:"result",value:e,workspaceLocation:t,index:a}),evalTestcaseFailure:(e,t,a)=>({type:"errors",value:e,workspaceLocation:t,index:a}),evalInterpreterError:(e,t)=>({type:"errors",errors:e,workspaceLocation:t}),beginInterruptExecution:e=>({workspaceLocation:e}),endInterruptExecution:e=>({workspaceLocation:e}),beginDebuggerPause:e=>({workspaceLocation:e}),endDebuggerPause:e=>({workspaceLocation:e}),debuggerResume:e=>({workspaceLocation:e}),debuggerReset:e=>({workspaceLocation:e})})},39572:function(e,t,a){"use strict";a.d(t,{A:()=>o});var i=a(86930),s=a(74971),n=a(7146),r=a(22326);let o=(0,i.Ej)("session",{fetchAuth:(e,t)=>({code:e,providerId:t}),handleSamlRedirect:e=>({jwtCookie:e}),fetchUserAndCourse:()=>({}),fetchCourseConfig:()=>({}),fetchAssessment:(e,t)=>({assessmentId:e,assessmentPassword:t}),fetchAssessmentAdmin:(e,t)=>({assessmentId:e,courseRegId:t}),fetchAssessmentOverviews:()=>({}),fetchTotalXp:()=>({}),fetchTotalXpAdmin:e=>e,fetchGrading:e=>e,fetchGradingOverviews:(e=!0,t=(0,s.lu)(!1),a=(0,s.MY)(0,10),i={},r={currentState:n.IP,sortBy:""})=>({filterToGroup:e,publishedFilter:t,pageParams:a,filterParams:i,allColsSortStates:r}),fetchTeamFormationOverviews:(e=!0)=>e,fetchStudents:()=>({}),login:e=>e,logoutGoogle:()=>({}),loginGitHub:()=>({}),logoutGitHub:()=>({}),setTokens:({accessToken:e,refreshToken:t})=>({accessToken:e,refreshToken:t}),setUser:e=>e,setCourseConfiguration:e=>e,setCourseRegistration:e=>e,setAssessmentConfigurations:e=>e,setAdminPanelCourseRegistrations:e=>e,setGoogleUser:e=>e,setGitHubOctokitObject:e=>(0,r.g)(e||""),setGitHubAccessToken:e=>e,removeGitHubOctokitObjectAndAccessToken:()=>({}),submitAnswer:(e,t)=>({id:e,answer:t}),checkAnswerLastModifiedAt:(e,t,a)=>({id:e,lastModifiedAt:t,saveAnswer:a}),submitAssessment:e=>e,submitGrading:(e,t,a=0,i)=>({submissionId:e,questionId:t,xpAdjustment:a,comments:i}),submitGradingAndContinue:(e,t,a=0,i)=>({submissionId:e,questionId:t,xpAdjustment:a,comments:i}),reautogradeSubmission:e=>e,reautogradeAnswer:(e,t)=>({submissionId:e,questionId:t}),updateAssessmentOverviews:e=>e,updateTotalXp:e=>e,updateAssessment:e=>e,updateGradingOverviews:e=>e,fetchTeamFormationOverview:e=>({assessmentId:e}),createTeam:(e,t)=>({assessment:e,teams:t}),updateTeam:(e,t,a)=>({teamId:e,assessment:t,teams:a}),deleteTeam:e=>({teamId:e}),bulkUploadTeam:(e,t,a)=>({assessment:e,file:t,students:a}),updateTeamFormationOverviews:e=>e,updateTeamFormationOverview:e=>e,updateStudents:e=>e,updateGrading:(e,t)=>({submissionId:e,grading:t}),unsubmitSubmission:e=>({submissionId:e}),publishGrading:e=>({submissionId:e}),unpublishGrading:e=>({submissionId:e}),fetchNotifications:()=>({}),acknowledgeNotifications:e=>({withFilter:e}),updateNotifications:e=>e,updateLatestViewedCourse:e=>({courseId:e}),updateCourseConfig:e=>e,fetchAssessmentConfigs:()=>({}),updateAssessmentConfigs:e=>e,deleteAssessmentConfig:e=>e,fetchAdminPanelCourseRegistrations:()=>({}),updateUserRole:(e,t)=>({courseRegId:e,role:t}),deleteUserCourseRegistration:e=>({courseRegId:e}),updateCourseResearchAgreement:e=>({agreedToResearch:e}),updateStoriesUserRole:(e,t)=>({userId:e,role:t}),deleteStoriesUserUserGroups:e=>({userId:e})})},8702:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i={...(0,a(86930).Ej)("vscode",{setVscode:0})}},23385:function(e,t,a){"use strict";a.d(t,{O:()=>s,r:()=>n});var i,s=((i={}).NONE="NONE",i.SOUNDS="SOUNDS",i.EV3="EV3",i);let n=new Map([["NONE",[]],["SOUNDS",[]]])},88462:function(e,t,a){"use strict";a.d(t,{Kh:()=>l,Ru:()=>s,S2:()=>r,VK:()=>d,bM:()=>o,yI:()=>n});var i=a(50046);let s=()=>({chapter:-1,external:{name:"NONE",symbols:[]},globals:[]}),n=()=>({type:"Missions",isManuallyGraded:!0,closeAt:"2100-12-01T00:00+08",coverImage:"https://fakeimg.pl/300/",id:-1,isPublished:!1,maxXp:0,earlySubmissionXp:0,openAt:"2000-01-01T00:00+08",title:"Insert title here",reading:"",shortSummary:"Insert short summary here",status:"not_attempted",story:"mission",isGradingPublished:!1,xp:0,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0}),r=()=>({autogradingResults:[],answer:"// [Marking Scheme]\n// 1 mark for correct answer",lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"Enter content here",id:0,library:s(),graderLibrary:s(),prepend:"",solutionTemplate:"//This is a mock solution template",postpend:"",testcases:[],testcasesPrivate:[],type:"programming",xp:0,maxXp:0,blocking:!1}),o=()=>({type:"public",answer:"",score:0,program:""}),l=()=>({answer:3,content:"This is a mock MCQ question",choices:[{content:"A",hint:null},{content:"B",hint:null},{content:"C",hint:null},{content:"D",hint:null}],id:2,library:s(),graderLibrary:s(),type:"mcq",solution:0,xp:0,maxXp:0,blocking:!1}),d=()=>({type:"Missions",globalDeployment:{chapter:i.Chapter.SOURCE_1,external:{name:"NONE",symbols:[]},globals:[]},graderDeployment:s(),id:-1,longSummary:"Insert mission briefing here",missionPDF:"www.google.com",questions:[r()],title:"Insert title here"})},23574:function(e,t,a){"use strict";a.d(t,{$Z:()=>n,Ay:()=>l,LG:()=>s,PU:()=>r,UW:()=>o});let i=(0,a(86930).Ej)("collabEditing",{setEditorSessionId:(e,t)=>({workspaceLocation:e,editorSessionId:t}),setSessionDetails:(e,t)=>({workspaceLocation:e,sessionDetails:t}),setSharedbConnected:(e,t)=>({workspaceLocation:e,connected:t}),setUpdateUserRoleCallback:(e,t)=>({workspaceLocation:e,updateUserRoleCallback:t})}),{setEditorSessionId:s,setSessionDetails:n,setSharedbConnected:r,setUpdateUserRoleCallback:o}=i,l=i},80237:function(e,t,a){"use strict";a.d(t,{GP:()=>n,Iu:()=>d,lX:()=>l,mU:()=>o,tT:()=>r});var i=a(15145);let s=Object.freeze({"http:":"ws:","https:":"wss:"});function n(e,t){let a=new URL(e,i.A.sharedbBackendUrl);return t&&Object.keys(s).includes(a.protocol)&&(a.protocol=s[a.protocol]),a.toString()}function r(e){let t=window.location.href;return window.location.href.endsWith("/playground")&&(t+=`/${e}`),t}async function o(e){let t=await fetch(n(e));return t&&t.ok?t.json():null}async function l(e){let t=await fetch(i.A.sharedbBackendUrl,{method:"POST",body:JSON.stringify({contents:e}),headers:{"Content-Type":"application/json"}});if(!t||!t.ok)throw Error(t?`Could not create new session: ${await t.text()}`:"Unknown error creating session");return t.json()}async function d(e,t){let a=await fetch(n(e),{method:"PATCH",body:JSON.stringify({defaultReadOnly:t}),headers:{"Content-Type":"application/json"}});if(!a||!a.ok)throw Error(a?`Could not update session: ${await a.text()}`:"Unknown error updating session");return a.json()}},41714:function(e,t,a){"use strict";a.d(t,{w:()=>l});var i=a(74848),s=a(92473),n=a(54348),r=a(66314);a(96540);var o=a(64313);let l=e=>{let t=e.isEntrypointFileDefined?"...or press shift-enter in the editor":"Open a file to evaluate the program with the file as the entrypoint";return(0,i.jsx)(s.m,{content:t,placement:n.yX.TOP,children:(0,i.jsx)(o.A,{label:"Run",icon:r.W.PLAY,onClick:e.handleEditorEval,options:{iconColor:e.color,className:e.className},isDisabled:!e.isEntrypointFileDefined})})}},96249:function(e,t,a){"use strict";a.d(t,{H:()=>c});var i=a(57415),s=a(41255),n=a(23385);let r={};function o(e){return e.length<=27?e:e.substring(0,24)+"..."}function l(e){return e in i.SourceDocumentation.ext_lib?{caption:o(e),value:e,meta:i.SourceDocumentation.ext_lib[e].meta,docHTML:i.SourceDocumentation.ext_lib[e].description}:{caption:o(e),value:e,meta:"const"}}for(let[e,t]of n.r)r[e]=t.map(l);for(let e of s.I)r[e.deviceLibraryName]=e.internalFunctions.map(l);let d={};Object.entries(i.SourceDocumentation.builtins).forEach(e=>{let[t,a]=e;d[t]=Object.entries(a).map(e=>{let[t,a]=e;return{caption:o(t),value:t,meta:a.meta,docHTML:a.description}})});let c={builtins:d,externalLibraries:r}},49421:function(e,t,a){"use strict";function i(e){return t=>t.featureFlags.modifiedFlags[e.flagName]||e.defaultValue}a.d(t,{I:()=>i})},66048:function(e,t,a){"use strict";a.d(t,{Qj:()=>l,b0:()=>n,Lq:()=>d,xb:()=>o});var i=a(69099);class s{_flagName;_defaultValue;_flagDesc;_callback;get flagName(){return this._flagName}get defaultValue(){return this._defaultValue}get flagDesc(){return this._flagDesc}onChange(e){return this._callback?.(e)}constructor(e,t,a,i){this._flagName=e,this._defaultValue=t,this._flagDesc=a,this._callback=i}}let n={modifiedFlags:{}},r=(0,i.Z0)({name:"featureFlags",initialState:n,reducers:{setFlag(e,t){e.modifiedFlags[t.payload.featureFlag.flagName]=t.payload.value},resetFlag(e,t){delete e.modifiedFlags[t.payload.featureFlag.flagName]}}}),o=r.actions,l=r.reducer;function d(e,t,a,i){return new s(e,t,a,i)}},29924:function(e,t,a){"use strict";a.r(t),a.d(t,{setInBrowserFileSystem:()=>i});let i=(0,a(69099).VP)("SET_IN_BROWSER_FILE_SYSTEM",e=>({payload:{inBrowserFileSystem:e}}))},73989:function(e,t,a){"use strict";a.d(t,{Xz:()=>c,_B:()=>d,j2:()=>o,xe:()=>r});var i=a(43627),s=a.n(i),n=a(98876);let r=(e,t)=>{let a=e=>new Promise((a,i)=>{t.readFile(e,"utf-8",(t,s)=>{t?i(t):void 0!==s&&a({path:e,contents:s})})}),i=e=>new Promise((n,r)=>{t.readdir(e,(o,l)=>{if(o)return void r(o);if(void 0===l)return;let d=[];for(let n of l){let r=s().join(e,n);d.push(new Promise((e,s)=>{t.lstat(r,(t,n)=>{t?s(t):void 0!==n&&(n.isFile()?e(a(r)):n.isDirectory()&&e(i(r)))})}))}Promise.all(d).then(e=>{n(e.flat())})})});return i(n.V[e]).then(e=>e.reduce((e,t)=>(e[t.path]=t.contents,e),{}))},o=async(e,t,a)=>{for(let[i,s]of(await l(t,n.V[e]),Object.entries(a)))await c(t,i,s)},l=(e,t)=>new Promise((a,i)=>{e.readdir(t,async(n,r)=>{n?i(n):void 0===r||Promise.all(r.map(a=>{let i=s().join(t,a);return new Promise((t,a)=>{e.lstat(i,async(s,n)=>{s?a(s):void 0!==n&&(n.isFile()?await new Promise((t,a)=>{e.unlink(i,e=>{e?a(e):t(!0)})}):n.isDirectory()&&await d(e,i),t(n))})})})).then(()=>a()).catch(e=>i(e))})}),d=(e,t)=>new Promise((a,i)=>{l(e,t).then(()=>{e.rmdir(t,e=>{e?i(e):a()})}).catch(e=>i(e))}),c=(e,t,a)=>new Promise((i,n)=>{let r=t.split(s().sep).filter(e=>""!==e);for(let t=1;t<r.length;t++){let a="/"+s().join(...r.slice(0,t));new Promise((t,i)=>{e.exists(a,s=>{s?t():e.mkdir(a,777,e=>{e?i(e):t()})})}).catch(e=>n(e))}e.writeFile(t,a,e=>{e?n(e):i()})})},51566:function(e,t,a){"use strict";a.d(t,{A:()=>n});var i=a(74848);a(96540);let s={display:"flex"},n=({justifyContent:e,alignItems:t,flexDirection:a,children:n,style:r,className:o})=>{let l={...r,justifyContent:e,alignItems:t,flexDirection:a};return(0,i.jsx)("div",{className:o,style:{...s,...l},children:n})}},51062:function(e,t,a){"use strict";a.d(t,{A:()=>d});var i=a(74848),s=a(61517),n=a(53991),r=a(53978),o=a.n(r);a(96540);let l={width:"max-content",margin:"auto 0"},d=({children:e,style:t,isSecondaryText:a,className:r})=>(0,i.jsx)(s.E,{className:o()(n.UI_TEXT,r,a&&n.TEXT_MUTED),style:{...l,...t},children:e})},38871:function(e,t,a){"use strict";a.d(t,{A:()=>n});var i=a(74848),s=a(38662);a(96540);let n=({bindings:e,children:t,style:a})=>{let n=(0,s.vA)(e);return(0,i.jsx)("div",{tabIndex:-1,onKeyDown:n,style:a,children:t})}},86930:function(e,t,a){"use strict";a.d(t,{Ej:()=>o,zA:()=>l});var i=a(69099),s=a(76070),n=a(40837),r=a(96122);function o(e,t){return Object.entries(t).reduce((t,[a,s])=>({...t,[a]:"function"==typeof s?(0,i.VP)(`${e}/${a}`,(...e)=>({payload:s(...e)})):(0,i.VP)(`${e}/${a}`)}),{})}function l(e){return function*(){for(let[t,a]of(0,r.WP)(e))if(void 0!==a){if("function"==typeof a){yield(0,s.jP)(t,(0,n.bt)(a));continue}a.takeEvery&&(yield(0,s.jP)(t,(0,n.bt)(a.takeEvery))),a.takeLeading&&(yield(0,s.IJ)(t,(0,n.bt)(a.takeLeading))),a.takeLatest&&(yield(0,s.p8)(t,(0,n.bt)(a.takeLatest)))}}}},21078:function(e,t,a){"use strict";a.d(t,{A:()=>x,k:()=>b});var i=a(74848),s=a(51851),n=a(35537),r=a(53978),o=a.n(r),l=a(57415),d=a(50046),c=a(64936),u=a(96540),h=a(53991),p=a(70470),m=a(45760),g=a(64088);let y=e=>{let{onFocus:t,onBlur:a}=e,s=u.useRef(null),n=u.useRef(null),{isDesktopBreakpoint:r}=(0,g.Qs)(),l=e.handleBrowseHistoryDown,d=e.handleBrowseHistoryUp;return u.useEffect(()=>{if(!s.current)return;let e=s.current.editor;t&&e.on("focus",()=>t(e)),a&&e.on("blur",a)}),u.useEffect(()=>{n.current&&!e.disableScrolling&&(n.current.clientWidth>=window.innerWidth-50||n.current.scrollIntoView())}),(0,m.wC)(e.sourceChapter,e.sourceVariant,e.externalLibrary),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.default,{className:"repl-react-ace react-ace",mode:(0,m.xU)(e.sourceChapter,e.sourceVariant,e.externalLibrary),theme:"source",height:"1px",width:"100%",value:e.replValue,onChange:e.handleReplValueChange,commands:[{name:"browseHistoryDown",bindKey:{win:"Down",mac:"Down"},exec:l},{name:"browseHistoryUp",bindKey:{win:"Up",mac:"Up"},exec:d},{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:()=>{e.handleReplEval(),n.current&&!e.disableScrolling&&n.current.scrollIntoView()}}],minLines:1,maxLines:20,fontSize:17,highlightActiveLine:!1,showGutter:!1,showPrintMargin:!1,setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"},ref:s}),(0,i.jsx)("div",{className:o()(h.BUTTON_GROUP,h.DARK),children:e.replButtons}),r&&(0,i.jsx)("div",{ref:n})]})},f=({output:{value:e,consoleLogs:t}})=>{let a=u.useMemo(()=>(0,c.stringify)(e),[e]);return 0===t.length?(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"result-output",children:a})}):(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(n.AC,{className:"log-output",children:t.join("\n")}),(0,i.jsx)(n.AC,{className:"result-output",children:a})]})},b=e=>{switch(e.output.type){case"code":return(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"code-output",children:e.output.value})});case"running":return(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"log-output",children:e.output.consoleLogs.join("\n")})});case"result":if(e.usingSubst&&e.output.value instanceof Array)return(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"log-output",children:"Check out the Stepper tab!"})});if(e.isHtml)return(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"log-output",children:"Check out the HTML Display tab!"})});return(0,i.jsx)(f,{output:e.output});case"errors":if(0===e.output.consoleLogs.length)return(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.AC,{className:"error-output",children:(0,l.parseError)(e.output.errors)})});return(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(n.AC,{className:"log-output",children:e.output.consoleLogs.join("\n")}),(0,i.jsx)("br",{}),(0,i.jsx)(n.AC,{className:"error-output",children:(0,l.parseError)(e.output.errors)})]});case"notification":return(0,i.jsx)(s.Z,{className:"notification-output-container",children:(0,i.jsx)(n.AC,{className:"notification-output",children:"\uD83D\uDCA1 "+e.output.consoleLog})});default:return(0,i.jsx)(s.Z,{children:"''"})}},x=e=>{let t=e.output.map((t,a)=>(0,i.jsx)(b,{output:t,usingSubst:e.usingSubst??!1,isHtml:e.sourceChapter===d.Chapter.HTML},a));return(0,i.jsx)("div",{className:"Repl",style:{display:e.hidden?"none":void 0},children:(0,i.jsxs)("div",{className:"repl-output-parent",children:[t,!e.inputHidden&&(0,i.jsx)(s.Z,{className:o()("repl-input-parent","row"),children:(0,i.jsx)(y,{...e})})]})})}},13971:function(e,t,a){"use strict";a.d(t,{rm:()=>J,Cd:()=>ea,F1:()=>D,XS:()=>w,ld:()=>ey,xt:()=>ev,KZ:()=>Y,Li:()=>ec,f3:()=>eC,ms:()=>es,Mo:()=>b,rW:()=>er,nn:()=>y,h4:()=>ep,aM:()=>eh,iW:()=>X,Qh:()=>M,G3:()=>ef,kw:()=>m,Uc:()=>ej,pG:()=>K,p3:()=>ed,dh:()=>eP,KK:()=>f,uH:()=>eo,Q5:()=>_,wh:()=>ei,To:()=>q,MC:()=>eN,pE:()=>eu,qh:()=>eg,wz:()=>g,RM:()=>eS,tf:()=>H,tR:()=>z,aG:()=>eb,CF:()=>S,YF:()=>eA,WC:()=>C,le:()=>h,$S:()=>W,mt:()=>x,VZ:()=>en,pt:()=>ew,ul:()=>e_,BR:()=>R,Yl:()=>eR,EG:()=>ek,IB:()=>v,rj:()=>B,eq:()=>Z,Bd:()=>P,JQ:()=>ee,Kk:()=>E,Tr:()=>el,Qi:()=>k,d8:()=>em,nm:()=>Q,BY:()=>F,xf:()=>eU,aL:()=>U,Lf:()=>p,qW:()=>j,V_:()=>G,HL:()=>O,NJ:()=>L,Gc:()=>et,Yq:()=>ex,$B:()=>eE,Dc:()=>N,UW:()=>V,$_:()=>T,YR:()=>I,gQ:()=>eM,DX:()=>A,mw:()=>eT,Gu:()=>eI});var i=a(76070),s=a(74971),n=a(32112),r=a(53455);let o=e=>({uuid:e.uuid||"",text:e.text||"",achievementUuids:e.achievementUuids,meta:"Event"===e.meta.type?{...e.meta,release:e.meta.release?new Date(e.meta.release):void 0,deadline:e.meta.deadline?new Date(e.meta.deadline):void 0,observeFrom:e.meta.observeFrom?new Date(e.meta.observeFrom):void 0,observeTo:e.meta.observeTo?new Date(e.meta.observeTo):void 0}:e.meta,count:e.count,targetCount:e.targetCount,completed:e.count>=e.targetCount});a(88462);var l=a(15145),d=a(41397),c=a(40603);let u=a(67063),h=async()=>await (0,c.Em)("","GET",{},l.A.backendUrl),p=async(e,t,a,i)=>{let s=await (0,c.Em)("auth/login","POST",{body:{code:e,provider:t,...a?{client_id:a}:{},...i?{redirect_uri:i}:{}},errorMessage:"Could not login. Please contact the module administrator.",withCredentials:!0});if(!s)return null;let n=await s.json();return{accessToken:n.access_token,refreshToken:n.refresh_token}},m=async e=>{let t=await (0,c.Em)("auth/refresh","POST",{body:{refresh_token:e}});if(!t)return null;let a=await t.json();return{accessToken:a.access_token,refreshToken:a.refresh_token}},g=async e=>{let t=await (0,c.Em)("user","GET",{...e});return t&&t.ok?await t.json():{user:null,courseRegistration:null,courseConfiguration:null,assessmentConfigurations:null}},y=async e=>{let t=await (0,c.Em)("user/latest_viewed_course","GET",{...e});return t&&t.ok?await t.json():{courseRegistration:null,courseConfiguration:null,assessmentConfigurations:null}},f=async(e,t)=>await (0,c.Em)("user/latest_viewed_course","PUT",{...e,body:{courseId:t},noHeaderAccept:!0}),b=async(e,t)=>await (0,c.Em)(`${eD()}/user/research_agreement`,"PUT",{...e,body:{agreedToResearch:t},noHeaderAccept:!0}),x=async(e,t)=>await (0,c.Em)("config/create","POST",{...e,body:{...t},noHeaderAccept:!0}),v=async e=>{let t=await (0,c.Em)(`${eD()}/config`,"GET",{...e});return t&&t.ok?t.json():null},T=async e=>{let t=await (0,c.Em)(`${eD()}/achievements`,"GET",{...e});return t&&t.ok?(await t.json()).map(e=>({uuid:e.uuid||"",title:e.title||"",xp:e.xp,isVariableXp:e.isVariableXp,deadline:null===e.deadline?void 0:new Date(e.deadline),release:null===e.release?void 0:new Date(e.release),isTask:e.isTask,position:e.position,prerequisiteUuids:e.prerequisiteUuids,goalUuids:e.goalUuids,cardBackground:e.cardBackground||"",view:{coverImage:e.view.coverImage||"",completionText:e.view.completionText||"",description:e.view.description||""}})):null},A=async(e,t)=>{let a=await (0,c.Em)(`${eD()}/admin/users/${t}/goals`,"GET",{...e});return a&&a.ok?(await a.json()).map(e=>o(e)):null},w=async e=>{let t=await (0,c.Em)(`${eD()}/self/goals`,"GET",{...e});return t&&t.ok?(await t.json()).map(e=>o(e)):null},S=async e=>{let t=await (0,c.Em)(`${eD()}/admin/users`,"GET",{...e});return t&&t.ok?(await t.json()).map(e=>({name:e.name,courseRegId:e.courseRegId,group:e.group,username:e.username})):null};async function C(e,t){return await (0,c.Em)(`${eD()}/admin/achievements`,"PUT",{accessToken:t.accessToken,body:{achievements:e.map(e=>({...e,deadline:e.deadline?e.deadline:null,release:e.release?e.release:null}))},noHeaderAccept:!0,refreshToken:t.refreshToken})}async function I(e,t){return await (0,c.Em)(`${eD()}/admin/goals`,"PUT",{accessToken:t.accessToken,body:{goals:e.map(e=>({targetCount:e.meta.type===r.IW.ASSESSMENT?1:e.meta.targetCount,meta:e.meta,text:e.text,type:e.meta.type,uuid:e.uuid}))},noHeaderAccept:!0,refreshToken:t.refreshToken})}let E=async(e,t)=>await (0,c.Em)(`${eD()}/self/goals/${e.uuid}/progress`,"POST",{...t,body:{progress:e},noHeaderAccept:!0}),_=async(e,t,a)=>await (0,c.Em)(`${eD()}/admin/users/${e}/goals/${t.uuid}/progress`,"POST",{...a,body:{progress:t},noHeaderAccept:!0}),j=async(e,t)=>await (0,c.Em)(`${eD()}/admin/achievements/${e}`,"DELETE",{...t,body:{uuid:e},noHeaderAccept:!0}),k=async(e,t)=>await (0,c.Em)(`${eD()}/admin/goals/${e}`,"DELETE",{...t,body:{uuid:e},noHeaderAccept:!0}),N=async e=>{let t=await (0,c.Em)(`${eD()}/assessments`,"GET",{...e});return t&&t.ok?(await t.json()).map(e=>(delete e.gradedCount,delete e.questionCount,e)):null},P=async(e,t)=>{let a;return(a=void 0!==t?await (0,c.Em)(`${eD()}/admin/users/${t}/total_xp`,"GET",{...e}):await (0,c.Em)(`${eD()}/user/total_xp`,"GET",{...e}))&&a.ok?await a.json():null},R=async e=>{let t=await (0,c.Em)(`${eD()}/leaderboards/xp_all`,"GET",{...e});return t&&t.ok?(await t.json()).users.map(e=>({rank:e.rank,name:e.name,username:e.username,xp:e.total_xp,avatar:"",achievements:""})):null},L=async(e,t,a)=>{let i=new URLSearchParams({offset:`${(e-1)*t}`,page_size:`${t}`}),s=await (0,c.Em)(`${eD()}/leaderboards/xp?${i.toString()}`,"GET",{...a});if(!s||!s.ok)return null;let n=await s.json();return{rows:n.users.map(e=>({rank:e.rank,name:e.name,username:e.username,xp:e.total_xp,avatar:"",achievements:""})),userCount:n.total_count}},M=async(e,t,a)=>{let i=new URLSearchParams({count:`${t}`}),s=await (0,c.Em)(`${eD()}/assessments/${e}/contest_score_leaderboard?${i.toString()}`,"GET",{...a});if(!s||!s.ok)return null;let n=await s.json();return n.leaderboard.map(e=>({rank:e.rank,name:e.student_name,username:e.student_username,score:e.final_score,avatar:"",code:e.answer,submissionId:e.submission_id,votingId:n.voting_id}))},O=async(e,t,a)=>{let i=new URLSearchParams({count:`${t}`}),s=await (0,c.Em)(`${eD()}/assessments/${e}/contest_popular_leaderboard?${i.toString()}`,"GET",{...a});if(!s||!s.ok)return null;let n=await s.json();return n.leaderboard.map(e=>({rank:e.rank,name:e.student_name,username:e.student_username,score:e.final_score,avatar:"",code:e.answer,submissionId:e.submission_id,votingId:n.voting_id}))},D=async e=>{let t=await (0,c.Em)(`${eD()}/all_contests`,"GET",{...e});return t&&t.ok?await t.json():null},U=async(e,t)=>{let a=await (0,c.Em)(`${eD()}/admin/users/${e}/assessments`,"GET",{...t});return a&&a.ok?(await a.json()).map(e=>(delete e.gradedCount,delete e.questionCount,e)):null},F=async(e,t,a,i)=>{let s;if(!(s=void 0!==a?await (0,c.Em)(`${eD()}/admin/users/${a}/assessments/${e}`,"GET",{...t}):void 0===i?await (0,c.Em)(`${eD()}/assessments/${e}`,"GET",{...t}):await (0,c.Em)(`${eD()}/assessments/${e}/unlock`,"POST",{...t,body:{password:i},errorMessage:"Incorrect password"}))||!s.ok)return window.history.back(),null;let n=await s.json();return n.questions=n.questions.map(e=>{if("programming"===e.type){let t=e;t.autogradingResults=t.autogradingResults||[],t.prepend=t.prepend||"",t.postpend=t.postpend||"",t.testcases=t.testcases||[],e=t}if("voting"===e.type){let t=e;t.prepend=t.prepend||"",t.postpend=t.postpend||""}return null===e.grader&&(delete e.grader,delete e.gradedAt),e.library.external.name=e.library.external.name.toUpperCase(),e.library.globals=Object.entries(e.library.globals).map(e=>{try{e[1]=window.eval(e[1])}catch(e){}return e}),e}),n},G=async(e,t,a)=>await (0,c.Em)(`${eD()}/assessments/question/${e}/answer`,"POST",{...a,body:"object"==typeof t?{answer:t}:{answer:`${t}`},noHeaderAccept:!0}),z=async(e,t,a)=>{let i=await (0,c.Em)(`${eD()}/assessments/question/${e}/answerLastModified`,"POST",{...a,body:{lastModifiedAt:t},noHeaderAccept:!0});return i?(await i.json()).lastModified:null},B=async(e,t)=>await (0,c.Em)(`${eD()}/assessments/${e}/submit`,"POST",{...t,noHeaderAccept:!0}),H=async(e,t,a,i,s,n)=>{let r=new URLSearchParams({...i,...s,...a,...n});r.append("group",`${t}`);let o=await (0,c.Em)(`${eD()}/admin/grading?${r.toString()}`,"GET",{...e});return o?eO(await o.json()):null},V=async e=>{let t=await (0,c.Em)(`${eD()}/admin/grading/all_submissions`,"GET",{...e});return t?eO(await t.json()):null},J=async e=>{let t=await (0,c.Em)(`${eD()}/admin/teams`,"GET",{...e});return t?(await t.json()).map(e=>({teamId:e.teamId,assessmentId:e.assessmentId,assessmentName:e.assessmentName,assessmentType:e.assessmentType,studentIds:e.studentIds,studentNames:e.studentNames})).sort((e,t)=>t.assessmentId-e.assessmentId):null},Y=async(e,t)=>{let a=await (0,c.Em)(`${eD()}/team/${e}`,"GET",{...t});if(!a)return null;let i=await a.json();return{teamId:i.teamId,assessmentId:i.assessmentId,assessmentName:i.assessmentName,assessmentType:i.assessmentType,studentIds:i.studentIds,studentNames:i.studentNames}},W=async(e,t,a)=>{let i={team:{assessment_id:e,student_ids:t.map(e=>e.map(e=>e?.value))}};return await (0,c.Em)(`${eD()}/admin/teams`,"POST",{body:i,...a})},X=async(e,t,a,i)=>{let s=[],n=await $(t),r=u.read(n,{type:"array"}),o=r.SheetNames[0],l=r.Sheets[o],d=u.utils.sheet_to_json(l,{header:1});for(let e=0;e<d.length;e++){let t=d[e],i=[];t.forEach(e=>{let t=a?.find(t=>t.username.trim()===e.trim());t&&i.push({label:t.name,value:t})}),s.push(i)}let h={team:{assessment_id:e,student_ids:s.map(e=>e.map(e=>e?.value))}};return await (0,c.Em)(`${eD()}/admin/teams`,"POST",{body:h,...i})},$=async e=>new Promise((t,a)=>{let i=new FileReader;i.onload=e=>{e.target?t(e.target.result):a(Error("Error reading file"))},i.onerror=e=>{a(Error("Error reading file"))},i.readAsArrayBuffer(e)}),Z=async(e,t,a,i)=>{let s={teamId:t,assessmentId:e,student_ids:a.map(e=>e.map(e=>e?.value))};return await (0,c.Em)(`${eD()}/admin/teams/${t}`,"PUT",{body:s,...i})},q=async(e,t)=>await (0,c.Em)(`${eD()}/admin/teams/${e}`,"DELETE",{body:{teamId:e},...t}),Q=async e=>{let t=await (0,c.Em)(`${eD()}/admin/users/teamformation`,"GET",{...e});return t&&t.ok?await t.json():null},K=async(e,t)=>{let a=await (0,c.Em)(`${eD()}/admin/grading/${e}`,"GET",{...t});if(!a)return null;let i=await a.json();return{answers:i.answers.map(e=>{let t,{student:a,question:i,grade:s,team:n}=e,r={question:{answer:i.answer,lastModifiedAt:i.lastModifiedAt,autogradingResults:i.autogradingResults||[],choices:i.choices,content:i.content,id:i.id,library:{chapter:(t=i.library).chapter,external:{name:t.external.name.toUpperCase(),symbols:t.external.symbols},execTimeMs:null==t.execTimeMs?void 0:t.execTimeMs,variant:null==t.variant?void 0:t.variant,globals:Object.entries(t.globals).map(e=>{try{e[1]=window.eval(e[1])}catch(e){}return e})},solution:e.solution||i.solution||null,solutionTemplate:i.solutionTemplate,prepend:i.prepend||"",postpend:i.postpend||"",testcases:i.testcases||[],type:i.type,maxXp:i.maxXp},student:a,team:n,grade:{xp:s.xp,xpAdjustment:s.xpAdjustment,comments:s.comments}};return null!==e.grade.grader&&(r.grade.grader=e.grade.grader,r.grade.gradedAt=e.grade.gradedAt),r}),assessment:i.assessment}},ee=async(e,t,a,i,s)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/${t}`,"POST",{...i,body:{grading:{xpAdjustment:a,comments:s}},noHeaderAccept:!0}),et=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/autograde`,"POST",{...t,noHeaderAccept:!0}),ea=async(e,t,a)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/${t}/autograde`,"POST",{...a,noHeaderAccept:!0}),ei=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/unsubmit`,"POST",{...t,noHeaderAccept:!0}),es=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/publish_grades`,"POST",{...t,noHeaderAccept:!0}),en=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/publish_all_grades`,"POST",{...t,noHeaderAccept:!0}),er=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/unpublish_grades`,"POST",{...t,noHeaderAccept:!0}),eo=async(e,t)=>await (0,c.Em)(`${eD()}/admin/grading/${e}/unpublish_all_grades`,"POST",{...t,noHeaderAccept:!0}),el=async e=>{let t=await (0,c.Em)(`${eD()}/notifications`,"GET",{...e}),a=[];return t&&t.ok?a=(await t.json()).map(e=>({id:e.id,type:e.type,assessment_id:e.assessment_id||void 0,assessment_type:e.assessment?e.assessment.type:void 0,assessment_title:e.assessment?e.assessment.title:void 0,submission_id:e.submission_id||void 0})):a},ed=async(e,t)=>await (0,c.Em)(`${eD()}/notifications/acknowledge`,"POST",{...e,body:{notificationIds:t}}),ec=async e=>{let t=await (0,c.Em)(`${eD()}/sourcecast`,"GET",{...e});return t&&t.ok?await t.json():null},eu=async(e,t,a,i,s,n)=>{let r=new FormData,o=Date.now().toString()+".wav";return r.append("sourcecast[title]",e),r.append("sourcecast[description]",t),r.append("sourcecast[uid]",a),r.append("sourcecast[audio]",i,o),r.append("sourcecast[playbackData]",JSON.stringify(s)),await (0,c.Em)(`${eD()}/admin/sourcecast`,"POST",{...n,body:r,noContentType:!0,noHeaderAccept:!0})},eh=async(e,t)=>await (0,c.Em)(`${eD()}/admin/sourcecast/${e}`,"DELETE",{...t,noHeaderAccept:!0}),ep=async(e,t)=>await (0,c.Em)(`${eD()}/admin/assessments/${e}/contest_calculate_score`,"POST",{...t}),em=async(e,t)=>await (0,c.Em)(`${eD()}/admin/assessments/${e}/contest_dispatch_xp`,"POST",{...t}),eg=async(e,t,a)=>{let i=new URLSearchParams({count:`${t}`}),s=await (0,c.Em)(`${eD()}/assessments/${e}/contest_score_leaderboard?${i.toString()}`,"GET",{...a});return s&&s.ok?(await s.json()).leaderboard.map(e=>({rank:e.rank,student_name:e.student_name,final_score:e.final_score,answer:e.answer,submission_id:e.submission_id})):null},ey=async(e,t,a)=>{let i=new URLSearchParams({count:`${t}`}),s=await (0,c.Em)(`${eD()}/assessments/${e}/contest_popular_leaderboard?${i.toString()}`,"GET",{...a});return s&&s.ok?(await s.json()).leaderboard.map(e=>({rank:e.rank,student_name:e.student_name,final_score:e.final_score,answer:e.answer,submission_id:e.submission_id})):null},ef=async(e,t,a)=>await (0,c.Em)(`${eD()}/admin/assessments/${e}`,"POST",{...a,body:t,noHeaderAccept:!0}),eb=async(e,t)=>await (0,c.Em)(`${eD()}/admin/assessments/${e}`,"DELETE",{...t,noHeaderAccept:!0}),ex=async(e,t,a,i)=>{let s=new FormData;return s.append("assessment[file]",e),s.append("forceUpdate",String(a)),s.append("assessmentConfigId",String(i)),await (0,c.Em)(`${eD()}/admin/assessments`,"POST",{...t,body:s,noContentType:!0,noHeaderAccept:!0})},ev=async e=>{let t=await (0,c.Em)(`${eD()}/admin/grading/summary`,"GET",{...e});return t&&t.ok?await t.json():null},eT=async(e,t)=>await (0,c.Em)(`${eD()}/admin/config`,"PUT",{...e,body:t,noHeaderAccept:!0}),eA=async e=>{let t=await (0,c.Em)(`${eD()}/admin/config/assessment_configs`,"GET",{...e});return t&&t.ok?await t.json():null},ew=async(e,t,a)=>await (0,c.Em)(`${null!=a?`courses/${a}`:eD()}/admin/config/assessment_configs`,"PUT",{...e,body:{assessmentConfigs:t},noHeaderAccept:!0}),eS=async(e,t)=>await (0,c.Em)(`${eD()}/admin/config/assessment_config/${t.assessmentConfigId}`,"DELETE",{...e,noHeaderAccept:!0}),eC=async e=>{let t=await (0,c.Em)(`${eD()}/admin/users`,"GET",{...e});return t&&t.ok?await t.json():null},eI=async(e,t,a)=>await (0,c.Em)(`${eD()}/admin/users`,"PUT",{...e,body:{users:t,provider:a},noHeaderAccept:!0}),eE=async(e,t,a)=>await (0,c.Em)(`${eD()}/admin/users/${t}/role`,"PUT",{...e,body:{role:a},noHeaderAccept:!0}),e_=async(e,t)=>await (0,c.Em)(`${eD()}/admin/users/${t}`,"DELETE",{...e,noHeaderAccept:!0});async function ej(e){let t=await (0,c.Em)("devices","GET",{accessToken:e.accessToken,refreshToken:e.refreshToken});return t&&t.ok?t.json():null}async function ek(e,t){let a=await (0,c.Em)(`devices/${e.id}/ws_endpoint`,"GET",{accessToken:t.accessToken,refreshToken:t.refreshToken});return a&&a.ok?a.json():null}async function eN(e,t){t=eL(t);let a=await (0,c.Em)("devices","POST",{accessToken:t.accessToken,refreshToken:t.refreshToken,body:e});if(!a)throw Error("Unknown error occurred.");if(!a.ok){let e=await a.text();throw Error(`Failed to register: ${e}`)}return a.json()}async function eP(e,t){t=eL(t);let a=await (0,c.Em)(`devices/${e.id}`,"POST",{accessToken:t.accessToken,refreshToken:t.refreshToken,body:{title:e.title}});if(!a)throw Error("Unknown error occurred.");if(!a.ok){let e=await a.text();throw Error(`Failed to edit: ${e}`)}return!0}async function eR(e,t){t=eL(t);let a=await (0,c.Em)(`devices/${e.id}`,"DELETE",{accessToken:t.accessToken,refreshToken:t.refreshToken});if(!a)throw Error("Unknown error occurred.");if(!a.ok){let e=await a.text();throw Error(`Failed to delete: ${e}`)}return!0}function eL(e){if(!(e=e||function(){let{accessToken:e,refreshToken:t}=n.M.getState().session;return e&&t?{accessToken:e,refreshToken:t}:void 0}()))throw Error("Not logged in.");return e}function*eM(e){if(!e)return void(yield(0,i.T1)(d.JB,"Couldn't reach our servers. Are you online?"));let t=yield e.text();t.length>100&&e.status&&(t=`Something went wrong (got ${e.status} response)`),yield(0,i.T1)(d.JB,t)}let eO=e=>({count:e.count,data:e.data.map(e=>({assessmentId:e.assessment.id,assessmentNumber:e.assessment.assessmentNumber,assessmentName:e.assessment.title,assessmentType:e.assessment.type,studentId:e.student?e.student.id:-1,studentName:e.student?e.student.name:void 0,studentNames:e.team?e.team.team_members.map(e=>e.name):void 0,studentUsername:e.student?e.student.username:void 0,studentUsernames:e.team?e.team.team_members.map(e=>e.username):void 0,submissionId:e.id,submissionStatus:e.status,groupName:e.student?e.student.groupName:"-",groupLeaderId:e.student?e.student.groupLeaderId:void 0,isGradingPublished:e.isGradingPublished,progress:(0,s.x6)(e.assessment.isManuallyGraded,e.isGradingPublished,e.status,e.gradedCount,e.assessment.questionCount),questionCount:e.assessment.questionCount,gradedCount:e.gradedCount,initialXp:e.xp,xpAdjustment:e.xpAdjustment,currentXp:e.xp+e.xpAdjustment,maxXp:e.assessment.maxXp,xpBonus:e.xpBonus}))}),eD=()=>{let e=n.M.getState().session.courseId;if(e)return`courses/${e}`;throw(0,d.JB)("No course selected!",1e3),Error("No course selected")},eU=()=>{let e=n.M.getState().session.courseId;if(e)return`${e}`;throw(0,d.JB)("No course selected!",1e3),Error("No course selected")}},40837:function(e,t,a){"use strict";a.d(t,{BI:()=>d,Iu:()=>l,bt:()=>r,ok:()=>o});var i=a(43571),s=a(76070);function n(e){i.Cp(e),console.error(e)}function r(e){return function*(...t){try{return yield*e(...t)}catch(e){n(e)}}}function o(e,t,...a){return(0,s.jP)(e,function*(...e){try{let a=t(...e);a&&"function"==typeof a.next&&"function"==typeof a.throw&&(yield*a)}catch(e){n(e)}},...a)}function*l(e,t){let a=yield(0,s.Lt)(t=>t.workspaces[e]);return t?t(a):a}function*d(e){return yield(0,s.Lt)(t=>t.stories.envs[e])}},14739:function(e,t,a){"use strict";a.d(t,{A:()=>h});var i=a(74848),s=a(92473),n=a(28761),r=a(10720),o=a(51851),l=a(11903),d=a(96122),c=a(27849),u=a(12588);let h=({renderActiveTabPanelOnly:e,editorWidth:t,...a})=>(0,i.jsx)(u.A,{...a,children:({tabs:u,alerts:h,changeTabsCallback:p,selectedTab:m,height:g})=>(0,i.jsx)("div",{className:"side-content",children:(0,i.jsx)(o.Z,{children:(0,i.jsx)("div",{className:"side-content-tabs",children:(0,i.jsx)(l.t,{id:"side-content-tabs",onChange:p,renderActiveTabPanelOnly:e,selectedTabId:m,children:u.map(e=>{let o=(0,c.vU)(e);return((e,t,a,o,l)=>{let u=(0,c.vU)(e),h=(0,i.jsx)(s.m,{content:e.label,children:(0,i.jsx)("div",{className:(0,c.HD)(t),children:(0,i.jsx)(n.I,{icon:e.iconName,size:20})})}),p=(0,d.j)()({id:u,title:h,disabled:e.disabled,className:"side-content-tab"});if(!e.body)return(0,i.jsx)(r.o,{...p},u);let m=a?{...e.body,props:{...e.body.props,workspaceLocation:a,editorWidth:o,sideContentHeight:l}}:e.body,g=(0,i.jsx)("div",{className:"side-content-text",children:m});return(0,i.jsx)(r.o,{...p,panel:g},u)})(e,h.includes(o),a.workspaceLocation,t,g)})})})})})})},97210:function(e,t,a){"use strict";a.d(t,{Ay:()=>u,Qb:()=>s,SS:()=>d,cF:()=>n,k1:()=>c,kz:()=>r,tn:()=>o,wH:()=>l});let i=(0,a(86930).Ej)("sideContent",{beginAlertSideContent:(e,t)=>({id:e,workspaceLocation:t}),endAlertSideContent:(e,t)=>({id:e,workspaceLocation:t}),visitSideContent:(e,t,a)=>({newId:e,prevId:t,workspaceLocation:a}),removeSideContentAlert:(e,t)=>({id:e,workspaceLocation:t}),spawnSideContent:(e,t)=>({workspaceLocation:e,debuggerContext:t}),resetSideContent:e=>({workspaceLocation:e}),changeSideContentHeight:(e,t)=>({height:e,workspaceLocation:t})}),{beginAlertSideContent:s,endAlertSideContent:n,visitSideContent:r,removeSideContentAlert:o,spawnSideContent:l,resetSideContent:d,changeSideContentHeight:c}=i,u=i},27849:function(e,t,a){"use strict";a.d(t,{G0:()=>x,HD:()=>A,UK:()=>v,g$:()=>S,k9:()=>w,vU:()=>T});var i=a(91589),s=a(35337),n=a(57415),r=a(2543),o=a.n(r),l=a(4440),d=a.n(l),c=a(96540),u=a(74848),h=a(70470),p=a(40961),m=a(83509),g=a(81720),y=a(64088),f=a(97210);let b=e=>{let t={react:c,"react/jsx-runtime":u,"react-ace":h.default,"react-dom":p,"@blueprintjs/core":i,"@blueprintjs/icons":s,"js-slang":n,"js-slang/dist":n,lodash:o(),phaser:d()};if(!(e in t))throw Error(`Dynamic require of ${e} is not supported`);return t[e]};function x(e){let t=e?.context?.moduleContexts;return t?Object.values(t).flatMap(({tabs:e})=>e??[]).map(e=>{let{default:t}=e(b);return t}).filter(({toSpawn:t})=>!t||t(e)).map(t=>({...t,body:t.body(e),id:"module"})):[]}let v=e=>`${e}-icon`,T=e=>void 0===e.id||"module"===e.id?e.label:e.id,A=e=>`side-content-tooltip${e?" side-content-tab-alert":""}`,w=(e,t)=>{let[a,i]=S(e),{alerts:s,dynamicTabs:n,selectedTab:r,height:o}=(0,y.N4)(e=>"stories"===a?e.sideContent.stories[i]??{...g.sQ}:e.sideContent[a]),l=(0,m.wA)(),d=(0,c.useCallback)(t=>{("subst_visualiser"!==r&&"cse_machine"!==r||"mobile_editor_run"!==t)&&l((0,f.kz)(t,r,e))},[l,e,r]);return{alerts:s,dynamicTabs:n,selectedTab:r??t,setSelectedTab:d,height:o}},S=e=>e.startsWith("stories")?e.split(".",2):[e]},12588:function(e,t,a){"use strict";a.d(t,{A:()=>n});var i=a(96540),s=a(27849);function n({tabs:e,defaultTab:t,children:a,onChange:n,selectedTab:r,workspaceLocation:o}){let{alerts:l,height:d,dynamicTabs:c,setSelectedTab:u,selectedTab:h}=(0,s.k9)(o,t);return a({tabs:e?[...e.beforeDynamicTabs,...c,...e.afterDynamicTabs]:c,alerts:l,changeTabsCallback:(0,i.useCallback)((e,t,a)=>{n?n(e,t,a):u(e)},[n,u]),selectedTab:r??h,height:d})}},38211:function(e,t,a){"use strict";a.d(t,{Ay:()=>M,HR:()=>R});var i=a(74848),s=a(53991),n=a(2353),r=a(7496),o=a(92473),l=a(79642),d=a(11678),c=a(5193),u=a(66314),h=a(82960),p=a(53978),m=a.n(p),g=a(90019),y=a(50046),f=a(2543),b=a(96540),x=a(81333),v=a(83509),T=a(38871),A=a(21078),w=a(74970),S=a(82678),C=a(39133),I=a(3778),E=a(15145),_=a(96830),j=a(97210),k=a(27849);class N extends b.Component{constructor(e){super(e),this.state={visualization:null,value:-1,width:this.calculateWidth(e.editorWidth),height:this.calculateHeight(e.sideContentHeight),lastStep:!1,stepLimitExceeded:!1,chapter:e.chapter},this.isJava()?I.L.init(e=>this.setState({visualization:e}),t=>{e.setEditorHighlightedLines(0,t)}):w.A.init(e=>{this.setState({visualization:e},()=>S.G.playAnimation()),e&&this.props.handleAlertSideContent()},this.state.width,this.state.height,t=>{e.setEditorHighlightedLines(0,t)},e=>{this.setState({stepLimitExceeded:!1})})}isJava(){return this.props.chapter===y.Chapter.FULL_JAVA}calculateWidth(e){return Math.min(void 0===e?window.innerWidth-50:Math.min(5e3,window.innerWidth*(100-parseFloat(e))/100-50),5e3)}calculateHeight(e){return Math.min(window.innerWidth<E.A.mobileBreakpoint||void 0===e?window.innerHeight-150:e-150,5e3)}handleResize=(0,f.debounce)(()=>{let e=this.calculateWidth(this.props.editorWidth),t=this.calculateHeight(this.props.sideContentHeight);(e!==this.state.width||t!==this.state.height)&&(this.setState({height:t,width:e}),w.A.updateDimensions(e,t))},300);componentDidMount(){this.handleResize(),window.addEventListener("resize",this.handleResize),w.A.redraw()}componentWillUnmount(){this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){(e.sideContentHeight!==this.props.sideContentHeight||e.editorWidth!==this.props.editorWidth)&&this.handleResize(),e.needCseUpdate&&!this.props.needCseUpdate&&(this.stepFirst(),this.isJava()?I.L.clearCse():w.A.clearCse())}render(){let e=this.state.visualization?[["a",this.stepFirst],["f",this.stepNext],["b",this.stepPrevious],["e",this.stepLast(this.props.stepsTotal)]]:[["a",()=>{}],["f",()=>{}],["b",()=>{}],["e",()=>{}]];return(0,i.jsxs)(T.A,{bindings:e,style:{maxHeight:"100%",overflow:this.state.visualization?"hidden":"auto"},children:[(0,i.jsxs)("div",{className:m()("sa-substituter",s.DARK),children:[(0,i.jsx)(n.A,{disabled:!this.state.visualization,min:0,max:this.props.stepsTotal,onChange:this.sliderShift,onRelease:this.sliderRelease,value:this.state.value<0?0:this.state.value}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:this.isJava()?"center":"space-between",alignItems:"center"},children:[!this.isJava()&&(0,i.jsxs)(r.e,{children:[(0,i.jsx)(o.m,{content:"Control and Stash",compact:!0,children:(0,i.jsx)(l.A,{onMouseUp:()=>{this.state.visualization&&(w.A.toggleControlStash(),w.A.redraw())},icon:"layers",disabled:!this.state.visualization,children:(0,i.jsx)(d.Sc,{checked:w.A.getControlStash(),disabled:!this.state.visualization,style:{margin:0}})})}),(0,i.jsx)(o.m,{content:"Truncate Control",compact:!0,children:(0,i.jsx)(l.A,{onMouseUp:()=>{this.state.visualization&&(w.A.toggleStackTruncated(),w.A.redraw())},icon:"minimize",disabled:!this.state.visualization,children:(0,i.jsx)(d.Sc,{checked:w.A.getStackTruncated(),disabled:!this.state.visualization,style:{margin:0}})})})]}),(0,i.jsxs)(r.e,{children:[(0,i.jsx)(l.$,{disabled:!this.state.visualization,icon:"double-chevron-left",onClick:this.stepPrevBreakpoint}),(0,i.jsx)(l.$,{disabled:!this.state.visualization,icon:"chevron-left",onClick:this.isJava()||w.A.getControlStash()?this.stepPrevious:this.stepPrevChangepoint}),(0,i.jsx)(l.$,{disabled:!this.state.visualization,icon:"chevron-right",onClick:this.isJava()||w.A.getControlStash()?this.stepNext:this.stepNextChangepoint}),(0,i.jsx)(l.$,{disabled:!this.state.visualization,icon:"double-chevron-right",onClick:this.stepNextBreakpoint})]}),!this.isJava()&&(0,i.jsxs)(r.e,{children:[(0,i.jsx)(o.m,{content:"Print",compact:!0,children:(0,i.jsx)(l.A,{onMouseUp:()=>{this.state.visualization&&(w.A.togglePrintableMode(),w.A.redraw())},icon:"print",disabled:!this.state.visualization,children:(0,i.jsx)(d.Sc,{disabled:!this.state.visualization,checked:w.A.getPrintableMode(),style:{margin:0}})})}),(0,i.jsx)(o.m,{content:"Save",compact:!0,children:(0,i.jsx)(l.A,{icon:"floppy-disk",disabled:!this.state.visualization,onClick:C.P.exportImage})})]})]})]})," ",this.state.visualization&&this.props.machineOutput.length&&"errors"===this.props.machineOutput[0].type?this.props.machineOutput.map((e,t)=>(0,i.jsx)(A.k,{output:e,usingSubst:!1,isHtml:!1},t)):(0,i.jsx)("div",{}),this.state.visualization?this.state.stepLimitExceeded?(0,i.jsxs)("div",{id:"cse-machine-default-text",className:s.RUNNING_TEXT,"data-testid":"cse-machine-default-text",children:["Maximum number of steps exceeded.",(0,i.jsx)(c.c,{}),"Please increase the step limit if you would like to see futher evaluation."]}):this.state.visualization:(0,i.jsx)(L,{isJava:this.isJava()}),(0,i.jsxs)(r.e,{vertical:!0,style:{position:"absolute",bottom:"20px",right:"20px"},children:[(0,i.jsx)(l.$,{icon:"plus",disabled:!this.state.visualization,onClick:()=>this.zoomStage(!0,5),style:{marginBottom:"5px",borderRadius:"3px"}}),(0,i.jsx)(l.$,{icon:"minus",disabled:!this.state.visualization,onClick:()=>this.zoomStage(!1,5),style:{borderRadius:"3px"}})]})]})}zoomStage=(e,t)=>{this.isJava()?I.L.zoomStage(e,t):C.P.zoomStage(e,t)};sliderRelease=e=>{e===this.props.stepsTotal?this.setState({lastStep:!0}):this.setState({lastStep:!1}),this.props.handleEditorEval()};sliderShift=e=>{this.props.handleStepUpdate(e),this.setState(t=>({value:e}))};stepPrevious=()=>{0!==this.state.value&&(this.sliderShift(this.state.value-1),this.sliderRelease(this.state.value-1))};stepNext=()=>{let e=this.props.stepsTotal;this.state.value!==e&&(this.sliderShift(this.state.value+1),this.sliderRelease(this.state.value+1),S.G.enableAnimations())};stepFirst=()=>{this.sliderShift(0),this.sliderRelease(0)};stepLast=e=>()=>{this.sliderShift(e),this.sliderRelease(e)};stepNextBreakpoint=()=>{for(let e of this.props.breakpointSteps)if(e>this.state.value){this.sliderShift(e),this.sliderRelease(e);return}this.sliderShift(this.props.stepsTotal),this.sliderRelease(this.props.stepsTotal)};stepPrevBreakpoint=()=>{for(let e=this.props.breakpointSteps.length-1;e>=0;e--){let t=this.props.breakpointSteps[e];if(t<this.state.value){this.sliderShift(t),this.sliderRelease(t);return}}this.sliderShift(0),this.sliderRelease(0)};stepNextChangepoint=()=>{for(let e of this.props.changepointSteps)if(e>this.state.value){this.sliderShift(e),this.sliderRelease(e);return}this.sliderShift(this.props.stepsTotal),this.sliderRelease(this.props.stepsTotal)};stepPrevChangepoint=()=>{for(let e=this.props.changepointSteps.length-1;e>=0;e--){let t=this.props.changepointSteps[e];if(t<this.state.value){this.sliderShift(t),this.sliderRelease(t);return}}this.sliderShift(0),this.sliderRelease(0)}}let P=(0,v.Ng)((e,t)=>{let a,[i]=(0,k.g$)(t.workspaceLocation);return a="sicp"===i?e.workspaces.sicp:e.workspaces.playground,{...t,stepsTotal:a.stepsTotal,currentStep:a.currentStep,breakpointSteps:a.breakpointSteps,changepointSteps:a.changepointSteps,needCseUpdate:a.updateCse,machineOutput:a.output,chapter:a.context.chapter}},(e,t)=>(0,h.zH)({handleEditorEval:()=>_.A.evalEditor(t.workspaceLocation),handleStepUpdate:e=>_.A.updateCurrentStep(e,t.workspaceLocation),handleAlertSideContent:()=>(0,j.Qb)("cse_machine",t.workspaceLocation),setEditorHighlightedLines:(e,a)=>_.A.setEditorHighlightedLinesControl(t.workspaceLocation,e,a)},e))(N),R=({href:e,children:t})=>(0,i.jsx)("a",{href:e,rel:"noopener noreferrer",target:"_blank",children:(0,i.jsx)("i",{children:t})}),L=({isJava:e})=>{let{t}=(0,x.Bd)("sideContent",{keyPrefix:"cseMachine"});return(0,i.jsxs)("div",{id:"cse-machine-default-text",className:s.RUNNING_TEXT,"data-testid":"cse-machine-default-text",children:[e?(0,i.jsxs)("span",{children:[(0,i.jsx)(x.x6,{ns:"sideContent",i18nKey:"cseMachine.csecDescription",components:[(0,i.jsx)(R,{href:"https://sourceacademy.org/sicpjs/3.2"})]})," ",(0,i.jsx)(x.x6,{ns:"sideContent",i18nKey:"cseMachine.javaCsec",components:[(0,i.jsx)(R,{href:"https://docs.sourceacademy.org/java_csec/"})]})]}):(0,i.jsx)("span",{children:(0,i.jsx)(x.x6,{ns:"sideContent",i18nKey:"cseMachine.cseDescription",components:[(0,i.jsx)(R,{href:"https://sourceacademy.org/sicpjs/3.2"})]})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t("instructions"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(c.c,{}),t("shortcutsTitle"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t("shortcuts.a"),(0,i.jsx)("br",{}),t("shortcuts.e"),(0,i.jsx)("br",{}),t("shortcuts.f"),(0,i.jsx)("br",{}),t("shortcuts.b"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t("shortcutsNote")]})},M=e=>({label:(0,g.t)("sideContent:cseMachine.label"),iconName:u.W.GLOBE,body:(0,i.jsx)(P,{workspaceLocation:e}),id:"cse_machine"})},61505:function(e,t,a){"use strict";a.d(t,{A:()=>A});var i=a(74848),s=a(53991),n=a(79642),r=a(51851),o=a(66314),l=a(82960),d=a(53978),c=a.n(d),u=a(90019),h=a(96540),p=a(81333),m=a(83509),g=a(38871),y=a(4874);a(15145);var f=a(97210),b=a(38211);class x extends h.Component{constructor(e){super(e),this.state={steps:[],currentStep:0},y.A.init(e=>{this.state.steps.length>0&&this.props.alertSideContent(),this.setState({steps:e,currentStep:0})})}render(){let e=this.state.steps[this.state.currentStep],t=()=>0===this.state.currentStep,a=()=>!this.state.steps||this.state.currentStep===this.state.steps.length-1,l=[["ArrowLeft",this.onPrevButtonClick],["ArrowRight",this.onNextButtonClick]];return(0,i.jsx)(g.A,{bindings:l,children:(0,i.jsxs)("div",{className:c()("sa-data-visualizer",s.DARK),children:[this.state.steps.length>1?(0,i.jsxs)("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:10},children:[(0,i.jsx)(n.$,{style:{position:"absolute",left:0},large:!0,outlined:!0,icon:o.W.ARROW_LEFT,onClick:this.onPrevButtonClick,disabled:t(),children:"Previous"}),(0,i.jsxs)("h3",{className:s.TEXT_LARGE,children:["Call ",this.state.currentStep+1,"/",this.state.steps.length]}),(0,i.jsx)(n.$,{style:{position:"absolute",right:0},large:!0,outlined:!0,icon:o.W.ARROW_RIGHT,onClick:this.onNextButtonClick,disabled:a(),children:"Next"})]}):null,this.state.steps.length>0?(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row",overflowX:"auto"},children:e?.map((t,a)=>(0,i.jsxs)("div",{style:{margin:e.length>1?0:"0 auto"},children:[" ",(0,i.jsxs)(r.Z,{style:{background:"#1a2530",padding:10},children:[e.length>1&&(0,i.jsxs)("h5",{className:c()(s.HEADING,s.MONOSPACE_TEXT),style:{marginTop:0,marginBottom:20,whiteSpace:"nowrap"},children:["Structure ",a+1]}),t]})]},a))},e.length):(0,i.jsx)(T,{})]})})}onPrevButtonClick=()=>{this.setState(e=>({currentStep:Math.max(0,e.currentStep-1)}))};onNextButtonClick=()=>{let e=this.state.steps.length-1;this.setState(t=>({currentStep:Math.min(e,t.currentStep+1)}))}}let v=(0,m.Ng)(null,(e,t)=>(0,l.zH)({alertSideContent:()=>(0,f.Qb)("data_visualizer",t.workspaceLocation)},e))(x),T=()=>{let{t:e}=(0,p.Bd)("sideContent",{keyPrefix:"dataVisualizer"});return(0,i.jsxs)("p",{id:"data-visualizer-default-text",className:s.RUNNING_TEXT,children:[e("defaultText"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(p.x6,{ns:"sideContent",i18nKey:"dataVisualizer.instructions",components:[(0,i.jsxs)("code",{children:["draw_data(x",(0,i.jsx)("sub",{children:"1"}),", x",(0,i.jsx)("sub",{children:"2"}),", ... x",(0,i.jsx)("sub",{children:"n"}),")"]}),(0,i.jsxs)("code",{children:["x",(0,i.jsx)("sub",{children:"k"})]}),(0,i.jsxs)("code",{children:["k",(0,i.jsx)("sup",{children:"th"})]}),(0,i.jsx)("code",{children:"n"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(p.x6,{ns:"sideContent",i18nKey:"dataVisualizer.reference",components:[(0,i.jsx)(b.HR,{href:"https://sourceacademy.org/sicpjs/2.2"})]})]})},A=e=>({label:(0,u.t)("sideContent:dataVisualizer.label"),iconName:o.W.EYE_OPEN,body:(0,i.jsx)(v,{workspaceLocation:e}),id:"data_visualizer"})},97862:function(e,t,a){"use strict";a.d(t,{A:()=>p});var i=a(74848),s=a(66314),n=a(82960),r=a(90019),o=a(96540),l=a(81333),d=a(83509),c=a(97210);let u=/^Line \d+: /i,h=(0,d.Ng)(null,(e,t)=>(0,n.zH)({alertSideContent:()=>(0,c.Qb)("html_display",t.workspaceLocation)},e))(e=>{let{t}=(0,l.Bd)("sideContent",{keyPrefix:"htmlDisplay"}),{content:a,handleAddHtmlConsoleError:s,alertSideContent:n}=e;return(0,o.useEffect)(()=>{let e=e=>{let t=e.data;"string"==typeof t&&t.match(u)&&s(t)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}),(0,o.useEffect)(()=>{n()},[]),(0,i.jsx)("iframe",{className:"sa-html-display",title:t("title"),sandbox:"allow-scripts",srcDoc:a,src:"about:blank"})}),p=(e,t,a)=>({label:(0,r.t)("sideContent:htmlDisplay.label"),iconName:s.W.MODAL,body:(0,i.jsx)(h,{workspaceLocation:a,content:e.value,handleAddHtmlConsoleError:t}),id:"html_display"})},45760:function(e,t,a){"use strict";a.d(t,{wC:()=>l,xU:()=>d,KN:()=>c});var i=a(24564),s=a(50046),n=a(80952),r=a(23385),o=a(96249);a(87826),a(29072),a(80569),a(1766),a(40975),a(93534),a(24854),a(50447);let l=(e,t,a)=>{"function"!=typeof ace.define.modules[`ace/mode/${d(e,t,a)}`]?.Mode&&(e!==s.Chapter.FULL_JS?(0,i.HighlightRulesSelector)(e,t,a,o.H.externalLibraries[a]):function(e,t=s.Variant.DEFAULT,a="NONE",i=[]){let r=e.toString()+t+a;n.define("ace/mode/source_highlight_rules"+r,["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,a,i){let n=t("../lib/oop"),r=t("./doc_comment_highlight_rules").DocCommentHighlightRules,o=t("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_\xa1-￿][a-zA-Z\\d\\$_\xa1-￿]*";s.Variant.DEFAULT,e.toString();let d=function(e){let t=this.createKeywordMapper({"variable.language":"implements|interface|package|private|protected|public|static|window|document",keyword:"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|isFinite|isNaN|parseFloat|parseInt|Math|this|arguments|prototypeyield|get|set|async|await|enum|eval|true|false|null|Infinity|NaN|undefined|break|case|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|while|with|debugger|escape|with|extends|super|export","storage.type":"const|let|var|function|import|class|catch","support.function":"alert"},"identifier"),a="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),u("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:t,regex:l},{token:"variable.language",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"variable.language",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"variable.language.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),u("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,a){if(this.next="{"==e?this.nextState:"","{"==e&&a.length)a.unshift("start",t);else if("}"==e&&a.length&&(a.shift(),this.next=a.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:a},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&!1==e.jsx||c.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function c(){let e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,a){let i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?a.unshift(this.next,this.nextState,0):a.unshift(this.next),a[2]++):2==i&&t==this.nextState&&(a[1]--,(!a[1]||a[1]<0)&&(a.shift(),a.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);let a={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[a,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,a){return t==a[0]&&a.shift(),2==e.length&&(a[0]==this.nextState&&a[1]--,(!a[1]||a[1]<0)&&a.splice(0,2)),this.next=a[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},a,u("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function u(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}n.inherits(d,o),a.SourceHighlightRules=d})}(e,t,a,o.H.externalLibraries[a]),(0,i.ModeSelector)(e,t,a))},d=(e,t,a)=>{switch(e){case s.Chapter.HTML:return"html";case s.Chapter.FULL_TS:return"typescript";case s.Chapter.PYTHON_1:case s.Chapter.PYTHON_2:case s.Chapter.PYTHON_3:case s.Chapter.PYTHON_4:case s.Chapter.FULL_PYTHON:return"python";case s.Chapter.SCHEME_1:case s.Chapter.SCHEME_2:case s.Chapter.SCHEME_3:case s.Chapter.SCHEME_4:case s.Chapter.FULL_SCHEME:return"scheme";case s.Chapter.FULL_JAVA:return"java";case s.Chapter.FULL_C:return"c_cpp";default:return`source${e}${t}${a}`}},c=e=>{switch(e){case"html":return{chapter:s.Chapter.HTML,variant:s.Variant.DEFAULT,library:r.O.NONE};case"typescript":return{chapter:s.Chapter.FULL_TS,variant:s.Variant.DEFAULT,library:r.O.NONE};case"python":return{chapter:s.Chapter.PYTHON_1,variant:s.Variant.DEFAULT,library:r.O.NONE};case"scheme":return{chapter:s.Chapter.FULL_SCHEME,variant:s.Variant.EXPLICIT_CONTROL,library:r.O.NONE};case"java":return{chapter:s.Chapter.FULL_JAVA,variant:s.Variant.DEFAULT,library:r.O.NONE};case"c_cpp":return{chapter:s.Chapter.FULL_C,variant:s.Variant.DEFAULT,library:r.O.NONE};default:{let t=e.match(/source(-?\d+)([a-z-]+)([A-Z]+)/);if(!t)throw Error("Invalid modeString");let[a,i,n,o]=t;return{chapter:"1"===i?s.Chapter.SOURCE_1:"2"===i?s.Chapter.SOURCE_2:"3"===i?s.Chapter.SOURCE_3:s.Chapter.SOURCE_4,variant:s.Variant[n]||s.Variant.DEFAULT,library:r.O[o]||r.O.NONE}}}}},6047:function(e,t,a){"use strict";a.d(t,{o:()=>E});var i=a(82378),s=a(82134),n=a(39572),r=a(23574),o=a(29924),l=a(97210),d=a(96830),c=a(31465),u=a(38585),h=a(9585),p=a(88663),m=a(51706),g=a(79289),y=a(89161),f=a(5849),b=a(6457),x=a(18509),v=a(54097),T=a(35459),A=a(75209),w=a(2113),S=a(60921),C=a(8702),I=a(66048);let E={...u.A,...f.A,...i.Ay,...r.Ay,...h.Ay,...s.A,...x.Ay,...n.A,...T.Ay,...A.Ay,...w.A,...d.A,...g.A,...y.A,...c.A,...b.A,...v.A,...o,...S.A,...l.Ay,...C.A,...l.Ay,...I.xb,...p.A,...m.A}},95984:function(e,t,a){"use strict";a.d(t,{K2:()=>n,fp:()=>r,mI:()=>s,xW:()=>o});var i=a(15145);function s(e,t){let a=i.A.authProviders.get(e);if(a)try{let s=new URL(a.endpoint);switch(a.type){case"OAUTH2":s.searchParams.set("redirect_uri",n(e,t));break;case"CAS":s.searchParams.set("service",n(e,t));break;case"SAML":s.searchParams.set("target_url",function(e){if(i.A.authProviders.get(e))return`${i.A.backendUrl}/v2/auth/saml_redirect?provider=${encodeURIComponent(e)}`}(e))}return s.toString()}catch(e){return a.endpoint||""}}function n(e,t){let a=i.A.authProviders.get(e);if(!a)return;let s=""===window.location.port?"":`:${window.location.port}`;return`${window.location.protocol}//${window.location.hostname}${s}${t?"/login/vscode_callback":"/login/callback"}${a.isDefault?"":"?provider="+encodeURIComponent(e)}`}function r(e){let t=i.A.authProviders.get(e);if(t)try{return new URL(t.endpoint).searchParams.get("client_id")||void 0}catch(e){return t.endpoint||void 0}}function o(){return[...i.A.authProviders.entries()].find(([e,{isDefault:t}])=>t)}},15145:function(e,t,a){"use strict";a.d(t,{A:()=>b});var i=a(50046);function s(e,t){return void 0===e&&void 0!==t?t:"string"==typeof e&&"TRUE"===e.toUpperCase()}a(95984);let n=s(void 0),r=parseInt("10000",10),o=s(void 0),l=s(void 0),d=i.Chapter.SOURCE_4,c=i.Variant.DEFAULT,u=s("TRUE",!0),h=parseInt("0"),p=new Map,m=!1,g=new Map;for(let e=1;;++e){let t={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_NUS_SAML_PROVIDER${e}`];if(!t)break;m=!0;let a={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_NUS_SAML_PROVIDER${e}_NAME`]||"Unnamed provider",i={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_NUS_SAML_PROVIDER${e}_ENDPOINT`]||"";p.set(t,{name:a,endpoint:i,isDefault:!1,type:"SAML"}),g.set(t,{name:a,endpoint:i,isDefault:!1,type:"SAML"})}let y=!1,f=new Map;for(let e=1;;++e){let t={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_OAUTH2_PROVIDER${e}`];if(!t)break;y=!0;let a={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_OAUTH2_PROVIDER${e}_NAME`]||"Unnamed provider",i={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_OAUTH2_PROVIDER${e}_ENDPOINT`]||"";p.set(t,{name:a,endpoint:i,isDefault:1===e,type:"OAUTH2"}),f.set(t,{name:a,endpoint:i,isDefault:1===e,type:"OAUTH2"})}for(let e=1;;++e){let t={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_CAS_PROVIDER${e}`];if(!t)break;y=!0;let a={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_CAS_PROVIDER${e}_NAME`]||"Unnamed provider",i={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_CAS_PROVIDER${e}_ENDPOINT`]||"";p.set(t,{name:a,endpoint:i,isDefault:!1,type:"CAS"}),f.set(t,{name:a,endpoint:i,isDefault:!1,type:"CAS"})}for(let e=1;;++e){let t={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_SAML_PROVIDER${e}`];if(!t)break;y=!0;let a={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_SAML_PROVIDER${e}_NAME`]||"Unnamed provider",i={REACT_APP_GOOGLE_CLIENT_ID:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",REACT_APP_PLAYGROUND_ONLY:"TRUE",REACT_APP_GITHUB_CLIENT_ID:"85133e8db51d683d544b",REACT_APP_SHAREDB_BACKEND_URL:"https://api2.sourceacademy.nus.edu.sg/sharedb/",REACT_APP_GOOGLE_APP_ID:"838265856714",REACT_APP_GITHUB_OAUTH_PROXY_URL:"https://api2.sourceacademy.nus.edu.sg/github_oauth",REACT_APP_URL_SHORTENER_SIGNATURE:"5eef899abd",REACT_APP_SENTRY_DSN:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",REACT_APP_GOOGLE_API_KEY:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",REACT_APP_ENVIRONMENT:"pages",REACT_APP_VERSION:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",REACT_APP_MODULE_BACKEND_URL:"https://source-academy.github.io/modules",REACT_APP_URL_SHORTENER_BASE:"https://share.sourceacademy.org/"}[`REACT_APP_SAML_PROVIDER${e}_ENDPOINT`]||"";p.set(t,{name:a,endpoint:i,isDefault:!1,type:"SAML"}),f.set(t,{name:a,endpoint:i,isDefault:!1,type:"SAML"})}let b={sourceAcademyVersion:"20fd8d13b60786c7df8af07a8414940913f23b40-2025-10-28T14:42:11+00:00",sourceAcademyEnvironment:"pages",sourceAcademyDeploymentName:"Source Academy",showResearchPrompt:n,backendUrl:void 0,storiesBackendUrl:void 0,cadetLoggerUrl:void 0,useBackend:o,useEmptyAssetPrefix:l,defaultSourceChapter:d,defaultSourceVariant:c,defaultQuestionId:0,maxBrowseIndex:50,mobileBreakpoint:768,urlShortenerBase:"https://share.sourceacademy.org/",urlShortenerSignature:"5eef899abd",moduleBackendUrl:"https://source-academy.github.io/modules",authProviders:p,hasNusAuthProviders:m,nusAuthProviders:g,hasOtherAuthProviders:y,otherAuthProviders:f,playgroundOnly:u,sentryDsn:"https://54202d1388dd4c2eac9e9bfcba0d6dc8@o278059.ingest.sentry.io/5270681",googleClientId:"838265856714-jc03h28mknjbb0iju1k5rr7pdt95o5t2.apps.googleusercontent.com",googleApiKey:"AIzaSyBgG9d8W5W7h1ot0Lg6OWMv4QRiBjZEYRw",googleAppId:"838265856714",githubClientId:"85133e8db51d683d544b",githubOAuthProxyUrl:"https://api2.sourceacademy.nus.edu.sg/github_oauth",sharedbBackendUrl:"https://api2.sourceacademy.nus.edu.sg/sharedb/",cadetLoggerInterval:r,sicpBackendUrl:"https://sicp.sourceacademy.org/",javaPackagesUrl:"https://source-academy.github.io/modules/java/java-packages/src/",workspaceSettingsLocalStorageKey:"workspace-settings",collabSessionIdLocalStorageKey:"playground-session-id",caFulfillmentLevel:h,featureFlags:{enableSicpChatbot:s(void 0)}}},69096:function(e,t,a){"use strict";a.d(t,{cu:()=>A,P_:()=>v,ug:()=>w,Yp:()=>S});var i=a(74848),s=a(31365),n=a(96540),r=a(5338),o=a(79642),l=a(45111),d=a(53991),c=a(31643),u=a(5960),h=a(53978),p=a.n(h);function m(e){let t=e.choices.map((t,a)=>(0,i.jsx)(o.$,{onClick:()=>e.onResponse&&e.onResponse(t.key),intent:t.intent,fill:e.largeButtons,className:p()(e.largeButtons&&"large-button-ksBJkq"),...t.props,children:t.label},a)),{escapeResponse:a}=e,s=void 0===a?void 0:()=>e.onResponse&&e.onResponse(a);return(0,i.jsxs)(l.l,{className:p()(d.DARK,"ConfirmDialog-Qme0qs"),title:e.title,isCloseButtonShown:void 0===e.title&&void 0,canEscapeKeyClose:!!s,onClose:s,isOpen:e.isOpen,icon:e.icon,...e.props,children:[(0,i.jsx)(c.R,{children:e.contents}),(0,i.jsx)(u.E,{actions:!e.largeButtons&&(0,i.jsx)(i.Fragment,{children:t}),children:e.largeButtons&&t})]})}var g=a(58270);function y(e){let{enterResponse:t,validationFunction:a}=e,r=n.useRef(null),[o,l]=n.useState(!a||a(e.defaultValue||""));n.useEffect(()=>{r.current&&l(!a||a(r.current.value))},[a]);let d=t=>{(t===e.escapeResponse||!a||a(r.current.value))&&e.onResponse(t,r.current?.value||"")},c=e.choices.map(e=>({...e,props:{...e.props,disabled:e.disableOnInvalid&&!o}})),u=t?e=>{13===e.keyCode&&d(t)}:void 0,h=a?e=>{a(e.target.value)!==o&&l(!o)}:void 0;return(0,i.jsx)(m,{...e,onResponse:d,choices:c,contents:(0,i.jsxs)(i.Fragment,{children:[e.contents,(0,i.jsx)(g.M,{autoFocus:!0,defaultValue:e.defaultValue,inputRef:r,onKeyDown:u,onChange:h,intent:o?s.J.NONE:s.J.DANGER})]})})}class f extends n.PureComponent{state={dialog:null,dialogOnClose:null};static create(){let e=document.createElement("div");document.body.appendChild(e);let t=(0,r.createRoot)(e),a=n.createRef();return t.render((0,i.jsx)(f,{ref:a})),a}show(e,t){this.setState(()=>({dialog:e,dialogOnClose:t||null}))}close(){this.state.dialogOnClose&&this.state.dialogOnClose(),this.setState(()=>({dialog:null,dialogOnClose:null}))}render(){return this.state.dialog}}let b=f.create();function x(){b.current.close()}function v(e,t){return new Promise((a,s)=>{var n;n=(0,i.jsx)(e,{...t(a)}),b.current.show(n,s)}).finally(x)}function T(e){return v(m,t=>({...e,onResponse:t,isOpen:!0}))}function A(e){return T({title:e.title,contents:e.contents,choices:[{key:!1,label:e.negativeLabel||"No"},{key:!0,label:e.positiveLabel||"Yes",intent:e.positiveIntent||s.J.SUCCESS,props:{type:"submit"}}],escapeResponse:!1,icon:e.icon,...e.props})}function w(e){return T({title:e.title,contents:e.contents,choices:[{key:!0,label:e.label||"OK",intent:s.J.PRIMARY,props:{type:"submit"}}],escapeResponse:!1,icon:"error",...e.props})}function S(e){return v(y,t=>({title:e.title,contents:e.contents,choices:[{key:!1,label:e.negativeLabel||"Cancel"},{key:!0,label:e.positiveLabel||"Accept",intent:s.J.SUCCESS,disableOnInvalid:!0}],escapeResponse:!1,enterResponse:!0,onResponse:(e,a)=>t({buttonResponse:e,value:a}),isOpen:!0,...e.props}))}},69967:function(e,t,a){"use strict";a.d(t,{A:()=>n});var i=a(64936);let s={log:e=>(...t)=>{e(t.map(e=>"string"==typeof e?e:(0,i.stringify)(e)).join(" "))}},n=new class{buffer;workspaceLocation;constructor(){this.buffer=[]}dump(){let e=[...this.buffer];return this.resetBuffer(),e}push(e,t){this.handleWorkspaceChange(t),this.buffer.push(e)}attachConsole(e){let t=t=>this.push(t,e),a={};return Object.entries(s).forEach(([e,i])=>{a[e]=console[e],console[e]=i(t)}),()=>{Object.entries(s).forEach(([e])=>{console[e]=a[e]})}}handleWorkspaceChange(e){this.hasWorkspace()&&e===this.workspaceLocation||(this.workspaceLocation=e,this.resetBuffer())}hasWorkspace(){return!!this.workspaceLocation}resetBuffer(){this.buffer=[]}}},22326:function(e,t,a){"use strict";a.d(t,{g:()=>s});var i=a(20195);function s(e){return new i.E({auth:e,userAgent:"Source Academy Playground",baseUrl:"https://api.github.com",log:{debug:()=>{},info:()=>{},warn:console.warn,error:console.error},request:{agent:void 0,fetch:void 0,timeout:0}})}},64088:function(e,t,a){"use strict";a.d(t,{Ge:()=>d,N4:()=>u,Qs:()=>p,Vc:()=>c,Xl:()=>h,bP:()=>l,c:()=>g,wV:()=>m});var i=a(19081),s=a(96540),n=a(83509),r=a(15145),o=a(70998);function l(e,t){let[a,i]=s.useState(t);return s.useEffect(()=>{(async()=>{i(await e())})()},[e]),{value:a,setValue:i}}function d(e){let[t,a]=s.useState(e);return{value:t,setValue:a,inputProps:{value:t,onChange:e=>{a(e.target.value)}}}}function c(e,t){let[a,i]=s.useState((0,o.R)(e,t));return s.useEffect(()=>{(0,o.Z)(e,a)},[e,a]),[a,i]}let u=n.d4,h=e=>{let[t,a]=s.useState(0),[i,n]=s.useState(0),r=s.useMemo(()=>new ResizeObserver((e,t)=>{if(1!==e.length)throw Error("Expected only a single HTML element to be observed by the ResizeObserver.");let i=e[0].contentRect;a(i.width),n(i.height)}),[]);return s.useEffect(()=>{let t=e.current;if(null!==t)return r.observe(t),()=>r.disconnect()},[e,r]),[t,i]},p=()=>{let e=(0,i.U)(`(max-width: ${r.A.mobileBreakpoint}px)`),t=(0,i.U)("(max-width: 48em)"),a=(0,i.U)("(min-width:48em) and (max-width:64em)");return{xs:t,sm:a,md:(0,i.U)("(min-width:64em) and (max-width:75em)"),lg:(0,i.U)("(min-width:75em)"),isMobileBreakpoint:e,isDesktopBreakpoint:void 0===e?void 0:!e}},m=()=>{let e=u(e=>e.session),t="string"==typeof e.name,a=!!e.role;return{...e,isEnrolledInACourse:a,isLoggedIn:t}},g=({throwWhenEmpty:e=!0}={})=>{let t=u(e=>e.session.accessToken),a=u(e=>e.session.refreshToken);if(e&&(!t||!a))throw Error("No access token or refresh token found");return{accessToken:t,refreshToken:a}}},33972:function(e,t,a){"use strict";a.d(t,{$L:()=>x,FX:()=>b,NK:()=>h,Pc:()=>c,eq:()=>u,jP:()=>m,kd:()=>p,ms:()=>f,q6:()=>y,rh:()=>T,wA:()=>v});var i=a(72712),s=a(50046),n=a(64936),r=a(2543),o=a(74970),l=a(4874),d=a(69967);function c({context:e}){try{o.A.drawCse(e)}catch(e){throw console.error(e),Error("CSE machine is not enabled")}}function u(){if(window.Inspector)window.Inspector.highlightClean();else throw Error("Inspector not loaded")}function h(e){if(window.Inspector)window.Inspector.highlightLine(e);else throw Error("Inspector not loaded")}function p(){if(window.Inspector)window.Inspector.highlightCleanForControl();else throw Error("Inspector not loaded")}function m(e){if(window.Inspector)window.Inspector.highlightLineForControl(e);else throw Error("Inspector not loaded")}let g={display:function e(t,a,i){return e((void 0===a?"":a+" ")+(0,n.stringify)(t),"",i),t},rawDisplay:function(e,t,a){let i=(void 0===t?"":t+" ")+String(e);return d.A.push(i,a),e},prompt:function(e){return prompt(e)},alert:function(e){alert((0,n.stringify)(e))},visualiseList:function(...e){try{return l.A.drawData(e[0]),1===e[0].length?e[0][0]:e[0]}catch(e){throw console.log(e),Error("Data visualizer is not enabled")}}};function y(e,t,a,n=s.Variant.DEFAULT,r){return(0,i.default)(e,n,r,t,a,g)}function f(e){function t(){}t.prototype=e.runtime.environments[0].head;let a=new t,s=new Proxy(e.runtime.environments[0],{get:(e,t,i)=>"head"===t?a:e[t]}),n=new Proxy(e.runtime.environments,{get:(e,t,a)=>"0"===t?s:e[t]}),r=new Proxy(e.runtime,{get:(e,t,a)=>"environments"===t?n:e[t]}),o=new Proxy(e,{get(e,t,a){switch(t){case"chapter":return 4;case"runtime":return r;default:return e[t]}}});return(0,i.importBuiltins)(o,g),(0,i.defineBuiltin)(o,"makeUndefinedErrorFunction",e=>()=>{throw Error(`Name ${e} not declared.`)}),o}function b(e,t){let a=e.runtime.environments[0].head,i=t.runtime.environments[0].head;return(0,r.difference)((0,r.keys)(a),(0,r.keys)(i))}function x(e,t){return`const _____${t} = [${e.join(", ")}];`}function v(e,t){let a=`_____${t}`;return e.map((e,t)=>"makeUndefinedErrorFunction"===e?"":`const ${e} = ${a}[${t}];`).join("\n")}function T(e){return e.map(e=>"makeUndefinedErrorFunction"===e?"":`const ${e} = makeUndefinedErrorFunction('${e}');`).join("\n")}},70998:function(e,t,a){"use strict";a.d(t,{R:()=>i,Z:()=>s});let i=(e,t)=>{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t},s=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))}},80392:function(e,t,a){"use strict";a.d(t,{P:()=>s});var i=a(2543);let s=(e,t)=>i.isEqual(e,t)},6726:function(e,t,a){"use strict";a.d(t,{MH:()=>n,hM:()=>s,zS:()=>i});let i=e=>e.toLowerCase().replace(/\W+/g,"_"),s=e=>{if(void 0===e)return null;let t=parseInt(e,10);return Number.isInteger(t)?t:null},n=e=>void 0===e?null:"true"===e.toLowerCase()},40603:function(e,t,a){"use strict";let i;a.d(t,{Em:()=>m});var s=a(74848),n=a(79642),r=a(2543),o=a.n(r),l=a(703),d=a(32112),c=a(13971),u=a(6047),h=a(15145),p=a(41397);let m=async(e,t,a,s)=>{let n=g(t,a);try{let t=s||`${h.A.backendUrl}/v2/${e}`,r=await fetch(t,n);if(r.ok||409===r.status)return r;if(401!==r.status)return(0,p.JB)(a.errorMessage?a.errorMessage:T(r)),null;if(!a.refreshToken)return null;try{i||(i=(0,c.kw)(a.refreshToken));let t=await i;if(!t)throw Error("Invalid refreshed token");d.M.dispatch(u.o.setTokens(t));let s=o().cloneDeep(n);s.headers.set("Authorization",`Bearer ${t.accessToken}`);let r=await fetch(`${h.A.backendUrl}/v2/${e}`,s);if(r.ok)return r;if(401===r.status)throw Error("Invalid refreshed access token");return(0,p.JB)(a.errorMessage?a.errorMessage:T(r)),null}catch(e){return window.location.pathname.match(l.Su)?(0,p.JB)(x,-1,y):(d.M.dispatch(u.o.logOut()),(0,p.JB)(b,void 0,y)),null}finally{i=void 0}}catch(e){return(0,p.JB)(v,void 0,f),null}},g=(e,t)=>{let a=new Headers;t.noHeaderAccept||a.append("Accept","application/json"),t.accessToken&&a.append("Authorization",`Bearer ${t.accessToken}`);let i={method:e,headers:a};return t.body&&(t.noContentType?i.body=t.body:(a.append("Content-Type","application/json"),i.body=JSON.stringify(t.body))),t.withCredentials&&(i.credentials="include"),i},y="userSessionExpired",f="networkError",b="Please login again",x=(0,s.jsxs)("div",{children:["User session expired. Please copy your work and"," ",(0,s.jsx)(n.$,{onClick:()=>{d.M.dispatch(u.o.logOut()),(0,p.X8)(y)},children:"Relogin"})]}),v="Error while communicating with backend; check your network?",T=e=>`Error while communicating with backend: ${e.status} ${e.statusText}`},74818:function(e,t,a){"use strict";a.d(t,{pT:()=>O,kp:()=>M,fu:()=>U});var i=a(50441),s=a(47077),n=a(33740),r=a(8586),o=a(74848),l=a.t(o,2),d=a(465),c=a(53991),u=a(51851),h=a(66314),p=a(50046),m=a(96540),g=a(70470),y=a(83509),f=a(81720),b=a(41714),x=a(64313),v=a(61505),T=a(97862),A=a(14739),w=a(27849),S=a(15145),C=a(64088),I=a(96830),E=a(60921),_=a(79931),j=a(23385),k=a(21078),N=a(45760),P=a(71609);let R=e=>{let t=(0,y.wA)(),[a,i]=(0,m.useState)(e.content),[s,n]=(0,m.useState)(1/0),r=(0,C.N4)(e=>Object.keys(e.stories.envs)),l=function(e,t){for(let e of t.split("-")){let t=e.split(":");if("env"===t[0])return t.length>1?t[1]:""}}(0,e.commands),d=void 0===l?P.Kf:r.includes(l)?l:P.Kf,R=(0,C.N4)(e=>e.stories.envs[d]?.context.chapter||S.A.defaultSourceChapter),L=(0,C.N4)(e=>e.stories.envs[d]?.context.variant||S.A.defaultSourceVariant);(0,m.useEffect)(()=>{i(e.content)},[e.content]);let M=(0,C.N4)(e=>e.stories.envs[d]?.output||[]),{selectedTab:O,setSelectedTab:D}=(0,w.k9)(`stories.${d}`),U=m.useCallback((e,a,i)=>{t(E.A.toggleStoriesUsingSubst("subst_visualiser"===e,d)),D(e)},[]),F=d===P.Kf?(0,f.Kl)(R,L):d+" | "+(0,f.Kl)(R,L),G="subst_visualiser"===O,z={label:"Normal Output",iconName:h.W.PLAY,body:M.length>s?(0,o.jsx)("div",{className:"Repl",style:{margin:0},children:(0,o.jsxs)("div",{className:"repl-output-parent",children:[(0,o.jsx)("p",{className:c.RUNNING_TEXT,children:"Output:"}),(0,o.jsx)(k.k,{output:M[s],usingSubst:G})]})}):(0,o.jsx)("p",{className:c.RUNNING_TEXT,children:'Click "Run" in the top left to run some code!'}),id:"stories_run"},B={selectedTabId:O,onChange:U,tabs:{beforeDynamicTabs:m.useMemo(()=>{let e=[z];return R===p.Chapter.HTML?M.length>s&&"result"===M[s].type&&e.push((0,T.A)(M[s],e=>t(I.A.addHtmlConsoleError(e,"stories",d)),`stories.${d}`)):(R>=p.Chapter.SOURCE_2&&e.push((0,v.A)(`stories.${d}`)),R<=p.Chapter.SOURCE_2&&(L===p.Variant.DEFAULT||L===p.Variant.NATIVE)&&e.push((0,_.fM)(`stories.${d}`,M.slice(s)))),e},[R,L,M,t,d]),afterDynamicTabs:[]},workspaceLocation:`stories.${d}`},H=()=>{O&&U(O,O,{}),t(E.A.evalStory(d,a)),n(M.length)},V=(0,m.useRef)(H);return V.current=H,(0,N.wC)(R,L,j.O.NONE),(0,o.jsx)("div",{className:c.DARK,children:(0,o.jsx)("div",{className:"workspace",children:(0,o.jsxs)(u.Z,{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(b.w,{handleEditorEval:H,isEntrypointFileDefined:!0},"runButton"),(0,o.jsx)("span",{style:{display:"inline-block",fontSize:"0.9rem",textAlign:"center"},children:F}),(0,o.jsx)(x.A,{label:"Reset Env",onClick:()=>{t(E.A.clearStoryEnv(d))},icon:h.W.RESET})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"right-parent",children:[(0,o.jsx)(u.Z,{children:(0,o.jsx)(g.default,{className:"repl-react-ace react-ace",mode:(0,N.xU)(R,L,j.O.NONE),theme:"source",height:"1px",width:"100%",value:a,onChange:e=>i(e),commands:[{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:()=>V.current()}],minLines:5,maxLines:20,fontSize:17,highlightActiveLine:!1,showGutter:!1,showPrintMargin:!1,setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"}})}),(0,o.jsx)("div",{children:(0,o.jsx)(A.A,{...B})})]})})]})})})};var L=a(39884);let M=`---
config:
  chapter: 4
  variant: default

env:
  iterFib:
    chapter: 4
    variant: default
  recuFib:
    chapter: 4
    variant: default
  rune:
    chapter: 4
    variant: default
---

# Stories for Source Academy Quick Start

## Source Blocks

You can create source blocks as follows:

\`\`\`\`
\`\`\`{source}
const incr_two = (x) => x + 2;
\`\`\`
\`\`\`\`

Will render as:

\`\`\`{source}
const incr_two = (x) => x + 2;
\`\`\`

Try running the code above!

Subsequent source blocks will continue the evaluation flow. Try running the following source block:

\`\`\`{source}
incr_two(10);
\`\`\`

You can reset the environment by clicking on the \`Reset Env\` button on the top right of the source block.

## Changing Configs

You can change the chapter and variant of source blocks by adding a header to the top of this markdown file.

\`\`\`
---
config:
  chapter: SOURCE_4
  variant: DEFAULT
---
\`\`\`

The current valid CHAPTER/VARIANT combinations can be found [here](https://github.com/source-academy/js-slang#usage).

## Adding New Environments

Sometimes, you may want a different evaluation flow for source blocks. Consider these two implementations of the fibonacci function:
### Iterative Fib

\`\`\`{source} env:iterFib
function fib(n) {
  let a = 0;
  let b = 1;
  for (let i = 0; i < n; i = i + 1) {
    const old_b = b;
    b = a + b;
    a = old_b;
  }
  return a;
}
\`\`\`

\`\`\`{source} env:iterFib
fib(15);
\`\`\`

### Recursive Fib

\`\`\`{source} env:recuFib
function fib(n) {
  return n < 2 ? n : fib(n-1) + fib(n-2);
}
\`\`\`

\`\`\`{source} env:recuFib
fib(15);
\`\`\`

It would make sense for these two execution flows to be separated so the functions do not overwrite each other.

This can be done by configuring the code blocks to be from different environments. In the header, we can add

\`\`\`
env:
  iterFib:
    chapter: 4
    variant: default
  recuFib:
    chapter: 4
    variant: default
\`\`\`

to create two different environments. Then, we add \`env:iterFib\` and \`env:recuFib\` to the metadata of the source blocks to set them to their respective environments!

## Module Support

Stories also supports modules!

\`\`\`{source} env:rune
import {show, heart} from 'rune';

show(heart);
\`\`\`
`,O=(e,t)=>{let a=e.session.getScrollTop(),i=e.renderer.layerConfig.maxHeight,s=Math.max(t.scrollHeight,1),n=Math.max(t.offsetHeight,1);t.scrollTo(0,a/(i-n)*(s-n))},D={code:(e,t)=>{let a=t.lang??"";if(!(a.startsWith("{")&&a.endsWith("}")))return n.Y.code(e,t);let s={content:t.value,commands:t.meta??""};return(0,i.h)("source-block",s)}},U=e=>{let t=(0,s.Y)(e),a=(0,r._)(t,{handlers:D})??(0,i.h)();return(0,L.l)().use(d.A,{...l,components:{"source-block":R}}).stringify(a)}},96122:function(e,t,a){"use strict";a.d(t,{WP:()=>n,j:()=>i,uv:()=>s});let i=()=>e=>e;function s(e){return Object.keys(e)}function n(e){return Object.entries(e)}},49900:function(e,t,a){"use strict";a.d(t,{AX:()=>u,OW:()=>l,fn:()=>o,g6:()=>p,x7:()=>c});var i=a(74848),s=a(69096),n=a(41397);let r={icon:"warning-sign",title:"You are switching to a unsafe feature!",contents:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:"full JavaScript"})," allows you to run arbitrary JS code beyond source.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"This might pose a security concern if you are not careful and fully aware of what program you are running!",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Do you still want to proceed?"})]}),positiveIntent:"danger",positiveLabel:"Proceed",negativeLabel:"Cancel"};function o(){return(0,s.cu)(r)}function l(){(0,n.JB)("For security concerns, users are not allowed to load full JavaScript code from shared links")}let d={icon:"warning-sign",title:"You are switching to a unsafe feature!",contents:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:"full TypeScript"})," allows you to run arbitrary JS code beyond source.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"This might pose a security concern if you are not careful and fully aware of what program you are running!",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Do you still want to proceed?"})]}),positiveIntent:"danger",positiveLabel:"Proceed",negativeLabel:"Cancel"};function c(){return(0,s.cu)(d)}function u(){(0,n.JB)("For security concerns, users are not allowed to load full JavaScript code from shared links")}let h={icon:"warning-sign",title:"Beware when running shared HTML code!",contents:(0,i.jsxs)("p",{children:["You are about to access HTML code written by others, which may contain malicious scripts.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"This might pose a security concern if you are not careful and fully aware of what the shared HTML code contains!",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Do you still want to proceed?"})]}),positiveIntent:"danger",positiveLabel:"Proceed",negativeLabel:"Cancel"};function p(){return(0,s.cu)(h)}},41397:function(e,t,a){"use strict";let i;a.d(t,{rG:()=>u,mn:()=>c,JB:()=>d,X8:()=>h,uT:()=>l});var s=a(31365),n=a(25900),r=a(54348),o=a(5338);(async e=>{i=await n.V.createAsync(e,{domRenderer:(e,t)=>(0,o.createRoot)(t).render(e)})})({position:r.yX.TOP});let l=(e,t=2e3,a)=>i.show({intent:s.J.SUCCESS,message:e,timeout:t},a),d=(e,t=2e3,a)=>i.show({intent:s.J.WARNING,message:e,timeout:t},a),c=(e,t=2e3,a)=>i.show({intent:s.J.DANGER,message:e,timeout:t},a),u=(e,t)=>i.show(e,t),h=e=>i.dismiss(e)},96830:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("workspace",{setTokenCount:(e,t)=>({workspaceLocation:e,tokenCount:t}),browseReplHistoryDown:e=>({workspaceLocation:e}),browseReplHistoryUp:e=>({workspaceLocation:e}),changeExternalLibrary:(e,t)=>({newExternal:e,workspaceLocation:t}),changeExecTime:(e,t)=>({execTime:e,workspaceLocation:t}),changeStepLimit:(e,t)=>({stepLimit:e,workspaceLocation:t}),chapterSelect:(e,t,a)=>({chapter:e,variant:t,workspaceLocation:a}),externalLibrarySelect:(e,t,a)=>({externalLibraryName:e,workspaceLocation:t,initialise:a||!1}),toggleEditorAutorun:e=>({workspaceLocation:e}),beginClearContext:(e,t,a)=>({library:t,workspaceLocation:e,shouldInitLibrary:a}),clearReplInput:e=>({workspaceLocation:e}),clearReplOutput:e=>({workspaceLocation:e}),clearReplOutputLast:e=>({workspaceLocation:e}),endClearContext:(e,t)=>({library:e,workspaceLocation:t}),evalEditor:e=>({workspaceLocation:e}),evalRepl:e=>({workspaceLocation:e}),evalTestcase:(e,t)=>({workspaceLocation:e,testcaseId:t}),runAllTestcases:e=>({workspaceLocation:e}),toggleFolderMode:e=>({workspaceLocation:e}),enableTokenCounter:e=>({workspaceLocation:e}),disableTokenCounter:e=>({workspaceLocation:e}),setFolderMode:(e,t)=>({workspaceLocation:e,isFolderModeEnabled:t}),updateActiveEditorTabIndex:(e,t)=>({workspaceLocation:e,activeEditorTabIndex:t}),updateActiveEditorTab:(e,t)=>({workspaceLocation:e,activeEditorTabOptions:t}),updateEditorValue:(e,t,a)=>({workspaceLocation:e,editorTabIndex:t,newEditorValue:a}),setEditorBreakpoint:(e,t,a)=>({workspaceLocation:e,editorTabIndex:t,newBreakpoints:a}),setEditorHighlightedLines:(e,t,a)=>({workspaceLocation:e,editorTabIndex:t,newHighlightedLines:a}),setEditorHighlightedLinesControl:(e,t,a)=>({workspaceLocation:e,editorTabIndex:t,newHighlightedLines:a}),moveCursor:(e,t,a)=>({workspaceLocation:e,editorTabIndex:t,newCursorPosition:a}),addEditorTab:(e,t,a)=>({workspaceLocation:e,filePath:t,editorValue:a}),shiftEditorTab:(e,t,a)=>({workspaceLocation:e,previousEditorTabIndex:t,newEditorTabIndex:a}),removeEditorTab:(e,t)=>({workspaceLocation:e,editorTabIndex:t}),removeEditorTabForFile:(e,t)=>({workspaceLocation:e,removedFilePath:t}),removeEditorTabsForDirectory:(e,t)=>({workspaceLocation:e,removedDirectoryPath:t}),renameEditorTabForFile:(e,t,a)=>({workspaceLocation:e,oldFilePath:t,newFilePath:a}),renameEditorTabsForDirectory:(e,t,a)=>({workspaceLocation:e,oldDirectoryPath:t,newDirectoryPath:a}),updateReplValue:(e,t)=>({newReplValue:e,workspaceLocation:t}),sendReplInputToOutput:(e,t)=>({type:"code",workspaceLocation:t,value:e}),resetTestcase:(e,t)=>({workspaceLocation:e,index:t}),navigateToDeclaration:(e,t)=>({workspaceLocation:e,cursorPosition:t}),resetWorkspace:(e,t)=>({workspaceLocation:e,workspaceOptions:t}),updateWorkspace:(e,t)=>({workspaceLocation:e,workspaceOptions:t}),setIsEditorReadonly:(e,t)=>({workspaceLocation:e,isEditorReadonly:t}),updateSubmissionsTableFilters:e=>({filters:e}),updateCurrentAssessmentId:(e,t)=>({assessmentId:e,questionId:t}),updateCurrentSubmissionId:(e,t)=>({submissionId:e,questionId:t}),updateHasUnsavedChanges:(e,t)=>({workspaceLocation:e,hasUnsavedChanges:t}),changeSublanguage:e=>({sublang:e}),updateSublanguage:e=>({sublang:e}),promptAutocomplete:(e,t,a,i)=>({workspaceLocation:e,row:t,column:a,callback:i}),notifyProgramEvaluated:(e,t,a,i,s)=>({result:e,lastDebuggerResult:t,code:a,context:i,workspaceLocation:s}),toggleUsingSubst:(e,t)=>({usingSubst:e,workspaceLocation:t}),addHtmlConsoleError:(e,t,a)=>({errorMsg:e,workspaceLocation:t,storyEnv:a}),showMcqPane:(e,t)=>({workspaceLocation:e,options:t}),toggleUsingCse:(e,t)=>({usingCse:e,workspaceLocation:t}),toggleUpdateCse:(e,t)=>({updateCse:e,workspaceLocation:t}),toggleUsingUpload:(e,t)=>({usingUpload:e,workspaceLocation:t}),updateCurrentStep:(e,t)=>({steps:e,workspaceLocation:t}),updateStepsTotal:(e,t)=>({steps:e,workspaceLocation:t}),updateBreakpointSteps:(e,t)=>({breakpointSteps:e,workspaceLocation:t}),updateChangePointSteps:(e,t)=>({changepointSteps:e,workspaceLocation:t}),updateLastDebuggerResult:(e,t)=>({lastDebuggerResult:e,workspaceLocation:t}),uploadFiles:(e,t)=>({files:e,workspaceLocation:t}),increaseRequestCounter:0,decreaseRequestCounter:0,setGradingHasLoadedBefore:()=>!0,updateAllColsSortStates:e=>({sortStates:e}),updateGradingColumnVisibility:e=>({filters:e})})},31465:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("academy",{createCourse:e=>e,addNewUsersToCourse:(e,t)=>({users:e,provider:t}),addNewStoriesUsersToCourse:(e,t)=>({users:e,provider:t})})},703:function(e,t,a){"use strict";a.d(t,{F0:()=>i,IE:()=>r,Kh:()=>n,Su:()=>s,fv:()=>o});let i=/^-?\d+$/,s=/\/courses\/\d+\/[a-zA-Z]+\/\d+\/\d+/,n=":assessmentId?/:questionId?",r=":submissionId?/:questionId?",o=":teamId?"},38585:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("achievement",{bulkUpdateAchievements:e=>e,bulkUpdateGoals:e=>e,getAchievements:()=>({}),getGoals:e=>e,getOwnGoals:()=>({}),getUserAssessmentOverviews:e=>e,getUsers:()=>({}),removeAchievement:e=>e,removeGoal:e=>e,updateOwnGoalProgress:e=>e,addEvent:(e,t)=>({workspaceLocation:t,eventNames:e}),handleEvent:e=>e,updateGoalProgress:(e,t)=>({studentCourseRegId:e,progress:t}),saveAchievements:e=>e,saveGoals:e=>e,saveUsers:e=>e,saveUserAssessmentOverviews:e=>e})},49631:function(e,t,a){"use strict";a.d(t,{A0:()=>d,GY:()=>p,IY:()=>u,Oz:()=>g,Q0:()=>h,VH:()=>c,iR:()=>m,u8:()=>l,xV:()=>n});var i=a(96540),s=a(86520);a(15145);let n=i.createContext(new s.A([],[])),r="https://source-academy-assets.s3-ap-southeast-1.amazonaws.com/achievement",o=`${r}/view-background`,l=`${r}/card-background`,d=`${r}/cover-image`,c=()=>({background:`url(${o}/exploration.png) no-repeat center/cover`}),u=()=>"#9ce",h=()=>({border:`1px solid ${u()}`,boxShadow:`0 0 10px ${u()}`}),p=(e,t)=>e===t?"#4df":"#fff",m=(e,t)=>e===t?h():void 0,g=1e3},53455:function(e,t,a){"use strict";a.d(t,{Bx:()=>o,IW:()=>r,ss:()=>i});let i={count:0,targetCount:1,completed:!1};var s,n,r=((s={}).MANUAL="Manual",s.EVENT="Event",s.ASSESSMENT="Assessment (unsupported)",s.BINARY="Binary (unsupported)",s),o=((n={}).NONE="None",n.RUN_CODE="Run Code",n.ERROR="Error",n.RUN_TESTCASE="Run Testcase",n)},73329:function(e,t,a){"use strict";a.d(t,{V:()=>n,n:()=>r});var i=a(66048),s=a(49421);let n=(0,i.Lq)("conductor.enable",!1,"Enables the Conductor framework for evaluation of user programs."),r=(0,s.I)(n)},43036:function(e,t,a){"use strict";a.d(t,{Q:()=>r,g:()=>n});var i=a(66048),s=a(49421);let n=(0,i.Lq)("conductor.evaluator.url","https://fyp.tsammeow.dev/evaluator/0.2.1/worker.js","The URL where Conductor may find the Runner to be used for running user programs."),r=(0,s.I)(n)},74970:function(e,t,a){"use strict";a.d(t,{A:()=>n}),a(96540);var i=a(39133),s=a(60062);class n{static setVis;static setEditorHighlightedLines;static setIsStepLimitExceeded;static printableMode=!1;static controlStash=!1;static stackTruncated=!1;static environmentTree;static currentEnvId;static control;static stash;static togglePrintableMode(){n.printableMode=!n.printableMode}static toggleControlStash(){n.controlStash=!n.controlStash}static toggleStackTruncated(){n.stackTruncated=!n.stackTruncated}static getCurrentEnvId(){return n.currentEnvId}static getPrintableMode(){return n.printableMode}static getControlStash(){return n.controlStash}static getStackTruncated(){return n.stackTruncated}static isControl(){return!!this.control&&!this.control.isEmpty()}static init(e,t,a,s,n){i.P.visibleHeight=a,i.P.visibleWidth=t,this.setVis=e,this.setEditorHighlightedLines=s,this.setIsStepLimitExceeded=n}static clear(){i.P.values.clear()}static drawCse(e){if(n.environmentTree=(0,s._Z)(e.runtime.environmentTree),n.currentEnvId=(0,s.fW)(e.runtime.environments[0]),!this.setVis||!e.runtime.control||!e.runtime.stash)throw Error("CSE machine not initialized");n.control=e.runtime.control,n.stash=e.runtime.stash,i.P.setContext(e.runtime.environmentTree,e.runtime.control,e.runtime.stash,e.chapter),this.setVis(i.P.draw()),this.setIsStepLimitExceeded(e.runtime.control.isEmpty()),i.P.updateDimensions(i.P.visibleWidth,i.P.visibleHeight)}static redraw(){n.environmentTree&&n.control&&n.stash&&(n.getPrintableMode()&&n.getControlStash()&&n.getStackTruncated()&&void 0!==i.P.currentStackTruncLight?this.setVis(i.P.currentStackTruncLight):n.getPrintableMode()&&n.getControlStash()&&!n.getStackTruncated()&&void 0!==i.P.currentStackLight?this.setVis(i.P.currentStackLight):!n.getPrintableMode()&&n.getControlStash()&&n.getStackTruncated()&&void 0!==i.P.currentStackTruncDark?this.setVis(i.P.currentStackTruncDark):!n.getPrintableMode()&&n.getControlStash()&&!n.getStackTruncated()&&void 0!==i.P.currentStackDark?this.setVis(i.P.currentStackDark):n.getPrintableMode()&&!n.getControlStash()&&void 0!==i.P.currentLight?this.setVis(i.P.currentLight):n.getPrintableMode()||n.getControlStash()||void 0===i.P.currentDark?(i.P.setContext(n.environmentTree,n.control,n.stash),this.setVis(i.P.draw())):this.setVis(i.P.currentDark),i.P.updateDimensions(i.P.visibleWidth,i.P.visibleHeight))}static updateDimensions(e,t){null!=i.P.stageRef&&null!==e&&null!==t&&i.P.updateDimensions(e,t)}static clearCse(){this.setVis&&(this.setVis(void 0),n.environmentTree=void 0,n.control=void 0,n.stash=void 0),this.clear()}}},82678:function(e,t,a){"use strict";a.d(t,{G:()=>q});var i=a(38268),s=a(68130),n=a(96540),r=a(74848),o=a(39088),l=a(65866),d=a(60062),c=a(48955);class u extends c.B{static key=-1}class h extends c.B{listeners=[];addListener(e){this.listeners.push(e)}removeListener(e){let t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}}var p=a(66447),m=a(44708);function g(e){return{height:e.height(),width:e.width()}}function y(e){return{x:e.x(),y:e.y()}}function f(e){return{...g(e),...y(e)}}function b(e,t){let a=e;for(;void 0!==a;){let e=a.bindings.find(e=>e.keyString.split(":")[0]===t);if(a?.environment?.id==="-1")return[a,e??a.bindings[0]];if(e)return[a,e];a=a.parentFrame}throw Error(`Error: Binding with name "${t}" cannot be found within the environment!`)}function x(e){var t;if(!((t=e).startsWith("#")&&(4===t.length||7===t.length)))throw Error(`Cannot parse given color string: ${e}`);return 4===e.length&&(e+=e.slice(1)),[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}class v extends h{props;isDestroyed=!1;animationData=[];animation;animationFn=e=>{if(!e||0===this.animationData.length)return!1;if(!this.ref.current){this.animationData.forEach(e=>e.resolve()),this.animation.stop();return}let t=!0,a={},i=[],s=0;for(;s<this.animationData.length;){let n=this.animationData[s];if(e.time<=n.startTime){t=!1,s++;continue}if(!n.from||!n.current){let e=this.ref.current,t={};for(let i in n.to)t[i]=a[i]??e.getAttr(i);n.from=t,n.current={}}let r=Math.min((e.time-n.startTime)/(n.endTime-n.startTime),1);for(let e in n.to){let t=function(e,t,a,i,s){if(a===i)return i;if("number"==typeof i)return"number"!=typeof a?i:s(e,a,i-a,1);if("fill"!==t&&"stroke"!==t||!a)return i;let n=x(a),r=x(i);return function([e,t,a]){return`#${e.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")}`}(Array.from({length:3},(t,a)=>Math.round(s(e,n[a],r[a]-n[a],1))))}(r,e,n.from[e],n.to[e],n.easing);n.current[e]=t,"x"===e&&(this._x=t),"y"===e&&(this._y=t),"width"===e&&(this._width=t),"height"===e&&(this._height=t)}Object.assign(a,n.current),1===r?(i.push(n.resolve),this.animationData.splice(s,1)):(t=!1,s++)}Object.keys(a).length>0&&(this.ref.current.setAttrs(a),this.listeners.forEach(e=>e({...a}))),t&&this.animation.stop(),i.forEach(e=>e())};constructor(e){if(super(),this.props=e,!q.getLayer())throw Error("Missing animation layer! Unable to create animation component!");this.animation=new p.A.Animation(this.animationFn,q.getLayer()),e.x&&(this._x=e.x),e.y&&(this._y=e.y),e.width&&(this._width=e.width),e.height&&(this._height=e.height)}animateTo(e,t){return new Promise(a=>{if(this.isDestroyed||0===Object.keys(e).length||!this.ref.current)return void a();let i=this.animation.frame.time+(t?.delay??0)*q.defaultDuration,s=i+(t?.duration??1)*q.defaultDuration,n=t?.easing??q.defaultEasing;this.animationData.push({startTime:i,endTime:s,to:e,easing:n,resolve:a}),this.animation.isRunning()||this.animation.start()})}destroy(){this.isDestroyed=!0,this.animation.isRunning()&&this.animation.stop(),this.ref.current?.hide(),this.animationData.forEach(e=>e.resolve()),this.animationData.length=0,this.listeners.length=0}}class T extends v{type;constructor(e,t){super(t),this.type=e}draw(){let e=this.type;return(0,r.jsx)(e,{ref:this.ref,...this.props,listening:!1,perfectDrawEnabled:!1},u.key--)}}class A extends T{constructor(e){super(o.EY,{...{fill:(0,d.eQ)(),fontFamily:l.V.FontFamily,fontSize:l.V.FontSize,fontStyle:l.V.FontStyle,fontVariant:l.V.FontVariant},...e,width:void 0})}animateTo(e,t){return super.animateTo({...e,width:void 0},t)}}class w extends T{constructor(e){super(o.rw,{...{stroke:(0,d.t6)(),cornerRadius:l.V.ControlItemCornerRadius},...e})}}class S extends T{constructor(e){super(o.wA,{...{stroke:(0,d.t6)(),strokeWidth:m.T.ArrowStrokeWidth},...e})}}class C extends T{constructor(e){super(o.i3,{...{fill:(0,d.t6)(),strokeEnabled:!1,pointerWidth:m.T.ArrowHeadSize},...e})}}class I extends h{arrow;pathComponent;arrowComponent;onPropsChange=e=>{e.x&&(this._x=this.arrow.x()+e.x),e.y&&(this._y=this.arrow.y()+e.y)};constructor(e,t){super(),this.arrow=e,this._x=e.x(),this._y=e.y(),this._width=e.width(),this._height=e.height(),this.pathComponent=new S({stroke:e.faded?(0,d.gR)():(0,d.t6)(),data:e.path(),...t}),this.pathComponent.addListener(this.onPropsChange),this.arrowComponent=new C({fill:e.faded?(0,d.gR)():(0,d.t6)(),points:e.points.slice(e.points.length-4),...t})}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.pathComponent.draw(),this.arrowComponent.draw()]},u.key--)}animatePathTo(e,t){return this.pathComponent.animateTo(e,t)}animateArrowTo(e,t){return this.arrowComponent.animateTo(e,t)}async animateTo(e,t){await Promise.all([this.animatePathTo(e,t),this.animateArrowTo(e,t)])}destroy(){this.pathComponent.removeListener(this.onPropsChange),this.pathComponent.destroy(),this.arrowComponent.destroy()}}class E extends h{rectComponent;textComponent;onPropsChange=e=>{e.x&&(this._x=e.x),e.y&&(this._y=e.y),e.width&&(this._width=e.width),e.height&&(this._height=e.height)};constructor(e,t,a){super();const i={...t,...a?.rectProps};this.onPropsChange(i),this.rectComponent=new w(i),this.rectComponent.addListener(this.onPropsChange);const s={padding:l.V.ControlItemTextPadding,...t,...a?.textProps,text:e};this.textComponent=new A(s)}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.rectComponent.draw(),this.textComponent.draw()]},u.key--)}animateRectTo(e,t){return this.rectComponent.animateTo(e,t)}animateTextTo(e,t){return this.textComponent.animateTo(e,t)}async animateTo(e,t){await Promise.all([this.animateRectTo(e,t),this.animateTextTo(e,t)])}destroy(){this.rectComponent.removeListener(this.onPropsChange),this.rectComponent.destroy(),this.textComponent.destroy()}}class _ extends u{accInstr;indexItem;resultItem;accessorAnimation;arrayItemAnimation;arrayArrowAnimation;indexItemAnimation;resultAnimation;resultArrowAnimation;arrayUnit;outOfRange;constructor(e,t,a,i){super(),this.accInstr=e,this.indexItem=a,this.resultItem=i,this.accessorAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.arrayItemAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.indexItemAnimation=new E(a.text,f(a),{rectProps:{stroke:(0,d.wp)()}}),this.arrayArrowAnimation=new I(t.arrow),this.outOfRange=!1;const s=t.arrow.target,n=s.data.length;parseInt(a.text)>=n?(this.outOfRange=!0,this.arrayUnit=s.units[n-1]):this.arrayUnit=s.units[parseInt(a.text)],this.resultAnimation=new E(i.text,{...g(i),x:this.arrayUnit.x()+this.arrayUnit.width()/2-this.resultItem.width()/2+(this.outOfRange?this.arrayUnit.width():0),y:this.arrayUnit.y()+this.arrayUnit.height()/2-this.resultItem.height()/2,opacity:0}),this.resultItem.arrow&&(this.resultArrowAnimation=new I(this.resultItem.arrow,{opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.accessorAnimation.draw(),this.arrayItemAnimation.draw(),this.arrayArrowAnimation.draw(),this.indexItemAnimation.draw(),this.resultAnimation.draw(),this.resultArrowAnimation?.draw()]},u.key--)}async animate(){this.resultItem.ref.current?.hide(),this.resultItem.arrow?.ref.current?.hide();let e=(0,d.q_)(this.accInstr.text)+2*l.V.ControlItemTextPadding,t={x:this.arrayUnit.x()+this.arrayUnit.width()/2-this.indexItem.width()/2+(this.outOfRange?this.arrayUnit.width():0),y:this.arrayUnit.y()-this.indexItem.height()-8},a={y:this.arrayUnit.y()+this.arrayUnit.height()/2-this.indexItem.height()/2},i={y:this.arrayUnit.y()-this.resultItem.height()-8};await Promise.all([this.arrayItemAnimation.animateTo({opacity:0},{duration:.6}),this.arrayArrowAnimation.animateTo({opacity:0},{duration:.6}),this.accessorAnimation.animateRectTo({stroke:(0,d.t6)()},{duration:1.2}),this.accessorAnimation.animateTo({x:t.x-e,y:t.y,width:e},{duration:1.2}),this.indexItemAnimation.animateRectTo({stroke:(0,d.t6)()},{duration:1.2}),this.indexItemAnimation.animateTo(t,{duration:1.2})]),await Promise.all([this.accessorAnimation.animateTo({opacity:0},{duration:.8}),this.accessorAnimation.animateTo(a),this.indexItemAnimation.animateTo({opacity:0},{duration:.8}),this.indexItemAnimation.animateTo(a),this.resultAnimation.animateTo(i),this.resultAnimation.animateTo({opacity:1},{duration:.8,delay:.2})]),await Promise.all([this.resultAnimation.animateTo(y(this.resultItem),{duration:1.2}),(0,d.XF)(this.resultItem.index)&&this.resultAnimation.animateRectTo({stroke:(0,d.wp)()},{duration:1.2}),this.resultArrowAnimation?.animateTo({opacity:1},{delay:1})]),this.destroy()}destroy(){this.ref.current?.hide(),this.resultItem.ref.current?.show(),this.resultItem.arrow?.ref.current?.show(),this.accessorAnimation.destroy(),this.arrayItemAnimation.destroy(),this.indexItemAnimation.destroy(),this.resultAnimation.destroy(),this.resultArrowAnimation?.destroy()}}var j=a(13188),k=a(25970);class N extends u{asgnItem;resultItem;asgnItemAnimation;arrayItemAnimation;arrayArrowAnimation;indexItemAnimation;valueArrowAnimation;resultAnimation;resultArrowAnimation;arrayUnitText;arrayUnitTextAnimation;arrayUnitArrowAnimation;arrayUnit;resultItemIsFirst;constructor(e,t,a,i,s,n){super(),this.asgnItem=e,this.resultItem=n,this.resultItemIsFirst=0===n.index,this.asgnItemAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.arrayItemAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.arrayArrowAnimation=new I(t.arrow),this.indexItemAnimation=new E(i.text,f(i),{rectProps:{stroke:(0,d.wp)()}}),this.resultAnimation=new E(n.text,f(s),{rectProps:{stroke:(0,d.wp)()}}),s.arrow&&(this.valueArrowAnimation=new I(s.arrow)),n.arrow&&(this.resultArrowAnimation=new I(n.arrow,{opacity:0})),this.arrayUnit=a.units[parseInt(i.text)],this.arrayUnit.value instanceof k.l&&this.arrayUnit.value.text instanceof j.E&&(this.arrayUnitText=this.arrayUnit.value.text,this.arrayUnitTextAnimation=new A({text:this.arrayUnitText.partialStr,x:this.arrayUnitText.x(),y:this.arrayUnitText.y()-16,opacity:0}))}draw(){return this.arrayUnit.arrow&&(this.arrayUnitArrowAnimation=new I(this.arrayUnit.arrow,{opacity:0,y:-16})),(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.asgnItemAnimation.draw(),this.arrayItemAnimation.draw(),this.arrayArrowAnimation.draw(),this.indexItemAnimation.draw(),this.valueArrowAnimation?.draw(),this.resultAnimation.draw(),this.resultArrowAnimation?.draw(),this.arrayUnitTextAnimation?.draw(),this.arrayUnitArrowAnimation?.draw()]},u.key--)}async animate(){this.resultItem.ref.current?.hide(),this.resultItem.arrow?.ref.current?.hide(),this.arrayUnitText?.ref.current?.hide(),this.arrayUnit.arrow?.ref.current?.hide();let e=(0,d.q_)(this.asgnItem.text)+2*l.V.ControlItemTextPadding,t={duration:3/4};await Promise.all([this.arrayArrowAnimation.animateTo({opacity:0},{duration:.5}),this.valueArrowAnimation?.animateTo({opacity:0},{duration:.5}),this.asgnItemAnimation.animateRectTo({stroke:(0,d.t6)()}),this.asgnItemAnimation.animateTo({x:this.resultItem.x()-(this.resultItemIsFirst?e:0),y:this.resultItem.y()+(this.resultItemIsFirst?0:this.resultItem.height()),width:e}),this.arrayItemAnimation.animateRectTo({stroke:(0,d.t6)()}),this.arrayItemAnimation.animateTo({opacity:0},t),this.indexItemAnimation.animateRectTo({stroke:(0,d.t6)()}),this.indexItemAnimation.animateTo({x:this.resultItem.x()}),this.indexItemAnimation.animateTo({opacity:0},t),this.resultAnimation.animateRectTo({stroke:(0,d.t6)()}),this.resultAnimation.animateTo({x:this.resultItem.x()}),this.resultArrowAnimation?.animateTo({opacity:1},{duration:.5,delay:.75})]),this.resultItem.ref.current?.show(),this.resultItem.arrow?.ref.current?.show(),this.resultArrowAnimation?.destroy();let a={x:this.arrayUnit.x()+this.arrayUnit.width()/2-this.resultItem.width()/2,y:this.arrayUnit.y()-this.resultItem.height()-8},i={y:this.arrayUnit.y()+this.arrayUnit.height()/2-this.resultItem.height()/2};await Promise.all([this.asgnItemAnimation.animateTo({x:a.x-e,y:a.y},{duration:1.2}),this.resultAnimation.animateTo(a,{duration:1.2})]),await Promise.all([this.asgnItemAnimation.animateTo(i),this.asgnItemAnimation.animateTo({opacity:0},t),this.resultAnimation.animateTo(i),this.resultAnimation.animateTo({opacity:0},t),this.arrayUnitTextAnimation?.animateTo({y:this.arrayUnitText.y()}),this.arrayUnitTextAnimation?.animateTo({opacity:1},{...t,delay:1/4}),this.arrayUnitArrowAnimation?.animateTo({y:0}),this.arrayUnitArrowAnimation?.animateTo({opacity:1},{...t,delay:1/4})]),this.destroy()}destroy(){this.ref.current?.hide(),this.resultItem.ref.current?.show(),this.resultItem.arrow?.ref.current?.show(),this.arrayUnitText?.ref.current?.show(),this.arrayUnit.arrow?.ref.current?.show(),this.asgnItemAnimation.destroy(),this.arrayItemAnimation.destroy(),this.arrayArrowAnimation.destroy(),this.indexItemAnimation.destroy(),this.valueArrowAnimation?.destroy(),this.resultAnimation.destroy(),this.resultArrowAnimation?.destroy(),this.arrayUnitTextAnimation?.destroy(),this.arrayUnitArrowAnimation?.destroy()}}class P extends u{controlInstrItem;stashItem;resultItems;currCallInstrItem;controlInstrAnimation;stashItemAnimation;resultAnimations;arrowAnimation;currCallInstrAnimation;endX;constructor(e,t,a,i){super(),this.controlInstrItem=e,this.stashItem=t,this.resultItems=a,this.currCallInstrItem=i,this.endX=t.x()+t.width(),this.controlInstrAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.currCallInstrAnimation=new E(this.currCallInstrItem.text,f(this.currCallInstrItem),{rectProps:{stroke:(0,d.NP)()}}),this.resultAnimations=a.map(e=>new E(e.text,{...f(e),opacity:0})),t.arrow&&(this.arrowAnimation=new I(t.arrow,{opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.controlInstrAnimation.draw(),this.stashItemAnimation.draw(),this.currCallInstrAnimation.draw(),this.resultAnimations.map(e=>e.draw()),this.arrowAnimation?.draw()]},u.key--)}async animate(e){this.resultItems?.map(e=>e.ref.current?.hide()),this.resultItems?.map(e=>e.arrow?.ref.current?.hide());let t=(0,d.q_)(this.controlInstrItem.text)+2*l.V.ControlItemTextPadding,a=e=>this.resultItems[e]?.x()??this.stashItem.x(),i=this.resultItems[0]?.y()??this.stashItem.y(),s=a(0),n=(e?.duration??1)*3/4,r=(e?.delay??0)+(e?.duration??1)/4;await Promise.all([...this.resultAnimations.flatMap(e=>[e.animateTo({x:s+(this.endX-s)/2-this.resultItems[0]?.width()/2},{duration:0})]),this.controlInstrAnimation.animateRectTo({stroke:(0,d.t6)()},e),this.controlInstrAnimation.animateTo({x:s,y:i+(this.resultItems[0]?.height()??this.stashItem.height()),width:t},e),this.stashItemAnimation.animateRectTo({stroke:(0,d.wp)()},e)]),e={...e,delay:0},await Promise.all([this.controlInstrAnimation.animateTo({x:a(0),y:i},e),this.controlInstrAnimation.animateTo({opacity:0},{...e,duration:n}),this.stashItemAnimation.animateTo({x:a(0)},e),this.stashItemAnimation.animateTo({opacity:0},{...e,duration:n}),...this.resultAnimations.flatMap((t,i)=>[t.animateTo({x:a(i)},e),t.animateRectTo({stroke:(0,d.wp)()},e),t.animateTo({opacity:1},{...e,duration:n,delay:r})])]),this.destroy()}destroy(){this.ref.current?.hide(),this.resultItems.map(e=>e.ref.current?.show()),this.resultItems.map(e=>e.arrow?.ref.current?.show()),this.controlInstrAnimation.destroy(),this.stashItemAnimation.destroy(),this.resultAnimations.map(e=>e.destroy()),this.arrowAnimation?.destroy()}}class R extends u{asgnItem;stashItem;frame;binding;asgnItemAnimation;stashItemAnimation;bindingAnimation;arrowAnimation;stashItemIsFirst;constructor(e,t,a,i){super(),this.asgnItem=e,this.stashItem=t,this.frame=a,this.binding=i,this.stashItemIsFirst=0===t.index,this.asgnItemAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimation=new E(t.text,f(t)),this.binding.value instanceof k.l&&this.binding.value.text instanceof j.E&&(this.bindingAnimation=new A({...j.K,...f(this.binding.value.text),text:this.binding.value.text.partialStr,x:this.binding.value.text.x()-16,opacity:0}))}draw(){return this.binding.arrow&&(this.arrowAnimation=new I(this.binding.arrow,{x:-16,opacity:0})),(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.asgnItemAnimation.draw(),this.stashItemAnimation.draw(),this.bindingAnimation?.draw(),this.arrowAnimation?.draw()]},u.key--)}async animate(){let e=(0,d.q_)(this.asgnItem.text)+2*l.V.ControlItemTextPadding;this.bindingAnimation&&this.binding.value.ref.current?.hide(),this.binding.arrow?.ref.current?.hide(),await Promise.all([this.asgnItemAnimation.animateRectTo({stroke:(0,d.t6)()}),this.asgnItemAnimation.animateTo({x:this.stashItem.x()-(this.stashItemIsFirst?e:0),y:this.stashItem.y()+(this.stashItemIsFirst?0:this.stashItem.height()),width:e})]),await Promise.all([this.asgnItemAnimation.animateTo({x:this.frame.x()-this.asgnItemAnimation.width()-this.stashItemAnimation.width(),y:this.bindingAnimation?this.binding.y()+this.binding.height()/2-this.asgnItemAnimation.height()/2:this.binding.y()},{duration:1.2}),this.stashItemAnimation.animateTo({x:this.frame.x()-this.stashItem.width(),y:this.bindingAnimation?this.binding.y()+this.binding.height()/2-this.asgnItemAnimation.height()/2:this.binding.y()},{duration:1.2})]),await Promise.all([this.asgnItemAnimation.animateTo({x:this.binding.x()-this.asgnItemAnimation.width(),opacity:0}),this.stashItemAnimation.animateTo({x:this.binding.x(),opacity:0}),this.bindingAnimation?.animateTo({x:this.binding.value.text.x(),opacity:1},{duration:.5,delay:.5}),this.arrowAnimation?.animateTo({x:0,opacity:1},{duration:.5,delay:.5})]),this.destroy()}destroy(){this.ref.current?.hide(),this.binding.value.ref.current?.show(),this.binding.arrow?.ref.current?.show(),this.asgnItemAnimation.destroy(),this.stashItemAnimation.destroy(),this.bindingAnimation?.destroy(),this.arrowAnimation?.destroy()}}class L extends u{binaryOperator;rightOperand;result;binaryOperatorAnimation;leftOperandAnimation;rightOperandAnimation;resultAnimation;constructor(e,t,a,i){super(),this.binaryOperator=e,this.rightOperand=a,this.result=i,this.binaryOperatorAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.rightOperandAnimation=new E(a.text,f(a),{rectProps:{stroke:(0,d.wp)()}}),this.leftOperandAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.resultAnimation=new E(i.text,{...f(i),x:a.x(),opacity:0})}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.binaryOperatorAnimation.draw(),this.leftOperandAnimation.draw(),this.rightOperandAnimation.draw(),this.resultAnimation.draw()]},u.key--)}async animate(){this.result.ref.current?.hide();let e=f(this.rightOperand),t=f(this.result),a=(0,d.q_)(this.binaryOperator.text)+2*l.V.ControlItemTextPadding,i=3/4;await Promise.all([this.binaryOperatorAnimation.animateRectTo({stroke:(0,d.t6)()}),this.binaryOperatorAnimation.animateTo({...e,width:a}),this.leftOperandAnimation.animateRectTo({stroke:(0,d.t6)()}),this.rightOperandAnimation.animateRectTo({stroke:(0,d.t6)()}),this.rightOperandAnimation.animateTo({...e,x:e.x+a})]),await Promise.all([this.binaryOperatorAnimation.animateTo(t),this.binaryOperatorAnimation.animateTo({opacity:0},{duration:i}),this.leftOperandAnimation.animateTo({opacity:0},{duration:i}),this.rightOperandAnimation.animateTo(t),this.rightOperandAnimation.animateTo({opacity:0},{duration:i}),this.resultAnimation.animateTo(t),this.resultAnimation.animateTo({opacity:1},{duration:i,delay:1/4}),(0,d.XF)(this.result.index)&&this.resultAnimation.animateRectTo({stroke:(0,d.wp)()})]),this.destroy()}destroy(){this.ref.current?.hide(),this.result.ref.current?.show(),this.binaryOperatorAnimation.destroy(),this.leftOperandAnimation.destroy(),this.rightOperandAnimation.destroy(),this.resultAnimation.destroy()}}class M extends u{initialItem;targetItems;initialItemAnimation;targetItemAnimations;constructor(e,t){super(),this.initialItem=e,this.targetItems=t,this.targetItems=[...t],this.targetItems.sort((e,t)=>e.y()-t.y());const a=f(this.initialItem);this.initialItemAnimation=new E(e.text,a,{rectProps:{stroke:(0,d.NP)()}}),this.targetItemAnimations=this.targetItems.map((e,t)=>new E(e.text,{...a,y:a.y+t/this.targetItems.length*a.height,height:e.height(),opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.initialItemAnimation.draw(),this.targetItemAnimations.map(e=>e.draw())]},u.key--)}async animate(e){this.targetItems.forEach(e=>e.ref.current?.hide());let t=this.targetItems.reduce((e,t)=>e+t.height(),0),a=this.initialItem.y()+(t-this.initialItem.height())/2,i=(e?.duration??1)*3/4,s=(e?.delay??0)+(e?.duration??1)/4;await Promise.all([this.initialItemAnimation.animateRectTo({height:t,stroke:(0,d.t6)()},e),this.initialItemAnimation.animateTextTo({y:a},e),this.initialItemAnimation.animateTo({opacity:0},{...e,duration:i}),...this.targetItemAnimations.flatMap((t,a)=>[t.animateTo({...f(this.targetItems[a])},e),t.animateTo({opacity:1},{...e,duration:i,delay:s})]),this.targetItemAnimations.at(-1)?.animateRectTo({stroke:(0,d.NP)()},e)]),this.destroy()}destroy(){this.ref.current?.hide(),this.targetItems.forEach(e=>e.ref.current?.show()),this.initialItemAnimation.destroy(),this.targetItemAnimations.forEach(e=>e.destroy())}}class O extends u{branchItem;resultItems;booleanItemAnimation;controlExpandAnimation;constructor(e,t,a){super(),this.branchItem=e,this.resultItems=a,this.booleanItemAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.controlExpandAnimation=new M(e,a)}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.controlExpandAnimation.draw(),this.booleanItemAnimation.draw()]},u.key--)}async animate(){this.resultItems.forEach(e=>e.ref.current?.hide()),await Promise.all([this.booleanItemAnimation.animateRectTo({stroke:(0,d.t6)()}),this.booleanItemAnimation.animateTo({x:this.branchItem.x()+this.branchItem.width(),y:this.branchItem.y()})]),await Promise.all([this.booleanItemAnimation.animateTo({x:this.branchItem.x()}),this.booleanItemAnimation.animateTo({opacity:0},{duration:3/4}),this.controlExpandAnimation.animate()]),this.destroy()}destroy(){this.ref.current?.hide(),this.booleanItemAnimation.destroy(),this.controlExpandAnimation.destroy()}}class D extends u{stashItem;borderRectAnimation;controlTextAnimation;stackTextAnimation;arrowAnimation;textChanged;constructor(e,t){super(),this.stashItem=t;const a=f(e);this.borderRectAnimation=new w({...a,stroke:(0,d.NP)()}),this.controlTextAnimation=new A({...a,text:e.text,padding:l.V.ControlItemTextPadding}),this.textChanged=e.text!==t.text,this.textChanged&&(this.stackTextAnimation=new A({...a,text:t.text,padding:l.V.StashItemTextPadding,opacity:0})),this.stashItem.arrow&&(this.arrowAnimation=new I(this.stashItem.arrow,{opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.borderRectAnimation.draw(),this.controlTextAnimation.draw(),this.stackTextAnimation?.draw(),this.arrowAnimation?.draw()]},u.key--)}async animate(){this.stashItem.ref.current?.hide(),this.stashItem.arrow?.ref.current.hide();let e=f(this.stashItem);await Promise.all([this.borderRectAnimation.animateTo({...e,stroke:(0,d.XF)(this.stashItem.index)?(0,d.wp)():(0,d.t6)()}),this.controlTextAnimation.animateTo(e),...this.textChanged?[this.controlTextAnimation.animateTo({opacity:0},{duration:.5,delay:.2}),this.stackTextAnimation.animateTo(e),this.stackTextAnimation.animateTo({opacity:1},{duration:.5,delay:.5})]:[],this.arrowAnimation?.animateTo({opacity:1},{delay:1})]),this.destroy()}destroy(){this.ref.current?.hide(),this.stashItem.ref.current?.show(),this.stashItem.arrow?.ref.current?.show(),this.borderRectAnimation.destroy(),this.controlTextAnimation.destroy(),this.stackTextAnimation?.destroy(),this.arrowAnimation?.destroy()}}class U extends u{currFrame;frameAnimation;tempRect;constructor(e,t){super(),this.currFrame=t;const a=f(t);this.tempRect=new w({...a,cornerRadius:m.T.FrameCornerRadius});const i=f(e);this.frameAnimation=new w({...i,cornerRadius:m.T.FrameCornerRadius,stroke:(0,d.NP)()})}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.tempRect.draw(),this.frameAnimation.draw()]},u.key--)}async animate(){let e=f(this.frameAnimation),t=this.currFrame.ref.current?.strokeWidth?.()??2;await this.frameAnimation.animateTo({x:e.x-2,y:e.y-2,height:e.height+4,width:e.width+4,strokeWidth:t+4});let a=f(this.currFrame);await this.frameAnimation.animateTo({x:a.x-2,y:a.y-2,height:a.height+4,width:a.width+4},{duration:1.2}),this.tempRect.ref.current?.hide(),await this.frameAnimation.animateTo({...a,strokeWidth:t},{duration:1}),this.destroy()}destroy(){this.ref.current?.hide(),this.frameAnimation.destroy(),this.tempRect.destroy()}}var F=a(19205),G=a(48374);class z extends u{origin;frame;controlTextAnimation;borderAnimation;frameArrowAnimation;frameNameAnimation;frameKeyAnimations;frameValues;frameValueAnimations;frameArrows;frameArrowAnimations;variadicArray;constructor(e,t){super(),this.origin=e,this.frame=t;const a=t.x()-e.x(),i=t.y()-e.y();this.controlTextAnimation=new A({...f(e),text:e.text,padding:e instanceof F.k?l.V.ControlItemTextPadding:l.V.StashItemTextPadding,opacity:+(e instanceof F.k)}),this.borderAnimation=new w({...f(e),stroke:e instanceof F.k?(0,d.NP)():(0,d.t6)(),opacity:+(e instanceof F.k)}),t.arrow&&(this.frameArrowAnimation=new I(t.arrow,{opacity:0})),this.frameNameAnimation=new A({text:t.name.partialStr,...g(t.name),x:t.name.x()-a,y:t.name.y()-i,opacity:0}),this.frameKeyAnimations=t.bindings.map(e=>new A({text:e.keyString,...g(e.key),x:e.key.x()-a,y:e.key.y()-i,opacity:0})),this.frameValues=t.bindings.flatMap(e=>e.value instanceof k.l?e.value:[]),this.frameValueAnimations=this.frameValues.map(e=>new A({text:e.text.partialStr,...g(e),x:e.x()-a,y:e.y()-i,opacity:0})),this.frameArrows=this.frameArrowAnimations=[]}draw(){let e=this.frame.x()-this.origin.x(),t=this.frame.y()-this.origin.y();return this.frameArrows=this.frame.bindings.flatMap(e=>(e.value instanceof G.v&&(0,d.Q3)(e.value.data.environment,this.frame.environment)&&(this.variadicArray=e.value),e.arrow??[])),this.frameArrowAnimations=this.frameArrows.map(a=>new I(a,{x:-e,y:-t,opacity:0})),(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.controlTextAnimation.draw(),this.borderAnimation.draw(),this.frameArrowAnimation?.draw(),this.frameNameAnimation.draw(),this.frameKeyAnimations.map(e=>e.draw()),this.frameValueAnimations.map(e=>e.draw()),this.frameArrowAnimations.map(e=>e.draw())]},u.key--)}async animate(e){this.frame.ref.current?.hide();let t=e?.duration??1.2,a={...e,duration:t},i={...e,duration:3*t/4},s={duration:3*t/4,delay:t/4+(e?.delay??0),easing:e?.easing},n=f(this.frame),r=this.frameArrowAnimation?.animateTo({opacity:1},{delay:t+(e?.delay??0)});await Promise.all([this.controlTextAnimation.animateTo({opacity:0},i),this.controlTextAnimation.animateTo(y(this.frame),a),this.borderAnimation.animateTo({...n,stroke:(0,d.NP)(),opacity:1,cornerRadius:m.T.FrameCornerRadius},a),this.frameNameAnimation.animateTo(f(this.frame.name),a),...this.frameKeyAnimations.flatMap((e,t)=>[e.animateTo(y(this.frame.bindings[t].key),a),e.animateTo({opacity:1},s)]),...this.frameValueAnimations.flatMap((e,t)=>[e.animateTo(y(this.frameValues[t]),a),e.animateTo({opacity:1},s)]),...this.frameArrowAnimations.flatMap(e=>[e.animateTo({x:0,y:0},a),e.animateTo({opacity:1},s)]),this.frameNameAnimation.animateTo({opacity:1},s)]),this.variadicArray?.ref.current?.opacity(0),this.frame.arrow?.ref.current?.hide(),this.frame.ref.current?.show(),this.variadicArray?.ref.current?.to({opacity:1,duration:q.defaultDuration/1e3}),await r,this.destroy()}destroy(){this.ref.current?.hide(),this.frame.ref.current?.show(),this.frame.arrow?.ref.current?.show(),this.controlTextAnimation.destroy(),this.borderAnimation.destroy(),this.frameArrowAnimation?.destroy(),this.frameNameAnimation.destroy(),this.frameKeyAnimations.forEach(e=>e.destroy()),this.frameValueAnimations.forEach(e=>e.destroy()),this.frameArrowAnimations.forEach(e=>e.destroy())}}class B extends u{callInstrItem;newControlItems;closureStashItem;functionFrame;callInstrAnimation;stashItemAnimations;stashArrowAnimations;newControlItemAnimations;envArrowAnimation;frameCreationAnimation;isFirstStashItem;constructor(e,t,a,i,s){super(),this.callInstrItem=e,this.newControlItems=t,this.closureStashItem=a,this.functionFrame=s;const n=y(a);this.isFirstStashItem=0===a.index,this.callInstrAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimations=[new E(a.text,f(a),{rectProps:{stroke:(0,d.wp)()}}),...i.map(e=>new E(e.text,f(e),{rectProps:{stroke:(0,d.wp)()}}))],this.stashArrowAnimations=[new I(a.arrow),...i.flatMap(e=>e.arrow?new I(e.arrow):[])],this.newControlItemAnimations=t.map(e=>new E(e.text,{...n,opacity:0})),this.newControlItems[0].arrow&&(this.envArrowAnimation=new I(this.newControlItems[0].arrow,{opacity:0})),s&&(this.frameCreationAnimation=new z(a,s))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.callInstrAnimation.draw(),this.stashItemAnimations.map(e=>e.draw()),this.stashArrowAnimations.map(e=>e.draw()),this.newControlItemAnimations.map(e=>e.draw()),this.envArrowAnimation?.draw(),this.frameCreationAnimation?.draw()]},u.key--)}async animate(){this.newControlItems.forEach(e=>e.ref.current?.hide()),this.newControlItems[0].arrow?.ref.current?.hide(),this.functionFrame?.ref.current?.hide();let e=(0,d.q_)(this.callInstrItem.text)+2*l.V.ControlItemTextPadding;await Promise.all([this.callInstrAnimation.animateRectTo({stroke:(0,d.t6)()}),this.callInstrAnimation.animateTo({x:this.closureStashItem.x()-(this.isFirstStashItem?e:0),y:this.closureStashItem.y()+(this.isFirstStashItem?0:this.closureStashItem.height()),width:e}),...this.stashItemAnimations.map(e=>e.animateRectTo({stroke:(0,d.t6)()}))]);let t={x:this.functionFrame?.x()??this.newControlItems[0].x(),y:this.functionFrame?.y()??this.newControlItems[0].y()},a={duration:1.2},i=9/8,s=3/8;await Promise.all([this.stashArrowAnimations.map(e=>e.animateTo({opacity:0},{duration:.5})),this.callInstrAnimation.animateTo(t,a),this.callInstrAnimation.animateTo({opacity:0},{...a,duration:i}),...this.stashItemAnimations.flatMap(e=>[e.animateTo(t,a),e.animateTo({opacity:0},{...a,duration:i})]),...this.newControlItemAnimations.flatMap((e,t)=>[e.animateTo(f(this.newControlItems[t]),a),e.animateTo({opacity:1},{...a,duration:i,delay:s})]),this.newControlItemAnimations.at(-1).animateRectTo({stroke:(0,d.NP)()},a),this.frameCreationAnimation?.animate(a),this.envArrowAnimation?.animateTo({opacity:1},{delay:a.duration})]),this.destroy()}destroy(){this.ref.current?.hide(),this.newControlItems.forEach(e=>e.ref.current?.show()),this.newControlItems[0].arrow?.ref.current?.show(),this.functionFrame?.ref.current?.show(),this.callInstrAnimation.destroy(),this.stashItemAnimations.forEach(e=>e.destroy()),this.stashArrowAnimations.forEach(e=>e.destroy()),this.newControlItemAnimations.forEach(e=>e.destroy()),this.frameCreationAnimation?.destroy()}}class H extends u{controlInstrItem;stashItems;resultItem;controlInstrAnimation;stashItemAnimations;resultAnimation;arrowAnimation;endX;resultItemIsFirst;constructor(e,t,a){super(),this.controlInstrItem=e,this.stashItems=t,this.resultItem=a,this.resultItemIsFirst=(a?.index??t[0].index)===0,this.endX=t.at(-1).x()+t.at(-1).width(),this.controlInstrAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimations=t.map(e=>new E(e.text,f(e),{rectProps:{stroke:(0,d.XF)(e.index)?(0,d.wp)():(0,d.t6)()}})),this.resultAnimation=new E(a.text,{...f(a),opacity:0}),a.arrow&&(this.arrowAnimation=new I(a.arrow,{opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.controlInstrAnimation.draw(),this.stashItemAnimations.map(e=>e.draw()),this.resultAnimation.draw(),this.arrowAnimation?.draw()]},u.key--)}async animate(e){this.resultItem?.ref.current?.hide(),this.resultItem?.arrow?.ref.current?.hide();let t=(0,d.q_)(this.controlInstrItem.text)+2*l.V.ControlItemTextPadding,a=this.resultItem?.x()??this.stashItems[0].x(),i=this.resultItem?.y()??this.stashItems[0].y(),s=a-(this.resultItemIsFirst?t:0),n=(e?.duration??1)*3/4,r=(e?.delay??0)+(e?.duration??1)/4;await Promise.all([this.resultAnimation.animateTo({x:s+(this.endX-s)/2-this.resultItem.width()/2},{duration:0}),this.controlInstrAnimation.animateRectTo({stroke:(0,d.t6)()},e),this.controlInstrAnimation.animateTo({x:s,y:i+(this.resultItemIsFirst?0:this.resultItem?.height()??this.stashItems[0].height()),width:t},e),...this.stashItemAnimations.map(t=>t.animateRectTo({stroke:(0,d.t6)()},e))]),e={...e,delay:0},await Promise.all([this.controlInstrAnimation.animateTo({x:a,y:i},e),this.controlInstrAnimation.animateTo({opacity:0},{...e,duration:n}),...this.stashItemAnimations.flatMap(t=>[t.animateTo({x:a},e),t.animateTo({opacity:0},{...e,duration:n})]),this.resultAnimation?.animateTo({x:a},e),(0,d.XF)(this.resultItem.index)&&this.resultAnimation?.animateRectTo({stroke:(0,d.wp)()},e),this.resultAnimation?.animateTo({opacity:1},{...e,duration:n,delay:r}),this.arrowAnimation?.animateTo({opacity:1},{...e,delay:e?.duration??1})]),this.destroy()}destroy(){this.ref.current?.hide(),this.resultItem.ref.current?.show(),this.resultItem.arrow?.ref.current?.show(),this.controlInstrAnimation.destroy(),this.stashItemAnimations.map(e=>e.destroy()),this.resultAnimation.destroy(),this.arrowAnimation?.destroy()}}class V extends u{nameItem;stashItem;frame;binding;nameItemAnimation;stashItemAnimation;arrowAnimation;constructor(e,t,a,i){super(),this.nameItem=e,this.stashItem=t,this.frame=a,this.binding=i,this.nameItemAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimation=new E(t.text,{...f(t),x:a.x(),y:i.key.y()+i.key.height()/2-t.height()/2,opacity:0}),t.arrow&&(this.arrowAnimation=new I(t.arrow,{opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.nameItemAnimation.draw(),this.stashItemAnimation.draw(),this.arrowAnimation?.draw()]},u.key--)}async animate(){this.stashItem.ref.current?.hide(),this.stashItem.arrow&&this.stashItem.arrow.ref.current?.hide();let e=(0,d.q_)(this.nameItem.text)+2*l.V.ControlItemTextPadding;await Promise.all([this.nameItemAnimation.animateRectTo({stroke:(0,d.t6)()},{duration:1.2}),this.nameItemAnimation.animateTo({x:this.frame.x()-e,y:this.binding.key.y()+this.binding.key.height()/2-this.nameItem.height()/2,width:e},{duration:1.2})]),await Promise.all([this.nameItemAnimation.animateTo({x:this.frame.x()-this.nameItemAnimation.width()-this.stashItemAnimation.width()}),this.stashItemAnimation.animateTo({x:this.frame.x()-this.stashItem.width(),opacity:1})]),await Promise.all([this.nameItemAnimation.animateTo({x:this.stashItem.x()-this.nameItemAnimation.width(),y:this.stashItem.y(),opacity:0},{duration:1.2}),this.stashItemAnimation.animateTo({x:this.stashItem.x(),y:this.stashItem.y()},{duration:1.2}),(0,d.XF)(this.stashItem.index)&&this.stashItemAnimation.animateRectTo({stroke:(0,d.wp)()},{duration:1.2}),this.arrowAnimation?.animateTo({opacity:1},{delay:1.2})]),this.destroy()}destroy(){this.ref.current?.hide(),this.stashItem.ref.current?.show(),this.stashItem.arrow?.ref.current?.show(),this.nameItemAnimation.destroy(),this.stashItemAnimation.destroy()}}class J extends u{stashItem;undefinedStashItem;popItemAnimation;stashItemAnimation;undefinedStashItemAnimation;constructor(e,t,a){super(),this.stashItem=t,this.undefinedStashItem=a;const i=f(t);this.popItemAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.stashItemAnimation=new E(t.text,{...i,x:i.x+i.width/2,offsetX:i.width/2,y:i.y+i.height/2,offsetY:i.height/2},{rectProps:{stroke:(0,d.wp)()}}),a&&(this.undefinedStashItemAnimation=new E(a.text,{...f(a),opacity:0}))}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.popItemAnimation.draw(),this.stashItemAnimation.draw(),this.undefinedStashItemAnimation?.draw()]},u.key--)}async animate(){this.undefinedStashItem?.ref.current?.hide(),await Promise.all([this.popItemAnimation.animateRectTo({stroke:(0,d.t6)()},{duration:.8}),this.popItemAnimation.animateTo({...f(this.stashItem),opacity:0}),this.stashItemAnimation.animateRectTo({stroke:(0,d.t6)()},{delay:.3}),this.stashItemAnimation.animateTo({scaleX:.6,scaleY:.6},{delay:.3})]),await Promise.all([this.stashItemAnimation.animateTo({scaleX:1.1,scaleY:1.1,opacity:0},{duration:.5,easing:s.F.StrongEaseOut}),this.undefinedStashItemAnimation?.animateTo({opacity:1},{delay:.3})]),this.destroy()}destroy(){this.ref.current?.hide(),this.undefinedStashItem?.ref?.current?.show(),this.popItemAnimation.destroy(),this.stashItemAnimation.destroy()}}class Y extends u{operator;operand;result;operatorAnimation;operandAnimation;resultAnimation;constructor(e,t,a){super(),this.operator=e,this.operand=t,this.result=a,this.operatorAnimation=new E(e.text,f(e),{rectProps:{stroke:(0,d.NP)()}}),this.operandAnimation=new E(t.text,f(t),{rectProps:{stroke:(0,d.wp)()}}),this.resultAnimation=new E(a.text,{...f(a),x:t.x()+t.width()/2,opacity:0})}draw(){return(0,r.jsxs)(o.YJ,{ref:this.ref,children:[this.operatorAnimation.draw(),this.operandAnimation.draw(),this.resultAnimation.draw()]},u.key--)}async animate(){this.result.ref.current?.hide();let e=(0,d.q_)(this.operator.text)+2*l.V.ControlItemTextPadding;await Promise.all([this.resultAnimation.animateTo({x:this.operand.x()+(this.operand.x()+e+this.operand.width())/2+this.result.width()/2},{duration:0}),this.operatorAnimation.animateRectTo({stroke:(0,d.t6)()}),this.operatorAnimation.animateTo({x:this.operand.x(),y:this.result.y(),width:e}),this.operandAnimation.animateRectTo({stroke:(0,d.t6)()}),this.operandAnimation.animateTo({x:this.operand.x()+e})]);let t=3/4;await Promise.all([this.operatorAnimation.animateTo({width:this.result.width()}),this.operatorAnimation.animateTo({opacity:0},{duration:t}),this.operandAnimation.animateTo({x:this.result.x(),width:this.result.width()}),this.operandAnimation.animateTo({opacity:0},{duration:t}),this.resultAnimation.animateTo({x:this.result.x()}),this.resultAnimation.animateTo({opacity:1},{duration:t,delay:1/4}),(0,d.XF)(this.result.index)&&this.resultAnimation.animateRectTo({stroke:(0,d.wp)()})]),this.destroy()}destroy(){this.ref.current?.hide(),this.result.ref.current?.show(),this.operatorAnimation.destroy(),this.operandAnimation.destroy(),this.resultAnimation.destroy()}}var W=a(57564),X=a(74970),$=a(39133),Z=a(26117);class q{static animations=[];static defaultDuration=300;static defaultEasing=s.F.StrongEaseInOut;static animationEnabled=!1;static currentFrame;static previousFrame;static layerRef=n.createRef();static getLayer(){return this.layerRef.current}static enableAnimations(){q.animationEnabled=!0}static disableAnimations(){q.animationEnabled=!1}static setCurrentFrame(e){q.previousFrame=q.currentFrame??e,q.currentFrame=e}static clearAnimationComponents(){q.animations.forEach(e=>e.destroy()),q.animations.length=0}static getNewControlItems(){let e=$.P.controlComponent.control.size()-$.P.previousControlComponent.control.size()+1;return e<=0?[]:$.P.controlComponent.stackItemComponents.slice(-e)}static handleNode(e){let t=$.P.previousControlComponent.stackItemComponents.at(-1),a=$.P.stashComponent.stashItemComponents.at(-1);switch(e.type){case"Program":case"BlockStatement":case"StatementSequence":1===e.body.length?q.handleNode(e.body[0]):(q.animations.push(new M(t,q.getNewControlItems())),(0,d.Q3)(q.currentFrame.environment,q.previousFrame.environment)||q.animations.push(new z(t,q.currentFrame)));break;case"Literal":case"ArrowFunctionExpression":q.animations.push(new D(t,a));break;case"Identifier":"undefined"===e.name?q.animations.push(new D(t,a)):q.animations.push(new V(t,a,...b(q.currentFrame,e.name)));break;case"SpreadElement":case"AssignmentExpression":case"ArrayExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"ForStatement":case"IfStatement":case"MemberExpression":case"ReturnStatement":case"UnaryExpression":case"VariableDeclaration":case"FunctionDeclaration":case"WhileStatement":q.animations.push(new M(t,q.getNewControlItems()));break;case"ExpressionStatement":q.handleNode(e.expression)}}static updateAnimation(){if(q.clearAnimationComponents(),!$.P.previousControlComponent)return;let e=$.P.previousControlComponent.control.peek(),t=$.P.previousControlComponent.stackItemComponents.at(-1),a=$.P.stashComponent.stashItemComponents.at(-1);if(q.animationEnabled&&e&&t&&X.A.getControlStash())if((0,W.Ll)(e))q.handleNode(e);else if((0,d.pU)(e))switch(e.instrType){case i.InstrType.APPLICATION:{let i=$.P.previousStashComponent.stashItemComponents.at(-e.numOfArgs-1),s=i.value;if((0,d.G6)(s)||(0,d.TJ)(s)){q.animations.push(new H(t,$.P.previousStashComponent.stashItemComponents.slice(-e.numOfArgs-1),a));break}let n=e.numOfArgs>0;q.animations.push(new B(t,q.getNewControlItems(),i,$.P.previousStashComponent.stashItemComponents.slice(-e.numOfArgs),n?q.currentFrame:void 0));break}case i.InstrType.ARRAY_ACCESS:q.animations.push(new _(t,$.P.previousStashComponent.stashItemComponents.at(-2),$.P.previousStashComponent.stashItemComponents.at(-1),$.P.stashComponent.stashItemComponents.at(-1)));break;case i.InstrType.ARRAY_ASSIGNMENT:{let e=$.P.previousStashComponent.stashItemComponents.at(-3);q.animations.push(new N(t,e,$.P.values.get(e.value.id),$.P.previousStashComponent.stashItemComponents.at(-2),$.P.previousStashComponent.stashItemComponents.at(-1),$.P.stashComponent.stashItemComponents.at(-1)));break}case i.InstrType.ARRAY_LITERAL:{let i=e.arity;q.animations.push(new H(t,$.P.previousStashComponent.stashItemComponents.slice(-i),a));break}case i.InstrType.ASSIGNMENT:q.animations.push(new R(t,a,...b(q.currentFrame,e.symbol)));break;case i.InstrType.BINARY_OP:q.animations.push(new L(t,$.P.previousStashComponent.stashItemComponents.at(-2),$.P.previousStashComponent.stashItemComponents.at(-1),a));break;case i.InstrType.BRANCH:case i.InstrType.FOR:case i.InstrType.WHILE:q.animations.push(new O(t,$.P.previousStashComponent.stashItemComponents.at(-1),q.getNewControlItems()));break;case i.InstrType.ENVIRONMENT:q.animations.push(new U(q.previousFrame,q.currentFrame));break;case i.InstrType.POP:{let e=$.P.stashComponent.stash.size(),i=$.P.previousStashComponent.stash.size(),s=1===e&&"undefined"===a.text&&e===i;q.animations.push(new J(t,$.P.previousStashComponent.stashItemComponents.at(-1),s?a:void 0))}break;case i.InstrType.UNARY_OP:q.animations.push(new Y(t,$.P.previousStashComponent.stashItemComponents.at(-1),a));break;case i.InstrType.SPREAD:{let e,a=$.P.controlComponent.stackItemComponents,i=$.P.previousStashComponent.stashItemComponents.at(-1).arrow.target;for(let t=1;void 0!=a.at(-t);t++)if(a.at(-t)?.text.includes("call ")){e=a.at(-t);break}let s=0!==i.data.length?$.P.stashComponent.stashItemComponents.slice(-i.data.length):[];q.animations.push(new P(t,$.P.previousStashComponent.stashItemComponents.at(-1),s,e))}case i.InstrType.ARRAY_LENGTH:case i.InstrType.BREAK:case i.InstrType.BREAK_MARKER:case i.InstrType.CONTINUE_MARKER:case i.InstrType.MARKER:case i.InstrType.RESET:}else{if(null===e||"number"==typeof e||"boolean"==typeof e||"string"==typeof e)q.animations.push(new D(t,a));else if((0,Z.Bm)(e))q.animations.push(new D(t,a));else if((0,Z.Lv)(e)){let i=e[0];if((0,Z.Bm)(i))switch(i.sym){case"lambda":case"define":case"set!":case"if":case"begin":default:q.animations.push(new M(t,q.getNewControlItems()));break;case"quote":case"define-syntax":q.animations.push(new D(t,a))}else q.animations.push(new M(t,q.getNewControlItems()))}return}}static async playAnimation(){if(!q.animationEnabled)return void q.clearAnimationComponents();q.disableAnimations();let e=q.getLayer()?.getNativeCanvasElement();e&&(e.style.pointerEvents="none"),await Promise.all(this.animations.map(e=>e.animate()))}}},44708:function(e,t,a){"use strict";a.d(t,{$:()=>s,T:()=>i});let i=Object.freeze({CanvasMinHeight:800,CanvasMinWidth:800,CanvasPaddingX:30,CanvasPaddingY:30,LevelPaddingX:10,LevelPaddingY:10,FrameMinWidth:100,FramePaddingX:20,FramePaddingY:30,FrameMinGapX:80,FrameMarginX:30,FrameMarginY:10,FrameCornerRadius:3,FnRadius:15,FnInnerRadius:3,FnTooltipOpacity:.3,FnTooltipTextPadding:5,DataMinWidth:20,DataUnitWidth:40,DataUnitHeight:40,DataCornerRadius:3,DataHitStrokeWidth:5,TextPaddingX:10,TextPaddingY:30,TextMargin:5,TextMinWidth:30,FontFamily:"monospace, monospace",FontSize:15,FontStyle:"normal",FontVariant:"normal",ArrowHeadSize:10,ArrowStrokeWidth:1,ArrowHitStrokeWidth:5,ArrowHoveredStrokeWidth:2,ArrowCornerRadius:40,MaxExportWidth:2e4,MaxExportHeight:12e3,BgColor:"#2c3e50",PrintBgColor:"#fff",TextColor:"#999",TextColorFaded:"#5b6773",PrintTextColor:"#333",PrintTextColorFaded:"#ccc",StrokeColor:"#999",StrokeColorFaded:"#5b6773",PrintStrokeColor:"#777",PrintStrokeColorFaded:"#ccc",ActiveColor:"#030fff",PrintActiveColor:"#3d5afe",DangerColor:"#ff1744",PrintDangerColor:"#f44336",HoverColor:"#25c225",PrintHoverColor:"#0dbf0d",HoverBgColor:"#000",PrintHoverBgColor:"#bbb",ConstantColon:":= ",VariableColon:": ",Ellipsis:"…",UnassignedData:"",GlobalFrameDefaultText:":::pre-declared names::",GlobalEnvId:"-1"}),s=Object.freeze({preventDefault:!1})},65866:function(e,t,a){"use strict";a.d(t,{V:()=>i});let i=Object.freeze({ControlPosX:20,ControlPosY:5,StashPosX:140,StashPosY:5,ControlItemWidth:120,ControlItemTextPadding:10,ControlMaxTextWidth:95,ControlMaxTextHeight:125,ControlItemCornerRadius:5,StashItemHeight:15,StashItemTextPadding:10,StashMaxTextWidth:95,StashMaxTextHeight:30,StashItemCornerRadius:5,ShowMoreButtonWidth:80,ShowMoreButtonHeight:15,ShowMoreButtonX:40,ShowMoreButtonY:25,TooltipOpacity:.7,TooltipMargin:5,TooltipPadding:5,FontFamily:"monospace, monospace",FontSize:15,FontStyle:"normal",FontVariant:"normal",FontStyleHeader:"bold",FontSizeHeader:18})},39133:function(e,t,a){"use strict";a.d(t,{P:()=>E});var i=a(74848),s=a(96540),n=a(82819),r=a(50046),o=a(39088),l=a(93510),d=a(90523),c=a(57564),u=a(74970),h=a(44708),p=a(65866),m=a(48822),g=a(48955);class y extends g.B{parentLevel;envTreeNodes;frames=[];constructor(e,t){super(),this.parentLevel=e,this.envTreeNodes=t,this._x=u.A.getControlStash()?p.V.ControlPosX+p.V.ControlItemWidth+h.T.CanvasPaddingX:h.T.CanvasPaddingX,this._y=h.T.CanvasPaddingY,u.A.getControlStash()&&!this.parentLevel&&(this._y+=p.V.StashItemHeight+3*p.V.ControlItemTextPadding),this.parentLevel&&(this._y+=this.parentLevel.height()+this.parentLevel.y());let a=null;t.forEach(e=>{e.level=this;let t=new m.w(e,a);e.frame=t,this.frames.push(t),a=t}),this._height=this.frames.reduce((e,t)=>Math.max(e,t.totalHeight),0);const i=this.frames[this.frames.length-1];this._width=i.x()+i.totalWidth-this.x()+h.T.LevelPaddingX}destroy(){this.ref.current.destroyChildren()}draw(){return(0,i.jsxs)(o.YJ,{ref:this.ref,children:[(0,s.createElement)(o.rw,{...h.$,x:this.x(),y:this.y(),width:this.width(),height:this.height(),key:E.key++,listening:!1}),this.frames.map(e=>e.draw())]},E.key++)}}var f=a(60062);class b extends g.B{stash;chapter;stashItemComponents;constructor(e,t){super(),this.stash=e,this.chapter=t,this._x=p.V.StashPosX,this._y=p.V.StashPosY,this._width=0,this._height=0,this.chapter=t;let a=0;const i=e=>{let t=(0,f.s6)(e,this._width,a,this.chapter);return this._width+=t.width(),this._height=Math.max(this._height,t.height()),a+=1,t};this.stashItemComponents=this.stash.getStack().slice(u.A.getStackTruncated()?-10:0).map(i)}draw(){return(0,i.jsx)(i.Fragment,{children:this.stashItemComponents.map(e=>e?.draw())})}}var x=a(48374),v=a(24909),T=a(63501),A=a(8458),w=a(25970),S=a(93290),C=a(82678),I=a(26117);class E{static _width;static _height;static controlStashWidth;static controlStashHeight;static visibleHeight=window.innerHeight;static visibleWidth=window.innerWidth;static stageHeight=window.innerHeight;static stageWidth=window.innerWidth;static key=0;static scaleFactor=1.02;static globalEnvNode;static levels=[];static control;static stash;static controlComponent;static stashComponent;static previousControlComponent;static previousStashComponent;static values=new Map;static prevLayout;static currentDark;static currentLight;static currentStackDark;static currentStackTruncDark;static currentStackLight;static currentStackTruncLight;static stageRef=s.createRef();static invisiblePaddingVertical=300;static invisiblePaddingHorizontal=300;static scrollContainerRef=s.createRef();static updateDimensions(e,t){E.visibleWidth=e,E.visibleHeight=t,E._width=Math.max(E.visibleWidth,E.stageWidth),E._height=Math.max(E.visibleHeight,E.stageHeight),null!==E.stageRef.current&&(Math.min(E.width(),window.innerWidth)>E.stageWidth||Math.min(E.height(),window.innerHeight)>E.stageHeight)&&(E.currentLight=void 0,E.currentDark=void 0,E.stageWidth=Math.min(E.width(),window.innerWidth),E.stageHeight=Math.min(E.height(),window.innerHeight),E.stageRef.current.width(E.stageWidth),E.stageRef.current.height(E.stageHeight),u.A.redraw()),E.invisiblePaddingVertical=E.stageHeight>E.visibleHeight?(E.stageHeight-E.visibleHeight)/2:0,E.invisiblePaddingHorizontal=E.stageWidth>E.visibleWidth?(E.stageWidth-E.visibleWidth)/2:0;let a=this.scrollContainerRef.current;a&&(a.style.width=`${E.visibleWidth}px`,a.style.height=`${E.visibleHeight}px`)}static setContext(e,t,a,i=r.Chapter.SOURCE_4){E.currentLight=void 0,E.currentDark=void 0,E.currentStackDark=void 0,E.currentStackTruncDark=void 0,E.currentStackLight=void 0,E.currentStackTruncLight=void 0,E.values.clear(),E.key=0,E.globalEnvNode=(0,f._Z)(e).root,E.control=t,E.stash=a,E.removePreludeEnv(),E.removeUnreferencedGlobalFns(),E.initializeGrid(),E.initializeControlStash(i),u.A.getControlStash()&&(E.controlStashHeight=Math.max(h.T.CanvasMinHeight,E.controlComponent.y()+E.controlComponent.height()+h.T.CanvasPaddingY),E.controlStashWidth=Math.max(h.T.CanvasMinWidth,E.controlComponent.x()+E.controlComponent.width()+h.T.CanvasPaddingX,E.stashComponent.x()+E.stashComponent.width()+h.T.CanvasPaddingX));let s=E.levels[E.levels.length-1];E._height=Math.max(E.visibleHeight,h.T.CanvasMinHeight,s.y()+s.height()+h.T.CanvasPaddingY,E.controlStashHeight??0),E._width=Math.max(E.visibleWidth,h.T.CanvasMinWidth,E.levels.reduce((e,t)=>Math.max(e,t.width()),0)+2*h.T.CanvasPaddingX+(u.A.getControlStash()?E.controlComponent.width()+2*h.T.CanvasPaddingX:0)),C.G.updateAnimation()}static initializeControlStash(e){E.previousControlComponent=E.controlComponent,E.previousStashComponent=E.stashComponent,this.controlComponent=new c.A(this.control,e),this.stashComponent=new b(this.stash,e)}static removePreludeEnv(){if(!E.globalEnvNode.children||0===E.globalEnvNode.children.length)return;let e=E.globalEnvNode.children[0],t=e.environment,a=E.globalEnvNode.environment;for(let[e,i]of Object.entries(t.head))delete t.head[e],a.head[e]=i,(0,f.TJ)(i)&&(0,f.Q3)(i.environment,t)&&Object.defineProperty(i,"environment",{value:a});for(let e of t.heap.getHeap()){if(Object.defineProperty(e,"environment",{value:a}),(0,f.Iy)(e))for(let i of e)(0,f.TJ)(i)&&(0,f.Q3)(i.environment,t)&&Object.defineProperty(i,"environment",{value:a});t.heap.move(e,a.heap)}E.globalEnvNode.resetChildren(e.children),E.globalEnvNode.children.forEach(e=>{e.environment.tail=a})}static removeUnreferencedGlobalFns(){let e=new Set,t=new Set,a=t=>{let s=Object.values(t.environment.head),n=(0,f._i)(t.environment.heap.getHeap(),new Set(s));for(let t of s)(0,f.O9)(t)?e.add(t):(0,f.Iy)(t)&&i(t);for(let e of n)(0,f.Iy)(e)&&i(e);t.children.forEach(a)},i=a=>{t.has(a)||(t.add(a),a.forEach(t=>{(0,f.O9)(t)?e.add(t):(0,f.Iy)(t)&&i(t)}))};for(let t of E.stash.getStack())(0,f.O9)(t)?e.add(t):(0,f.Iy)(t)&&i(t);for(let t of E.globalEnvNode.environment.heap.getHeap())(0,f.zO)(t)?e.add(t):(0,f.Iy)(t)&&i(t);E.globalEnvNode.children.forEach(a);let s=new Map(Object.entries(E.globalEnvNode.environment.head).map(([e,t])=>[t,e])),r=0,o={},l=new n.default;for(let t of e)(0,f.IM)(t)&&l.add(t),(0,f.O9)(t)&&(o[s.get(t)??`${r++}`]=t);for(let e of E.globalEnvNode.environment.heap.getHeap())(0,f.Iy)(e)&&l.add(e);E.globalEnvNode.environment.head={[h.T.GlobalFrameDefaultText]:Symbol(),...o},E.globalEnvNode.environment.heap=l}static width(){return E._width}static height(){return E._height}static initializeGrid(){let e;this.levels=[];let t=[E.globalEnvNode],a=null;for(;t.length>0;){e=new y(a,t),this.levels.push(e);let i=[];t.forEach(e=>{e.children.forEach(t=>{let a=(0,f.BC)(t);a.forEach(t=>t.parent=e),i.push(...a)})}),a=e,t=i}}static createValue(e,t){if((0,f.Yo)(e))return(0,f.vA)(t instanceof d.O),new S.B(t);{if((0,f.i3)(e)||(0,I.Bm)(e)||(0,I.HA)(e))return new w.l(e,t);let a=E.values.get((0,f.G6)(e)||(0,f.TJ)(e)?e:e.id);if(a)return a.addReference(t),a;if((0,f.Iy)(e))return new x.v(e,t);if((0,I.ks)(e))return new v.K(e,t);if((0,f.O9)(e))return(0,f.vA)(t instanceof d.O),new A.N(e,t);else if((0,f.zO)(e))return new T.E(e,t);return new w.l(null,t)}}static memoizeValue(e,t){(0,f.G6)(e)||(0,f.TJ)(e)?E.values.set(e,t):E.values.set(e.id,t)}static exportImage=()=>{let e,t=this.scrollContainerRef.current;t?.scrollTo({left:0,top:0}),E.handleScrollPosition(0,0),this.stageRef.current?.scale({x:1,y:1});let a=E.height(),i=E.width(),s=Math.ceil(i/h.T.MaxExportWidth),n=Math.ceil(a/h.T.MaxExportHeight);(e=t=>{if(t>=s*n)return;let r=t%s,o=Math.floor(t/s),l=document.createElement("a");l.style.display="none",l.href=this.stageRef.current?.toDataURL({x:r*h.T.MaxExportWidth+E.invisiblePaddingHorizontal,y:o*h.T.MaxExportHeight+E.invisiblePaddingVertical,width:Math.min(i-r*h.T.MaxExportWidth,h.T.MaxExportWidth),height:Math.min(a-o*h.T.MaxExportHeight,h.T.MaxExportHeight),mimeType:"image/jpeg"})??"",l.download=`diagram_${r}_${o}.jpg`,document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout(function(){e(t+1)},1e3)})(0)};static handleScrollPosition(e,t){if(!this.stageRef.current)return;let a=e-E.invisiblePaddingHorizontal,i=t-E.invisiblePaddingVertical;this.stageRef.current.container().style.transform="translate("+a+"px, "+i+"px)",this.stageRef.current.x(-a),this.stageRef.current.y(-i)}static zoomStage(e,t=1){if("boolean"!=typeof e&&e.evt.preventDefault(),null!==E.stageRef.current){let a=E.stageRef.current,i=a.scaleX(),{x:s,y:n}=a.getPointerPosition()??{x:E.visibleWidth/2-a.x(),y:E.visibleHeight/2-a.y()},r={x:(s-a.x())/i,y:(n-a.y())/i},o="boolean"!=typeof e?e.evt.deltaY>0?-1:1:e?1:-1;if(o>0&&i<3||o<0&&i>.4){let l=o>0?i*E.scaleFactor**t:i/E.scaleFactor**t;if(a.scale({x:l,y:l}),"boolean"!=typeof e){let e={x:s-r.x*l,y:n-r.y*l};a.position(e),a.batchDraw()}}}}static draw(){if(0!==E.key)return E.prevLayout;{let e=(0,i.jsx)("div",{className:"sa-cse-machine","data-testid":"sa-cse-machine",children:(0,i.jsx)("div",{id:"scroll-container",ref:E.scrollContainerRef,onScroll:e=>E.handleScrollPosition(e.currentTarget.scrollLeft,e.currentTarget.scrollTop),style:{width:E.visibleWidth,height:E.visibleHeight,overflow:"hidden"},children:(0,i.jsx)("div",{id:"large-container",style:{width:E.width(),height:E.height(),overflow:"hidden",backgroundColor:(0,f.lG)()},children:(0,i.jsxs)(o.BI,{width:E.stageWidth,height:E.stageHeight,ref:E.stageRef,draggable:!0,onWheel:E.zoomStage,className:l.A.draggable,children:[(0,i.jsxs)(o.Wd,{children:[(0,s.createElement)(o.rw,{...h.$,x:0,y:0,width:E.width(),height:E.height(),fill:(0,f.lG)(),key:E.key++,listening:!1}),E.levels.map(e=>e.draw()),u.A.getControlStash()&&E.controlComponent.draw(),u.A.getControlStash()&&E.stashComponent.draw()]}),(0,i.jsx)(o.Wd,{ref:C.G.layerRef,listening:!1,children:u.A.getControlStash()&&C.G.animations.map(e=>e.draw())})]})})})});return E.prevLayout=e,u.A.getPrintableMode()?u.A.getControlStash()?u.A.getStackTruncated()?E.currentStackTruncLight=e:E.currentStackLight=e:E.currentLight=e:u.A.getControlStash()?u.A.getStackTruncated()?E.currentStackTruncDark=e:E.currentStackDark=e:E.currentDark=e,e}}}},60062:function(e,t,a){"use strict";a.d(t,{eM:()=>er,O9:()=>H,vA:()=>N,NP:()=>eT,lG:()=>ey,k6:()=>q,zO:()=>V,i3:()=>W,e_:()=>ea,mV:()=>eh,IM:()=>z,s6:()=>ep,G6:()=>U,pU:()=>eu,HQ:()=>P,lb:()=>ee,_i:()=>X,XF:()=>eg,wM:()=>et,Lq:()=>en,TJ:()=>B,kZ:()=>J,eQ:()=>ef,Xv:()=>$,fW:()=>em,hc:()=>el,BC:()=>function e(t){var a;if(null!==(a=t.environment)&&0!==Object.keys(a.head).length)return[t];{let a=[];return t.children.forEach(t=>{a.push(...e(t))}),a}},Iy:()=>O,gR:()=>ev,SU:()=>ei,Xt:()=>eb,q_:()=>K,_Z:()=>ed,t6:()=>ex,d4:()=>Z,wp:()=>eA,Q3:()=>eo,Yo:()=>Y,rn:()=>es,EJ:()=>ec});var i=a(82097),s=a(36236),n=a(62172),r=a(38268),o=a(23178),l=a(64346),d=a(17129),c=a(2543),u=a(81720),h=a(93510),p=a(6421),m=a(90523),g=a(19205),y=a(57564),f=a(74848),b=a(96540),x=a(39088),v=a(74970),T=a(44708),A=a(65866),w=a(39133),S=a(26117),C=a(75482);class I extends C.F{calculateSteps(){let e=this.source,t=this.target;return t?[(t,a)=>[t+e.width()/2,a+e.height()],(e,a)=>[t.x()+(t.x()<e?t.width()/2:0),t.y()]]:[]}}var E=a(48955);class _ extends E.B{value;index;text;tooltip;tooltipRef;arrow;constructor(e,t,a,i){super(),this.value=e,this.index=a;const s=t=>"string"==typeof t?`'${t}'`.trim():(0,S.ks)(t)?"continuation":V(t)?"closure":O(t)?i?"pair/array":JSON.stringify(t):P(t)?t.toReplString():String(e);this.text=ec(s(e),A.V.StashMaxTextWidth,A.V.StashMaxTextHeight).replace(/[\r\n]/gm," "),this.tooltip=s(e),this.tooltipRef=b.createRef(),this._width=2*A.V.StashItemTextPadding+K(this.text,`${A.V.FontStyle} ${A.V.FontSize}px ${A.V.FontFamily}`),this._height=A.V.StashItemHeight+2*A.V.StashItemTextPadding,this._x=A.V.StashPosX+t,this._y=A.V.StashPosY,i&&(i.markAsReferenced(),this.arrow=new I(this).to(i))}zIndex=1;onMouseEnter=e=>{eg(this.index)||en(e.currentTarget),ei(e.currentTarget),this.zIndex=Math.max(this.ref.current.zIndex(),1),this.ref.current.moveToTop(),this.tooltipRef.current.moveToTop(),this.tooltipRef.current.show()};onMouseLeave=e=>{es(e.currentTarget),this.tooltipRef.current.hide(),eg(this.index)||er(e.currentTarget),this.ref.current.zIndex(this.zIndex)};destroy(){this.ref.current.destroyChildren()}draw(){let e={fill:ef(),padding:A.V.StashItemTextPadding,fontFamily:A.V.FontFamily,fontSize:A.V.FontSize,fontStyle:A.V.FontStyle,fontVariant:A.V.FontVariant},t={stroke:eg(this.index)?eA():ex(),cornerRadius:A.V.StashItemCornerRadius};return(0,f.jsxs)(b.Fragment,{children:[(0,f.jsxs)(x.JU,{ref:this.ref,x:this.x(),y:this.y(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[(0,f.jsx)(x.vw,{...T.$,...t}),(0,f.jsx)(x.EY,{...T.$,...e,text:this.text})]}),(0,f.jsxs)(x.JU,{x:this.x()+A.V.TooltipMargin,y:this.y()+this.height()+A.V.TooltipMargin,visible:!1,ref:this.tooltipRef,children:[(0,f.jsx)(x.vw,{...T.$,stroke:T.T.HoverBgColor,fill:T.T.HoverBgColor,opacity:A.V.TooltipOpacity}),(0,f.jsx)(x.EY,{...T.$,...e,fill:v.A.getPrintableMode()?T.T.PrintBgColor:T.T.TextColor,text:this.tooltip,padding:A.V.TooltipPadding})]}),this.arrow?.draw()]},w.P.key++)}}var j=a(71270);class k extends Error{constructor(e){super(e),this.name="AssertionError"}}function N(e,t){if(!e)throw new k(t)}function P(e){return(0,c.isObject)(e)&&"toReplString"in e&&D(e.toReplString)}function R(e){return"head"in e&&"tail"in e&&"name"in e}function L(e){return"parent"in e&&"children"in e}function M(e){return Array.isArray(e)}function O(e){return M(e)&&({}).hasOwnProperty.call(e,"id")&&({}).hasOwnProperty.call(e,"environment")}function D(e){return e&&"[object Function]"===({}).toString.call(e)}function U(e){return D(e)&&!z(e)&&!({}).hasOwnProperty.call(e,"environment")}function F(e){return z(e)&&e.predefined}let G=["id","environment","functionName","predefined","node","originalNode"];function z(e){let t={};return e instanceof n.default||D(e)&&G.reduce((a,i)=>a&&t.hasOwnProperty.call(e,i),!0)}function B(e){return D(e)&&!z(e)&&({}).hasOwnProperty.call(e,"environment")}function H(e){return U(e)||F(e)}function V(e){return z(e)&&!F(e)||B(e)}function J(e){return null===e}function Y(e){return"symbol"==typeof e}function W(e){return void 0===e||J(e)||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||P(e)||(0,j.Pq)(e)}function X(e,t){if("difference"in Set.prototype)return e.difference(t);{let a=new Set;for(let i of e)t.has(i)||a.add(i);return a}}function $(e,t){if((0,S.ks)(e.data))return t instanceof m.O&&eo(t.frame.environment,e.data.getEnv()[0]);if(H(e.data))return t instanceof m.O&&eo(t.frame.environment,w.P.globalEnvNode.environment);if(!V(e.data)&&!O(e.data))return!0;let a=e.data.environment;return t===e.references.find(e=>eo(e instanceof p.C?e.parent.data.environment:e.frame.environment,a))}function Z(e){return e instanceof m.O&&e.isDummyBinding||e instanceof p.C&&!e.parent.isReferenced()}function q(e){return/^-?\d+$/.test(e)}let Q=document.createElement("canvas").getContext("2d");function K(e,t=`${T.T.FontStyle} ${T.T.FontSize}px ${T.T.FontFamily}`){if(!Q||!e)return 0;Q.font=t;let a=e.split("\n").reduce((e,t)=>Q.measureText(e).width>Q.measureText(t).width?e:t,"");return Math.round(Q.measureText(a).width)}function ee(e,t,a=`${T.T.FontStyle} ${T.T.FontSize}px ${T.T.FontFamily}`,i=T.T.FontSize){return Q&&e?(Q.font=a,e.split("\n").map(e=>Q.measureText(e).width).reduce((e,a)=>e+Math.ceil(a/t),0)*i):0}function et(e){if(z(e)){let t=e.functionName.slice(0,e.functionName.indexOf("=>")).trim();return t.startsWith("(")||(t="("+t+")"),t}{let t=e.toString();return t.substring(t.indexOf("("),t.indexOf(")")+1)}}function ea(e){let t=e.toString();if(z(e)){let e="function"===t.substring(0,8)?t.substring(t.indexOf("{")):t.substring(t.indexOf("=")+3);return"{"!==e[0]&&(e="{\n  return "+e+";\n}"),e}return B(e)?"{\n  [implementation hidden]\n}":t.substring(t.indexOf("{"))}function ei(e){let t=e.getStage()?.container();t&&(t.classList.remove(h.A.draggable),t.classList.add(h.A.clickable))}function es(e){let t=e.getStage()?.container();t&&(t.classList.remove(h.A.clickable),t.classList.add(h.A.draggable))}function en(e,t={}){let a=e instanceof l.Y?Array.from(e.children||[]):[];a.push(e),a.forEach(e=>{e.setAttrs({stroke:e.attrs.stroke?T.T.HoverColor:e.attrs.stroke,fill:e.attrs.fill?T.T.HoverColor:e.attrs.fill,...t})})}function er(e,t={}){let a=e instanceof l.Y?Array.from(e.children||[]):[];a.push(e),a.forEach(e=>{e.setAttrs({stroke:e.attrs.stroke?e instanceof d.E?ef():ex():e.attrs.stroke,fill:e.attrs.fill?e instanceof d.E?ef():ex():e.attrs.fill,...t})})}function eo(e,t){return e.id===t.id}function el(e){let t;return X(e.heap.getHeap(),(!function e(t,a,i,s=new Set){if(!s.has(i))for(let n of(s.add(i),i))(O(n)||z(n))&&eo(n.environment,t)&&(a.add(n),O(n)&&e(t,a,n,s))}(e,t=new Set,Object.values(e.head)),t))}function ed(e){let t=(0,c.cloneDeep)(e);return!function e(t,a){!(D(t)||W(t))&&("root"in t&&"root"in a?e(t.root,a.root):L(t)&&L(a)?(e(t.children,a.children),e(t.environment,a.environment)):M(t)&&M(a)?t.forEach((t,i)=>e(t,a[i])):R(t)&&R(a)&&(Object.defineProperties(a.head,Object.getOwnPropertyDescriptors(t.head)),a.heap=t.heap,e(t.tail,a.tail)))}(e,t),t}let ec=(e,t,a)=>{let i=e.split("\n").map(e=>{if(K(e)<=t)return e;let a=e;for(;K(a+T.T.Ellipsis)>t;)a=a.slice(0,-1);return a+T.T.Ellipsis});if(ee([...i,T.T.Ellipsis].join("\n"),t)<=a)return i.join("\n");for(;ee([...i,T.T.Ellipsis].join("\n"),t)>a;)i=i.slice(0,-1);return[...i,T.T.Ellipsis].join("\n")},eu=e=>void 0!==e.instrType;function eh(e,t,a,n,l,d){let c=v.A.getStackTruncated()?a===Math.min(w.P.control.size()-1,9):a===w.P.control.size()-1;if(eu(e))switch(e.instrType){case r.InstrType.RESET:return new g.k("return","Skip control items until marker instruction is reached",t,n,l,c);case r.InstrType.WHILE:return new g.k("while","Keep executing while loop body if predicate holds",t,n,l,c);case r.InstrType.FOR:return new g.k("for","Keep executing for loop body if predicate holds",t,n,l,c);case r.InstrType.ASSIGNMENT:{let a=e;return new g.k(`asgn ${a.symbol}`,`Assign value on top of stash to ${a.symbol}`,t,n,l,c)}case r.InstrType.UNARY_OP:{let a=e;return new g.k(a.symbol,`Perform ${a.symbol} on top stash value`,t,n,l,c)}case r.InstrType.BINARY_OP:{let a=e;return new g.k(a.symbol,`Perform ${a.symbol} on top 2 stash values`,t,n,l,c)}case r.InstrType.POP:return new g.k("pop","Pop most recently pushed value from stash",t,n,l,c);case r.InstrType.APPLICATION:{let a=e;return new g.k(`call ${a.numOfArgs}`,`Call function with ${a.numOfArgs} argument${1===a.numOfArgs?"":"s"}`,t,n,l,c)}case r.InstrType.BRANCH:return new g.k("branch","Branch to the consequent or alternative",t,n,l,c);case r.InstrType.ENVIRONMENT:{let a=e;return new g.k("env","Set current environment to this environment",t,n,l,c,w.P.levels.reduce((e,t)=>e||t.frames.find(e=>e.environment?.id===em(a.env)),void 0))}case r.InstrType.ARRAY_LITERAL:{let a=e.arity;return new g.k(`arr lit ${a}`,`Create array using ${a} value${1===a?"":"s"} on stash`,t,n,l,c)}case r.InstrType.ARRAY_ACCESS:return new g.k("arr acc","Access array at given index",t,n,l,c);case r.InstrType.ARRAY_ASSIGNMENT:return new g.k("arr asgn","Assign new value to array at given index",t,n,l,c);case r.InstrType.ARRAY_LENGTH:return new g.k("arr len","Obtain array length",t,n,l,c);case r.InstrType.CONTINUE:return new g.k("continue","Control items until continue marker will be skipped",t,n,l,c);case r.InstrType.CONTINUE_MARKER:return new g.k("cont mark","Mark end of loop body",t,n,l,c);case r.InstrType.BREAK:return new g.k("break","Control items until break marker will be skipped",t,n,l,c);case r.InstrType.BREAK_MARKER:return new g.k("brk mark","Mark end of all loop-associated statements and instructions",t,n,l,c);case r.InstrType.MARKER:return new g.k("mark","Mark return address",t,n,l,c);case r.InstrType.SPREAD:return new g.k("spread","Unpack array to its elements",t,n,l,c);default:return new g.k("INSTRUCTION","INSTRUCTION",t,n,l,c)}if(!(0,y.Ll)(e)){let a=(0,S.kc)(e);return new g.k(a,a,t,n,l,c)}if((0,j.n9)(d))return(0,j.OF)(e,t,n,l,c,d);if((0,u.qq)(d)){e=(0,i.estreeDecode)(e);let a=(0,s.unparse)(e);return new g.k(a,a,t,n,l,c)}switch(e.type){case"Program":{let a=(0,o.astToString)(e).trim().split("\n").map(e=>`		${e}`).join("\n"),i=`{
${a}
}`;return new g.k(i,i,t,n,l,c)}case"Literal":{let a="string"==typeof e.value?`"${e.value}"`:e.value;return new g.k(a,String(a),t,n,l,c)}default:{let a=(0,o.astToString)(e).trim();return new g.k(a,a,t,n,l,c)}}}function ep(e,t,a,i){let s;return(D(e)||O(e||(0,S.ks)(e)))&&(s=z(e)||O(e)||(0,S.ks)(e)?w.P.values.get(e.id):w.P.values.get(e)),new _(e,t,a,s)}let em=e=>{for(;e.tail&&("prelude"===e.name||0===Object.keys(e.head).length);)e=e.tail;return e.id},eg=e=>{let t=w.P.control.peek();if(t&&eu(t))switch(t.instrType){case r.InstrType.WHILE:case r.InstrType.FOR:case r.InstrType.UNARY_OP:case r.InstrType.POP:case r.InstrType.BRANCH:return w.P.stashComponent.stashItemComponents.length-e<=1;case r.InstrType.BINARY_OP:case r.InstrType.ARRAY_ACCESS:return w.P.stashComponent.stashItemComponents.length-e<=2;case r.InstrType.ARRAY_ASSIGNMENT:return w.P.stashComponent.stashItemComponents.length-e<=3;case r.InstrType.APPLICATION:return w.P.stashComponent.stashItemComponents.length-e<=t.numOfArgs+1;case r.InstrType.ARRAY_LITERAL:return w.P.stashComponent.stashItemComponents.length-e<=t.arity}return!1},ey=()=>v.A.getPrintableMode()?T.T.PrintBgColor:T.T.BgColor,ef=()=>v.A.getPrintableMode()?T.T.PrintTextColor:T.T.TextColor,eb=()=>v.A.getPrintableMode()?T.T.PrintTextColorFaded:T.T.TextColorFaded,ex=()=>v.A.getPrintableMode()?T.T.PrintStrokeColor:T.T.StrokeColor,ev=()=>v.A.getPrintableMode()?T.T.PrintStrokeColorFaded:T.T.StrokeColorFaded,eT=()=>v.A.getPrintableMode()?T.T.PrintActiveColor:T.T.ActiveColor,eA=()=>v.A.getPrintableMode()?T.T.PrintDangerColor:T.T.DangerColor},6421:function(e,t,a){"use strict";a.d(t,{C:()=>v});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(39133),d=a(60062),c=a(48374),u=a(24909),h=a(63501),p=a(8458),m=a(75482);class g extends m.F{constructor(e){super(e),this.faded=!e.parent.isReferenced()}calculateSteps(){let e=this.source,t=this.target;if(!t)return[];let a=[(e,t)=>[e+o.T.DataUnitWidth/2,t+o.T.DataUnitHeight/2]];return t instanceof h.E||t instanceof p.N||t instanceof u.K?a.push(()=>[e.x()<t.x()?t.x():t.centerX,t.y()]):t instanceof c.v&&(e.y()===t.y()?e.isLastUnit&&t.x()>e.x()&&t.x()<=e.x()+2*o.T.DataUnitWidth?a.push(()=>[t.x(),t.y()+o.T.DataUnitHeight/2]):Math.abs(e.x()-t.x())<o.T.DataUnitWidth/2?(a.push((e,t)=>[e,t-o.T.DataUnitHeight]),a.push(()=>[t.x()-o.T.DataUnitWidth/2,t.y()-o.T.DataUnitHeight/2]),a.push((e,t)=>[e,t+2*o.T.DataUnitHeight/3]),a.push((e,t)=>[e+o.T.DataUnitWidth/2,t])):(a.push((e,t)=>[e,t-o.T.DataUnitHeight]),a.push(()=>[t.x()+o.T.DataUnitWidth/2,t.y()-o.T.DataUnitHeight/2]),a.push((e,t)=>[e,t+o.T.DataUnitHeight/2])):a.push(()=>[t.x()+o.T.DataUnitWidth/2,t.y()+(e.y()>t.y()?o.T.DataUnitHeight:0)])),a}}let y=({x:e,y:t,width:a,height:s,cornerRadius:r,forwardRef:l,...d})=>(0,i.jsx)(n.yp,{sceneFunc:(i,n)=>{let{upperLeft:o,lowerLeft:l,upperRight:d,lowerRight:c}=r;i.beginPath(),i.moveTo(e+o,t),i.lineTo(e+a-d,t),i.quadraticCurveTo(e+a,t,e+a,t+d),i.lineTo(e+a,t+s-c),i.quadraticCurveTo(e+a,t+s,e+a-c,t+s),i.lineTo(e+l,t+s),i.quadraticCurveTo(e,t+s,e,t+s-l),i.lineTo(e,t+o),i.quadraticCurveTo(e,t,e+o,t),i.closePath(),i.fillStrokeShape(n)},...o.$,ref:l,...d});var f=a(13188),b=a(25970),x=a(48955);class v extends x.B{index;data;parent;value;isFirstUnit;isLastUnit;arrow;indexRef=s.createRef();constructor(e,t,a){super(),this.index=e,this.data=t,this.parent=a,this._x=this.parent.x()+this.index*o.T.DataUnitWidth,this._y=this.parent.y(),this._height=o.T.DataUnitHeight,this._width=o.T.DataUnitWidth,this.isFirstUnit=0===this.index,this.isLastUnit=this.index===this.parent.data.length-1,this.value=l.P.createValue(this.data,this)}showIndex(){this.indexRef.current?.show()}hideIndex(){r.A.getPrintableMode()||this.indexRef.current?.hide()}draw(){if(this.isDrawn())return null;this._isDrawn=!0,this.value instanceof b.l||(this.arrow=new g(this).to(this.value));let e={upperLeft:0,lowerLeft:0,upperRight:0,lowerRight:0};this.isFirstUnit&&(e.upperLeft=e.lowerLeft=o.T.DataCornerRadius),this.isLastUnit&&(e.upperRight=e.lowerRight=o.T.DataCornerRadius);let t={fontFamily:f.K.fontFamily,fontSize:f.K.fontSize,fontStyle:f.K.fontStyle,fill:this.parent.isReferenced()?(0,d.eQ)():(0,d.Xt)(),x:this.x(),y:this.y()-f.K.fontSize-4,width:this.width(),padding:2,visible:r.A.getPrintableMode()};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(y,{x:this.x(),y:this.y(),width:this.width(),height:this.height(),stroke:this.parent.isReferenced()?(0,d.t6)():(0,d.gR)(),hitStrokeWidth:o.T.DataHitStrokeWidth,fillEnabled:!0,cornerRadius:e,forwardRef:this.ref},l.P.key++),(0,i.jsx)(n.EY,{ref:this.indexRef,...o.$,...t,text:`${this.index}`},l.P.key++),this.value.draw(),this.arrow?.draw()]},l.P.key++)}}},90523:function(e,t,a){"use strict";a.d(t,{O:()=>b});var i=a(74848),s=a(96540),n=a(44708),r=a(39133),o=a(60062),l=a(48374),d=a(75482);class c extends d.F{calculateSteps(){let e=this.source,t=this.target;if(!t)return[];let a=[(t,a)=>[t+e.width(),a+e.height()/2]];return t.x()<e.x()?t instanceof l.v?(a.push((e,t)=>[e+n.T.TextMargin,t]),a.push((e,a)=>[e,t.y()-n.T.DataUnitHeight/3]),a.push((e,a)=>[t.x()+n.T.DataUnitWidth/2,a]),a.push((e,a)=>[e,t.y()])):(a.push((e,t)=>[e+n.T.TextMargin,t]),a.push((t,a)=>[t,a-e.height()/2-n.T.TextMargin]),a.push((e,a)=>[t.x()+t.width()+n.T.ArrowHeadSize,a]),a.push((e,a)=>[e,t.y()]),a.push((e,t)=>[e-n.T.ArrowHeadSize,t])):a.push((e,a)=>[t.x(),t.y()+(t instanceof l.v?n.T.DataUnitHeight/2:0)]),a}}var u=a(13188),h=a(24909),p=a(63501),m=a(8458),g=a(25970),y=a(93290),f=a(48955);class b extends f.B{keyString;data;frame;prevBinding;isConstant;value;key;isDummyBinding=!1;arrow;constructor(e,t,a,i,s=!1){super(),this.keyString=e,this.data=t,this.frame=a,this.prevBinding=i,this.isConstant=s,this.isDummyBinding=(0,o.k6)(this.keyString),this.prevBinding?(this._x=this.prevBinding.x(),this._y=this.prevBinding.y()+this.prevBinding.height()+n.T.TextPaddingY):(this._x=this.frame.x()+n.T.FramePaddingX,this._y=this.frame.y()+n.T.FramePaddingY),this.keyString+=s?n.T.ConstantColon:n.T.VariableColon,this.value=r.P.createValue(t,this);const d=this.value instanceof l.v?(n.T.DataUnitHeight-n.T.FontSize)/2:(this.value.height()-n.T.FontSize)/2;this.key=new u.E(this.keyString,this.x(),this.y()+d),this._width=(0,o.Xv)(this.value,this)?this.value.x()-this.x()+(this.value instanceof p.E||this.value instanceof m.N||this.value instanceof h.K?this.value.tooltipWidth:0):this.key.width(),this._height=Math.max(this.key.height(),this.value instanceof l.v?this.value.totalHeight:this.value.height()),this.isDummyBinding&&!(0,o.Xv)(this.value,this)&&this.prevBinding&&(this._y=this.prevBinding.y(),this._width=this.prevBinding.width(),this._height=this.prevBinding.height())}draw(){return this.isDummyBinding||this.value instanceof g.l||this.value instanceof y.B||(this.arrow=new c(this.key).to(this.value)),(0,i.jsxs)(s.Fragment,{children:[this.isDummyBinding?null:this.key.draw(),this.arrow?.draw(),(0,o.Xv)(this.value,this)?this.value.draw():null]},r.P.key++)}}},19205:function(e,t,a){"use strict";a.d(t,{k:()=>m});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(65866),d=a(39133),c=a(60062),u=a(75482);class h extends u.F{calculateSteps(){let e=this.source,t=this.target;return t?[(t,a)=>[t+e.width(),a+e.height()/2],()=>[t.x(),t.y()+(t.x()>l.V.ControlItemWidth+100?l.V.ControlItemTextPadding:0)]]:[]}}var p=a(48955);class m extends p.B{value;tooltip;highlightOnHover;unhighlightOnHover;topItem;text;tooltipRef;arrow;constructor(e,t,a,i,n,r,o){super(),this.value=e,this.tooltip=t,this.highlightOnHover=i,this.unhighlightOnHover=n,this.topItem=r,this.text=(0,c.EJ)(String(e),l.V.ControlMaxTextWidth,l.V.ControlMaxTextHeight),this.tooltipRef=s.createRef(),this.highlightOnHover=i,this.unhighlightOnHover=n,this._x=l.V.ControlPosX,this._y=l.V.ControlPosY+a,this._width=l.V.ControlItemWidth,this._height=(0,c.lb)(this.text,l.V.ControlMaxTextWidth,`${l.V.FontStyle} ${l.V.FontSize}px ${l.V.FontFamily}`,l.V.FontSize)+2*l.V.ControlItemTextPadding,o&&(this.arrow=new h(this).to(o))}zIndex=1;onMouseEnter=e=>{this.highlightOnHover(),this.topItem||(0,c.Lq)(e.currentTarget),(0,c.SU)(e.currentTarget),this.zIndex=Math.max(this.ref.current.zIndex(),1),this.ref.current.moveToTop(),this.tooltipRef.current.moveToTop(),this.tooltipRef.current.show()};onMouseLeave=e=>{this.unhighlightOnHover?.(),(0,c.rn)(e.currentTarget),this.tooltipRef.current.hide(),this.topItem||(0,c.eM)(e.currentTarget),this.ref.current.zIndex(this.zIndex)};destroy(){this.ref.current.destroyChildren()}draw(){let e={fill:(0,c.eQ)(),padding:l.V.ControlItemTextPadding,fontFamily:l.V.FontFamily,fontSize:l.V.FontSize,fontStyle:l.V.FontStyle,fontVariant:l.V.FontVariant},t={stroke:this.topItem?(0,c.NP)():(0,c.t6)(),cornerRadius:l.V.ControlItemCornerRadius};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.JU,{ref:this.ref,x:this.x(),y:this.y(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[(0,i.jsx)(n.vw,{...o.$,...t}),(0,i.jsx)(n.EY,{...o.$,...e,text:this.text,width:this.width(),height:this.height()})]}),(0,i.jsxs)(n.JU,{x:this.x()+this.width()+l.V.TooltipMargin,y:this.y()+l.V.TooltipMargin,visible:!1,ref:this.tooltipRef,children:[(0,i.jsx)(n.vw,{...o.$,stroke:o.T.HoverBgColor,fill:o.T.HoverBgColor,opacity:l.V.TooltipOpacity}),(0,i.jsx)(n.EY,{...o.$,...e,fill:r.A.getPrintableMode()?o.T.PrintBgColor:o.T.TextColor,text:this.tooltip,padding:l.V.TooltipPadding})]}),this.arrow?.draw()]},d.P.key++)}}},57564:function(e,t,a){"use strict";a.d(t,{A:()=>u,Ll:()=>p});var i=a(74848);a(96540);var s=a(39088),n=a(74970),r=a(44708),o=a(65866),l=a(39133),d=a(60062),c=a(48955);class u extends c.B{control;chapter;stackItemComponents;constructor(e,t){super(),this.control=e,this.chapter=t,this._x=o.V.ControlPosX,this._y=o.V.ControlPosY,this._width=o.V.ControlItemWidth,this._height=o.V.StashItemHeight+2*o.V.StashItemTextPadding,this.control=e,this.chapter=t;let a=0;const i=e=>{let t=p(e)?e:h(e)?e.srcNode:e,i=()=>{},s=()=>{};i=()=>{if(void 0!==t.loc){let e=t.loc.start.line-1,a=t.loc.end.line-1;n.A.setEditorHighlightedLines([[e,a]])}},s=()=>n.A.setEditorHighlightedLines([]);let r=(0,d.mV)(e,this._height,a,i,s,this.chapter);return this._height+=r.height(),a+=1,r};this.stackItemComponents=this.control.getStack().slice(n.A.getStackTruncated()?-10:0).map(i)}onMouseEnter(e){(0,d.Lq)(e.currentTarget),(0,d.SU)(e.currentTarget)}onMouseLeave(e){(0,d.eM)(e.currentTarget),(0,d.rn)(e.currentTarget)}draw(){let e={fontFamily:o.V.FontFamily,fontSize:12,fontStyle:o.V.FontStyle,fontVariant:o.V.FontVariant};return(0,i.jsxs)(i.Fragment,{children:[n.A.getStackTruncated()&&l.P.control.size()>10&&(0,i.jsxs)(s.JU,{x:o.V.ShowMoreButtonX,y:o.V.ShowMoreButtonY,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:()=>{n.A.toggleStackTruncated(),n.A.redraw()},children:[(0,i.jsx)(s.vw,{stroke:(0,d.t6)(),cornerRadius:o.V.ControlItemCornerRadius}),(0,i.jsx)(s.EY,{...e,text:`${r.T.Ellipsis}`,align:"center",fill:(0,d.eQ)(),width:o.V.ShowMoreButtonWidth,height:o.V.ShowMoreButtonHeight})]}),this.stackItemComponents.map(e=>e?.draw())]})}}let h=e=>void 0!==e.instrType,p=e=>void 0!==e.type},48822:function(e,t,a){"use strict";a.d(t,{w:()=>b});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(82678),l=a(44708),d=a(39133),c=a(60062),u=a(26117),h=a(75482);class p extends h.F{calculateSteps(){let e=this.target;if(!e)return[];let t=[(e,t)=>[e+l.T.FramePaddingX,t]];return e instanceof b&&(t.push((e,t)=>[e,t-l.T.FrameMarginY]),t.push((t,a)=>[e.x()+l.T.FramePaddingX,a])),t.push(()=>[e.x()+l.T.FramePaddingX,e.y()+e.height()]),t}}var m=a(90523),g=a(13188),y=a(48955);let f=new Map([["global","Global"],["programEnvironment","Program"],["forLoopEnvironment","Body of for-loop"],["forBlockEnvironment","Control variable of for-loop"],["blockEnvironment","Block"],["functionBodyEnvironment","Function Body"]]);class b extends y.B{envTreeNode;leftSiblingFrame;static envFrameMap=new Map;static getFrom(e){return b.envFrameMap.get(e.id)}totalHeight;totalWidth;bindings=[];name;level;environment;parentFrame;arrow;constructor(e,t){super(),this.envTreeNode=e,this.leftSiblingFrame=t,this.level=e.level,this.parentFrame=e.parent?.frame,this.environment=e.environment,b.envFrameMap.set(this.environment.id,this),this._x=this.leftSiblingFrame?this.leftSiblingFrame.x()+this.leftSiblingFrame.totalWidth+l.T.FrameMarginX:this.level.x(),this.parentFrame&&(this._x=Math.max(this._x,this.parentFrame.x())),this._y=this.level.y()+l.T.FontSize+l.T.TextPaddingY/2;const a=Object.entries(Object.getOwnPropertyDescriptors(this.environment.head));if("global"===this.environment.name&&a[0][0]!==l.T.GlobalFrameDefaultText){const e=a.findIndex(([e])=>e===l.T.GlobalFrameDefaultText);a.unshift(a.splice(e,1)[0])}const i=[...(0,c.hc)(this.environment)];i.sort((e,t)=>Number(e.id)-Number(t.id));let s=0;for(;s<i.length;){const e=i[s];if((0,c.Iy)(e)){for(const t of e)if((0,c.Iy)(t)&&t!==e||(0,c.IM)(t)||(0,u.ks)(t)){const e=i.findIndex(e=>e.id===t.id);e>-1&&(i.splice(e,1),e<=s&&s--)}}s++}for(const e of i){const t={value:e,configurable:!1,enumerable:!0,writable:!1};a.push([`${s++}`,t])}this._width=l.T.FrameMinWidth;let n=this._width+l.T.FrameMinGapX;for(const[e,t]of a){if((0,c.k6)(e))continue;const a=this.environment.head[e]?.description==="const declaration"||!t.writable;let i=(0,c.q_)(e+(a?l.T.ConstantColon:l.T.VariableColon));(0,c.Yo)(t.value)?i+=l.T.TextPaddingX+(0,c.q_)(l.T.UnassignedData):(0,c.i3)(t.value)&&(i+=l.T.TextPaddingX+(0,c.q_)((0,c.HQ)(t.value)?t.value.toReplString():JSON.stringify(t.value)||String(t.value))),this._width=Math.max(this._width,i+2*l.T.FramePaddingX),n=Math.max(n,this._width+l.T.FrameMinGapX)}let d=null;for(const[e,t]of a){const a=this.environment.head[e]?.description==="const declaration"||!t.writable,i=new m.O(e,t.value,this,d,a);d=i,this.bindings.push(i),n=Math.max(n,i.width()+l.T.FramePaddingX)}this.totalWidth=n,this._height=d?d.y()-this.y()+d.height()+l.T.FramePaddingY:2*l.T.FramePaddingY,this.name=new g.E(f.get(this.environment.name)??this.environment.name,this.x(),this.level.y(),{maxWidth:this.width()}),this.totalHeight=this.height()+this.name.height()+l.T.TextPaddingY/2,this.parentFrame&&(this.arrow=new p(this).to(this.parentFrame)),r.A.getCurrentEnvId()===this.environment.id&&o.G.setCurrentFrame(this)}onMouseEnter=()=>{};onMouseLeave=()=>{};draw(){return(0,i.jsxs)(n.YJ,{ref:this.ref,children:[this.name.draw(),(0,s.createElement)(n.rw,{...l.$,x:this.x(),y:this.y(),width:this.width(),height:this.height(),stroke:r.A.getCurrentEnvId()===this.environment?.id?(0,c.NP)():(0,c.t6)(),cornerRadius:l.T.FrameCornerRadius,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,key:d.P.key++}),this.bindings.map(e=>e.draw()),this.arrow?.draw()]},d.P.key++)}}},13188:function(e,t,a){"use strict";a.d(t,{E:()=>p,K:()=>h});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(39133),d=a(60062),c=a(71270),u=a(48955);let h={maxWidth:Number.MAX_VALUE,fontFamily:o.T.FontFamily,fontSize:o.T.FontSize,fontStyle:o.T.FontStyle,fontVariant:o.T.FontVariant,isStringIdentifiable:!1,faded:!1,hidden:!1};class p extends u.B{data;_x;_y;_height;_width;partialStr;fullStr;options=h;labelRef=s.createRef();constructor(e,t,a,i={}){super(),this.data=e,this._x=t,this._y=a,this.options={...this.options,...i};const{fontSize:s,fontStyle:n,fontFamily:r,maxWidth:l,isStringIdentifiable:u}=this.options;this.fullStr=this.partialStr=(0,d.HQ)(e)?e.toReplString():(0,c.Pq)(e)?String(e):u&&JSON.stringify(e)||String(e),this._height=s;const h=e=>(0,d.q_)(e,`${n} ${s}px ${r}`);if(h(this.partialStr)>l){let e=o.T.Ellipsis,t=0;for(;h(this.partialStr.substring(0,t)+o.T.Ellipsis)<l;)e=this.partialStr.substring(0,t++)+o.T.Ellipsis;this._width=h(e),this.partialStr=e}else this._width=Math.max(o.T.TextMinWidth,h(this.partialStr))}onMouseEnter=({currentTarget:e})=>{(0,d.SU)(e),this.labelRef.current?.moveToTop(),this.labelRef.current?.show(),e.getLayer()?.draw()};onMouseLeave=({currentTarget:e})=>{(0,d.rn)(e),this.labelRef.current?.hide(),e.getLayer()?.draw()};draw(){let e={fontFamily:this.options.fontFamily,fontSize:this.options.fontSize,fontStyle:this.options.fontStyle,fill:this.options.faded?(0,d.Xt)():(0,d.eQ)(),visible:!this.options.hidden};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(n.JU,{x:this.x(),y:this.y(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:(0,s.createElement)(n.EY,{...o.$,key:l.P.key++,ref:this.ref,text:this.partialStr,...e})}),(0,i.jsxs)(n.JU,{x:this.x(),y:this.y(),ref:this.labelRef,visible:!1,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[(0,i.jsx)(n.vw,{...o.$,fill:r.A.getPrintableMode()?o.T.PrintHoverBgColor:o.T.HoverBgColor,opacity:.5}),(0,s.createElement)(n.EY,{...o.$,key:l.P.key++,text:this.fullStr,...e})]})]},l.P.key++)}}},48955:function(e,t,a){"use strict";a.d(t,{B:()=>s});var i=a(96540);class s{_x=0;_y=0;_width=0;_height=0;_isDrawn=!1;x(){return this._x}y(){return this._y}width(){return this._width}height(){return this._height}isDrawn(){return this._isDrawn}reset(){this._isDrawn=!1}ref=i.createRef()}},88541:function(e,t,a){"use strict";a.d(t,{q:()=>r});var i=a(44708),s=a(24909),n=a(75482);class r extends n.F{constructor(e){super(e),this.faded=!e.isReferenced()}calculateSteps(){let e=this.source,t=this.target;return t?[(e,t)=>this.source instanceof s.K?[e+2*i.T.FnRadius,t]:[e+3*i.T.FnRadius,t],(e,a)=>this.source instanceof s.K?[e,t.y()+i.T.FnRadius]:[e,a-2*i.T.FnRadius],(a,i)=>[t.x()+(e.x()<t.x()?0:t.width()),i]]:[]}}},75482:function(e,t,a){"use strict";a.d(t,{F:()=>c});var i=a(74848),s=a(96540),n=a(39088),r=a(44708),o=a(39133),l=a(60062),d=a(48955);class c extends d.B{_path="";points=[];source;target;faded=!1;constructor(e){super(),this.source=e,this.target=void 0,this._x=e.x(),this._y=e.y()}path(){return this._path}to(e){this.target=e,this._width=Math.abs(e.x()-this.source.x()),this._height=Math.abs(e.y()-this.source.y());let t=this.calculateSteps().reduce((e,t)=>[...e,...t(e[e.length-2],e[e.length-1])],[this.source.x(),this.source.y()]);if(t.splice(0,2),this._path+=`M ${t[0]} ${t[1]} `,4===t.length)this._path+=`L ${t[2]} ${t[3]} `;else{let e=0;for(;e<t.length-4;){let[a,i,s,n,o,l]=t.slice(e,e+6),d=s-a,c=o-s,u=n-i,h=l-n,p=Math.min(r.T.ArrowCornerRadius,Math.max(Math.abs(d),Math.abs(u))/2,Math.max(Math.abs(c),Math.abs(h))/2),m=s-p*Math.sign(d),g=n-p*Math.sign(u),y=s+p*Math.sign(c),f=n+p*Math.sign(h);this._path+=`L ${m} ${g} Q ${s} ${n} ${y} ${f} `,e+=2}}return this._path+=`L ${t[t.length-2]} ${t[t.length-1]} `,this.points=t,this}calculateSteps(){let e=this.target;return e?[()=>[e.x(),e.y()]]:[]}draw(){let e=this.faded?(0,l.gR)():(0,l.t6)();return(0,i.jsxs)(n.YJ,{ref:this.ref,listening:!1,children:[(0,s.createElement)(n.wA,{...r.$,stroke:e,strokeWidth:r.T.ArrowStrokeWidth,data:this.path(),key:o.P.key++}),(0,s.createElement)(n.i3,{...r.$,points:this.points.slice(this.points.length-4),fill:e,strokeEnabled:!1,pointerWidth:r.T.ArrowHeadSize,key:o.P.key++})]},o.P.key++)}}},48374:function(e,t,a){"use strict";a.d(t,{v:()=>g});var i=a(74848),s=a(96540),n=a(39088),r=a(44708),o=a(39133),l=a(60062),d=a(48955);class c extends d.B{parent;value=null;data=void 0;constructor(e){super(),this.parent=e,this._x=this.parent.x(),this._y=this.parent.y(),this._height=this.parent.height(),this._width=this.parent.width()}draw(){return(0,s.createElement)(n.rw,{...r.$,key:o.P.key++,x:this.x(),y:this.y(),width:this.width(),height:this.height(),stroke:this.parent.isReferenced()?(0,l.t6)():(0,l.gR)(),ref:this.ref})}}var u=a(6421),h=a(90523),p=a(63501),m=a(15997);class g extends m.W{data;units=[];totalWidth=0;totalHeight=0;constructor(e,t){super(),this.data=e,o.P.memoizeValue(e,this),this.addReference(t)}handleNewReference(e){if((0,l.Xv)(this,e)){e instanceof h.O?(this._x=e.frame.x()+e.frame.width()+r.T.FrameMarginX,this._y=e.y()):e.isLastUnit?(this._x=e.x()+2*r.T.DataUnitWidth,this._y=e.y()):(this._x=e.x(),this._y=e.y()+e.parent.totalHeight+r.T.DataUnitHeight),this._width=Math.max(this.data.length*r.T.DataUnitWidth,r.T.DataMinWidth),this.totalWidth=this._width,this._height=r.T.DataUnitHeight,this.totalHeight=this._height,this.units=Array(this.data.length);for(let e=this.data.length-1;e>=0;e--){let t=new u.C(e,this.data[e],this);(t.value instanceof g||t.value instanceof p.E)&&(0,l.Xv)(t.value,t)&&(this.totalWidth=Math.max(this.totalWidth,t.value.totalWidth+(e===this.data.length-1?(e+2)*r.T.DataUnitWidth:e*r.T.DataUnitWidth)),this.totalHeight=Math.max(this.totalHeight,t.value.y()+(t.value instanceof g?t.value.totalHeight:t.value.height()/2)-t.y())),this.units[e]=t}}}markAsReferenced(){if(!this.isReferenced())for(let e of(super.markAsReferenced(),this.units))e.value.markAsReferenced()}onMouseEnter=e=>{for(let t of(e.cancelBubble=!0,this.units))t.showIndex()};onMouseLeave=e=>{for(let t of(e.cancelBubble=!0,this.units))t.hideIndex()};draw(){return this.isDrawn()?null:(this._isDrawn=!0,(0,i.jsx)(n.YJ,{ref:this.ref,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:this.units.length>0?this.units.map(e=>e.draw()):new c(this).draw()},o.P.key++))}}},24909:function(e,t,a){"use strict";a.d(t,{K:()=>m});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(39133),d=a(60062),c=a(88541),u=a(90523),h=a(48822),p=a(15997);class m extends p.W{data;radius=o.T.FnRadius;innerRadius=o.T.FnInnerRadius;labelRef=s.createRef();tooltip="continuation";tooltipWidth=(0,d.q_)(this.tooltip);exportTooltip="continuation";exportTooltipWidth=(0,d.q_)(this.exportTooltip);centerX;enclosingFrame;env;control;stash;_arrow;constructor(e,t){super(),this.data=e,l.P.memoizeValue(e,this),this.centerX=0,this._width=2.5*this.radius,this._height=2.5*this.radius,this.env=this.data.getEnv()[0],this.enclosingFrame=h.w.getFrom(this.env),this.control=this.data.getControl(),this.stash=this.data.getStash(),this.addReference(t)}handleNewReference(e){(0,d.Xv)(this,e)&&(e instanceof u.O?(this._x=e.frame.x()+e.frame.width()+o.T.FrameMarginX,this._y=e.y(),this.centerX=this._x+2*this.radius):(e.isLastUnit?(this._x=e.x()+2*o.T.DataUnitWidth,this._y=e.y()+o.T.DataUnitHeight/2-this.radius):(this._x=e.x(),this._y=e.y()+e.parent.height()+o.T.DataUnitHeight),this.centerX=this._x+o.T.DataUnitWidth/2,this._x=this.centerX-2*this.radius),this._y+=this.radius)}arrow(){return this._arrow}onMouseEnter=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.SU)(e),this.labelRef.current?.moveToTop(),this.labelRef.current?.show())};onMouseLeave=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.rn)(e),this.labelRef.current?.hide())};draw(){this.enclosingFrame&&(this._arrow=new c.q(this).to(this.enclosingFrame));let e=this.isReferenced()?(0,d.eQ)():(0,d.Xt)(),t=this.isReferenced()?(0,d.t6)():(0,d.gR)();return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.YJ,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.ref,children:[(0,s.createElement)(n.rw,{...o.$,key:l.P.key++,x:this.centerX-1.5*this.radius,y:this.y()-this.radius,width:this.radius/2,height:2*this.radius,stroke:t}),(0,s.createElement)(n.rw,{...o.$,key:l.P.key++,x:this.centerX-this.radius,y:this.y()-1.5*this.radius,width:2*this.radius,height:this.radius/2,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX,y:this.y(),radius:this.radius,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX,y:this.y(),radius:this.innerRadius,fill:t})]}),(0,i.jsxs)(n.JU,{x:this.x()+this.width()+2*o.T.TextPaddingX,y:this.y()-o.T.TextPaddingY,visible:r.A.getPrintableMode(),ref:this.labelRef,children:[r.A.getPrintableMode()?(0,i.jsx)(n.vw,{stroke:t}):(0,i.jsx)(n.vw,{stroke:o.T.HoverBgColor,fill:o.T.HoverBgColor,opacity:o.T.FnTooltipOpacity}),(0,i.jsx)(n.EY,{text:r.A.getPrintableMode()?this.exportTooltip:this.tooltip,fontFamily:o.T.FontFamily,fontSize:o.T.FontSize,fontStyle:o.T.FontStyle,fill:e,padding:5})]}),this._arrow?.draw()]},l.P.key++)}}},63501:function(e,t,a){"use strict";a.d(t,{E:()=>m});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(39133),d=a(60062),c=a(88541),u=a(90523),h=a(48822),p=a(15997);class m extends p.W{data;radius=o.T.FnRadius;innerRadius=o.T.FnInnerRadius;fnName;paramsText;bodyText;exportBodyText;tooltip;tooltipWidth;exportTooltip;exportTooltipWidth;totalWidth;labelRef=s.createRef();centerX;enclosingFrame;_arrow;constructor(e,t){super(),this.data=e,l.P.memoizeValue(e,this),this.centerX=0,this._width=4*this.radius,this._height=2*this.radius,this.fnName=(0,d.TJ)(this.data)?"":this.data.functionName,this.paramsText=`params: ${(0,d.wM)(this.data)}`,this.bodyText=`body: ${(0,d.e_)(this.data)}`,this.exportBodyText=(this.bodyText.length>23?this.bodyText.slice(0,20):this.bodyText).split("\n").slice(0,2).join("\n")+" ...",this.tooltip=`${this.paramsText}
${this.bodyText}`,this.exportTooltip=`${this.paramsText}
${this.exportBodyText}`,this.tooltipWidth=Math.max((0,d.q_)(this.paramsText),(0,d.q_)(this.bodyText)),this.exportTooltipWidth=Math.max((0,d.q_)(this.paramsText),(0,d.q_)(this.exportBodyText)),this.totalWidth=this._width+2*o.T.TextPaddingX+10+(r.A.getPrintableMode()?this.exportTooltipWidth:this.tooltipWidth),this.addReference(t)}handleNewReference(e){(0,d.Xv)(this,e)&&(e instanceof u.O?(this._x=e.frame.x()+e.frame.width()+o.T.FrameMarginX,this._y=e.y(),this.centerX=this._x+2*this.radius):(e.isLastUnit?(this._x=e.x()+2*o.T.DataUnitWidth,this._y=e.y()+o.T.DataUnitHeight/2-this.radius):(this._x=e.x(),this._y=e.y()+e.parent.totalHeight+o.T.DataUnitHeight),this.centerX=this._x+o.T.DataUnitWidth/2,this._x=this.centerX-2*this.radius),this._y+=this.radius)}arrow(){return this._arrow}onMouseEnter=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.SU)(e),this.labelRef.current?.moveToTop(),this.labelRef.current?.show())};onMouseLeave=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.rn)(e),this.labelRef.current?.hide())};draw(){if(void 0===this.fnName)throw Error("Closure has no main reference and is not initialised!");this.enclosingFrame=h.w.getFrom(this.data.environment),this.enclosingFrame&&(this._arrow=new c.q(this).to(this.enclosingFrame));let e=this.isReferenced()?(0,d.eQ)():(0,d.Xt)(),t=this.isReferenced()?(0,d.t6)():(0,d.gR)();return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.YJ,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.ref,children:[(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX-this.radius,y:this.y(),radius:this.radius,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX-this.radius,y:this.y(),radius:this.innerRadius,fill:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX+this.radius,y:this.y(),radius:this.radius,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX+this.radius,y:this.y(),radius:this.innerRadius,fill:t})]}),(0,i.jsxs)(n.JU,{x:this.x()+this.width()+2*o.T.TextPaddingX,y:this.y()-o.T.TextPaddingY,visible:r.A.getPrintableMode(),ref:this.labelRef,children:[r.A.getPrintableMode()?(0,i.jsx)(n.vw,{stroke:t}):(0,i.jsx)(n.vw,{stroke:o.T.HoverBgColor,fill:o.T.HoverBgColor,opacity:o.T.FnTooltipOpacity}),(0,i.jsx)(n.EY,{text:r.A.getPrintableMode()?this.exportTooltip:this.tooltip,fontFamily:o.T.FontFamily,fontSize:o.T.FontSize,fontStyle:o.T.FontStyle,fill:e,padding:5})]}),this._arrow?.draw()]},l.P.key++)}}},8458:function(e,t,a){"use strict";a.d(t,{N:()=>h});var i=a(74848),s=a(96540),n=a(39088),r=a(74970),o=a(44708),l=a(39133),d=a(60062),c=a(88541),u=a(15997);class h extends u.W{data;radius=o.T.FnRadius;innerRadius=o.T.FnInnerRadius;paramsText;bodyText;exportBodyText;tooltip;tooltipWidth;exportTooltip;exportTooltipWidth;totalWidth;labelRef=s.createRef();centerX;_arrow;constructor(e,t){super(),this.data=e,l.P.memoizeValue(e,this),this._x=t.frame.x()+t.frame.width()+o.T.FrameMarginX,this._y=t.y(),this.centerX=this._x+2*this.radius,this._y+=this.radius,this._width=4*this.radius,this._height=2*this.radius,this.paramsText=`params: ${(0,d.wM)(this.data)}`,this.bodyText=`body: ${(0,d.e_)(this.data)}`,this.exportBodyText=(this.bodyText.length>23?this.bodyText.slice(0,20):this.bodyText).split("\n").slice(0,2).join("\n")+" ...",this.tooltip=`${this.paramsText}
${this.bodyText}`,this.exportTooltip=`${this.paramsText}
${this.exportBodyText}`,this.tooltipWidth=Math.max((0,d.q_)(this.paramsText),(0,d.q_)(this.bodyText)),this.exportTooltipWidth=Math.max((0,d.q_)(this.paramsText),(0,d.q_)(this.exportBodyText)),this.totalWidth=this._width+2*o.T.TextPaddingX+2*o.T.FnTooltipTextPadding+(r.A.getPrintableMode()?this.exportTooltipWidth:this.tooltipWidth),this.addReference(t)}handleNewReference(){}arrow(){return this._arrow}onMouseEnter=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.SU)(e),this.labelRef.current?.moveToTop(),this.labelRef.current?.show())};onMouseLeave=({currentTarget:e})=>{r.A.getPrintableMode()||((0,d.rn)(e),this.labelRef.current?.hide())};draw(){this._isDrawn=!0,l.P.globalEnvNode.frame&&(this._arrow=new c.q(this).to(l.P.globalEnvNode.frame));let e=this.isReferenced()?(0,d.eQ)():(0,d.Xt)(),t=this.isReferenced()?(0,d.t6)():(0,d.gR)();return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.YJ,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.ref,children:[(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX-this.radius,y:this.y(),radius:this.radius,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX-this.radius,y:this.y(),radius:this.innerRadius,fill:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX+this.radius,y:this.y(),radius:this.radius,stroke:t}),(0,s.createElement)(n.jl,{...o.$,key:l.P.key++,x:this.centerX+this.radius,y:this.y(),radius:this.innerRadius,fill:t})]}),(0,i.jsxs)(n.JU,{x:this.x()+this.width()+2*o.T.TextPaddingX,y:this.y()-o.T.TextPaddingY,visible:r.A.getPrintableMode(),ref:this.labelRef,children:[r.A.getPrintableMode()?(0,i.jsx)(n.vw,{stroke:t}):(0,i.jsx)(n.vw,{stroke:o.T.HoverBgColor,fill:o.T.HoverBgColor,opacity:o.T.FnTooltipOpacity}),(0,i.jsx)(n.EY,{text:r.A.getPrintableMode()?this.exportTooltip:this.tooltip,fontFamily:o.T.FontFamily,fontSize:o.T.FontSize,fontStyle:o.T.FontStyle,fill:e,padding:o.T.FnTooltipTextPadding})]}),this._arrow?.draw()]},l.P.key++)}}},25970:function(e,t,a){"use strict";a.d(t,{l:()=>m});var i=a(74848),s=a(96540),n=a(44708),r=a(39133),o=a(60062),l=a(39088),d=a(48955);class c extends d.B{reference;constructor(e){super(),this.reference=e,this._x=e.x(),this._y=e.y(),this._height=e.height(),this._width=e.width()}draw(){return(0,s.createElement)(l.N1,{...n.$,key:r.P.key++,points:[this.x(),this.y()+this.height(),this.x()+this.width(),this.y()],stroke:this.reference.parent.isReferenced()?(0,o.t6)():(0,o.gR)(),hitStrokeWidth:n.T.DataHitStrokeWidth,ref:this.ref,listening:!1})}}var u=a(90523),h=a(13188),p=a(15997);class m extends p.W{data;text;constructor(e,t){if(super(),this.data=e,t instanceof u.O)this._x=t.x()+(0,o.q_)(t.keyString)+n.T.TextPaddingX,this._y=t.y(),this.text=new h.E(this.data,this.x(),this.y(),{isStringIdentifiable:!(0,o.HQ)(e)});else{const a=t.width(),i=(0,o.kZ)(this.data)?0:Math.min((0,o.q_)((0,o.HQ)(e)?e.toReplString():String(this.data)),a);this._x=t.x()+(t.width()-i)/2,this._y=t.y()+(t.height()-n.T.FontSize)/2,this.text=(0,o.kZ)(this.data)?new c(t):new h.E(this.data,this.x(),this.y(),{maxWidth:a,isStringIdentifiable:!(0,o.HQ)(e),faded:!0})}this._width=this.text.width(),this._height=this.text.height(),this.ref=this.text.ref,this.addReference(t)}handleNewReference(){if(this.references.length>1)throw Error("Primitive values cannot have more than one reference!")}markAsReferenced(){!this.isReferenced()&&(super.markAsReferenced(),this.text instanceof h.E&&(this.text.options.faded=!1))}draw(){return(0,i.jsx)(s.Fragment,{children:this.text.draw()},r.P.key++)}}},93290:function(e,t,a){"use strict";a.d(t,{B:()=>c});var i=a(74848),s=a(96540),n=a(44708),r=a(39133),o=a(60062),l=a(13188),d=a(15997);class c extends d.W{data=Symbol();text;constructor(e){super(),this.references=[e],this._x=e.x()+(0,o.q_)(e.keyString)+n.T.TextPaddingX,this._y=e.y(),this.text=new l.E(n.T.UnassignedData,this._x,this._y,{isStringIdentifiable:!1}),this._width=this.text.width(),this._height=this.text.height(),this.ref=this.text.ref}handleNewReference(){throw Error("Unassigned value cannot have more than one reference!")}draw(){return this._isDrawn=!0,(0,i.jsx)(s.Fragment,{children:this.text.draw()},r.P.key++)}}},15997:function(e,t,a){"use strict";a.d(t,{W:()=>n}),a(96540);var i=a(60062),s=a(48955);class n extends s.B{_isReferenced=!1;isReferenced(){return this._isReferenced}markAsReferenced(){this._isReferenced=!0}references=[];addReference(e){this.references.push(e),this.handleNewReference(e),this.isReferenced()||(0,i.d4)(e)||this.markAsReferenced()}}},3778:function(e,t,a){"use strict";a.d(t,{L:()=>S});var i=a(74848),s=a(96540),n=a(39088),r=a(60062),o=a(44708),l=a(28746),d=a(48955),c=a(65866);class u extends d.B{static TO_X_INDEX=2;_points=[];constructor(e,t,a,i){super(),this._points.push(e,t,a,i)}setToX(e){this._points[u.TO_X_INDEX]=e}onMouseEnter(e){(0,r.Lq)(e.currentTarget),(0,r.SU)(e.currentTarget)}onMouseLeave(e){(0,r.eM)(e.currentTarget),(0,r.rn)(e.currentTarget)}draw(){let e=`M ${this._points[0]} ${this._points[1]} L ${this._points[2]} ${this._points[3]}`;return(0,i.jsxs)(n.YJ,{onMouseEnter:e=>this.onMouseEnter(e),onMouseLeave:e=>this.onMouseLeave(e),children:[(0,s.createElement)(n.wA,{...o.$,stroke:(0,r.t6)(),strokeWidth:o.T.ArrowStrokeWidth,hitStrokeWidth:o.T.ArrowHitStrokeWidth,data:e,key:S.key++}),(0,s.createElement)(n.i3,{...o.$,points:this._points.slice(this._points.length-4),fill:(0,r.t6)(),strokeEnabled:!1,pointerWidth:o.T.ArrowHeadSize,pointerLength:o.T.ArrowHeadSize,key:S.key++})]},S.key++)}}class h extends d.B{_text;_stroke;_tooltip;highlightOnHover;unhighlightOnHover;_arrow;_tooltipRef;constructor(e,t,a,i,n,o,l){super(),this._text=t,this._stroke=a,this._tooltip=n,this.highlightOnHover=o,this.unhighlightOnHover=l,this._x=c.V.ControlPosX,this._y=e,this._text=(0,r.EJ)(this._text,c.V.ControlMaxTextWidth,c.V.ControlMaxTextHeight),this._tooltipRef=s.createRef(),this._height=(0,r.lb)(this._text,c.V.ControlMaxTextWidth)+2*c.V.ControlItemTextPadding,this._width=c.V.ControlItemWidth,i&&(this._arrow=new u(this._x+this._width,this._y+this._height/2,i.x(),i.y()+i.height()/2+i.name.height()))}isCurrentItem=()=>this._stroke===(0,r.NP)();onMouseEnter=e=>{this.highlightOnHover(),this.isCurrentItem()||(0,r.Lq)(e.currentTarget),(0,r.SU)(e.currentTarget),this._tooltipRef.current.show()};onMouseLeave=e=>{this.unhighlightOnHover(),this.isCurrentItem()||(0,r.eM)(e.currentTarget),(0,r.rn)(e.currentTarget),this._tooltipRef.current.hide()};draw(){let e={fill:(0,r.eQ)(),padding:c.V.ControlItemTextPadding,fontFamily:c.V.FontFamily,fontSize:c.V.FontSize,fontStyle:c.V.FontStyle,fontVariant:c.V.FontVariant},t={stroke:this._stroke,cornerRadius:c.V.ControlItemCornerRadius};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.JU,{x:this.x(),y:this.y(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[(0,s.createElement)(n.vw,{...o.$,...t,key:S.key++}),(0,s.createElement)(n.EY,{...o.$,...e,text:this._text,width:this.width(),height:this.height(),key:S.key++})]},S.key++),(0,i.jsxs)(n.JU,{x:this.x()+this.width()+c.V.TooltipMargin,y:this.y()+c.V.TooltipMargin,visible:!1,ref:this._tooltipRef,children:[(0,s.createElement)(n.vw,{...o.$,stroke:"black",fill:"black",opacity:c.V.TooltipOpacity,key:S.key++}),(0,s.createElement)(n.EY,{...o.$,...e,text:this._tooltip,padding:c.V.TooltipPadding,key:S.key++})]},S.key++),this._arrow?.draw()]},S.key++)}}class p extends d.B{_controlItems=[];constructor(e){super(),this._x=c.V.ControlPosX,this._y=c.V.ControlPosY+c.V.StashItemHeight+2*c.V.StashItemTextPadding;let t=this._y;e.getStack().forEach((a,i)=>{let s=this.getControlItemString(a),n=i===e.getStack().length-1?(0,r.NP)():(0,r.t6)(),o=l.ECE.isInstr(a)&&a.instrType===l.ECE.InstrType.ENV?S.environment?.frames.find(e=>e.frame===a.env):void 0,d=this.getControlItemTooltip(a);this.getControlItemTooltip(a);let c=l.ECE.isNode(a)?a:a.srcNode,u=new h(t,s,n,o,d,()=>{let e=-1,t=-1;c.location&&(e=c.location.startLine-1,t=c.location.endLine?c.location.endLine-1:e),S.setEditorHighlightedLines([[e,t]])},()=>S.setEditorHighlightedLines([]));this._controlItems.push(u),t+=u.height()}),this._height=t-this._y,this._width=c.V.ControlItemWidth}draw(){return(0,i.jsx)(n.YJ,{ref:this.ref,children:this._controlItems.map(e=>e.draw())},S.key++)}getControlItemString=e=>{if(l.ECE.isNode(e))return(0,l.astToString)(e);switch(e.instrType){case l.ECE.InstrType.RESET:return"return";case l.ECE.InstrType.ASSIGNMENT:return"asgn";case l.ECE.InstrType.BINARY_OP:return e.symbol;case l.ECE.InstrType.POP:return"pop";case l.ECE.InstrType.INVOCATION:return`invoke ${e.arity}`;case l.ECE.InstrType.ENV:return"env";case l.ECE.InstrType.MARKER:return"mark";case l.ECE.InstrType.EVAL_VAR:return`name ${e.symbol}`;case l.ECE.InstrType.NEW:return`new ${e.c.frame.name}`;case l.ECE.InstrType.RES_TYPE:return`res_type ${"Class"===e.value.kind?e.value.frame.name:(0,l.astToString)(e.value)}`;case l.ECE.InstrType.RES_TYPE_CONT:return`res_type_cont ${e.name}`;case l.ECE.InstrType.RES_OVERLOAD:return`res_overload ${e.name} ${e.arity}`;case l.ECE.InstrType.RES_OVERRIDE:return"res_override";case l.ECE.InstrType.RES_CON_OVERLOAD:return`res_con_overload ${e.arity}`;case l.ECE.InstrType.RES:return`res ${e.name}`;case l.ECE.InstrType.DEREF:return"deref";default:return"INSTRUCTION"}};getControlItemTooltip=e=>{if(l.ECE.isNode(e))return(0,l.astToString)(e);switch(e.instrType){case l.ECE.InstrType.RESET:return"Skip control items until marker instruction is reached";case l.ECE.InstrType.ASSIGNMENT:return"Assign value on top of stash to location on top of stash";case l.ECE.InstrType.BINARY_OP:return`Perform ${e.symbol} on top 2 stash values`;case l.ECE.InstrType.POP:return"Pop most recently pushed value from stash";case l.ECE.InstrType.INVOCATION:return`Invoke method with ${e.arity} argument${1===e.arity?"":"s"}`;case l.ECE.InstrType.ENV:return"Set current environment to this environment";case l.ECE.InstrType.MARKER:return"Mark return address";case l.ECE.InstrType.EVAL_VAR:return`name ${e.symbol}`;case l.ECE.InstrType.NEW:return`Create new instance of class ${e.c.frame.name}`;case l.ECE.InstrType.RES_TYPE:return`Resolve type of ${"Class"===e.value.kind?e.value.frame.name:(0,l.astToString)(e.value)}`;case l.ECE.InstrType.RES_TYPE_CONT:return`Resolve type of ${e.name} in most recently pushed type from stash`;case l.ECE.InstrType.RES_OVERLOAD:return`Resolve overloading of method ${e.name} with ${e.arity} argument${1===e.arity?"":"s"}`;case l.ECE.InstrType.RES_OVERRIDE:return"Resolve overriding of resolved method on top of stash";case l.ECE.InstrType.RES_CON_OVERLOAD:return`Resolve constructor overloading of class on stash with ${e.arity} argument${1===e.arity?"":"s"}`;case l.ECE.InstrType.RES:return`Resolve field ${e.name} of most recently pushed value from stash`;case l.ECE.InstrType.DEREF:return"Dereference most recently pushed value from stash";default:return"INSTRUCTION"}}}class m extends d.B{_method;_centerX;_tooltipRef;_tooltip;constructor(e,t,a){super(),this._method=a,this._x=e,this._y=t,this._centerX=this._x+2*o.T.FnRadius,this._tooltipRef=s.createRef(),this._tooltip=(0,l.astToString)(this._method.mtdOrCon)}get method(){return this._method}setX(e){this._x=e,this._centerX=this._x+2*o.T.FnRadius}onMouseEnter=e=>{(0,r.SU)(e.currentTarget),this._tooltipRef.current.show()};onMouseLeave=e=>{(0,r.rn)(e.currentTarget),this._tooltipRef.current.hide()};draw(){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(n.YJ,{onMouseEnter:e=>this.onMouseEnter(e),onMouseLeave:e=>this.onMouseLeave(e),children:[(0,s.createElement)(n.jl,{...o.$,key:S.key++,x:this._centerX-o.T.FnRadius,y:this.y(),radius:o.T.FnRadius,stroke:(0,r.t6)()}),(0,s.createElement)(n.jl,{...o.$,key:S.key++,x:this._centerX-o.T.FnRadius,y:this.y(),radius:o.T.FnInnerRadius,fill:(0,r.t6)()})]},S.key++),(0,i.jsxs)(n.JU,{x:this.x()+2*o.T.FnRadius+2*o.T.TextPaddingX,y:this.y()-(0,r.lb)(this._tooltip,(0,r.q_)(this._tooltip))/2,visible:!1,ref:this._tooltipRef,children:[(0,i.jsx)(n.vw,{stroke:"black",fill:"black",opacity:o.T.FnTooltipOpacity},S.key++),(0,i.jsx)(n.EY,{text:this._tooltip,fontFamily:c.V.FontFamily,fontSize:c.V.FontSize,fontStyle:c.V.FontStyle,fill:(0,r.eQ)(),padding:5},S.key++)]},S.key++)]},S.key++)}}class g extends d.B{_text;constructor(e,t,a){super(),this._text=e,this._x=t,this._y=a,this._height=o.T.FontSize,this._width=(0,r.q_)(this._text)}get text(){return this._text}setY(e){this._y=e}draw(){let e={fontFamily:o.T.FontFamily,fontSize:o.T.FontSize,fontStyle:o.T.FontStyle,fill:(0,r.eQ)()};return(0,i.jsx)(n.YJ,{children:(0,i.jsx)(n.JU,{x:this.x(),y:this.y(),children:(0,s.createElement)(n.EY,{...o.$,key:S.key++,text:this._text,...e})},S.key++)},S.key++)}}o.T.FontFamily.toString(),o.T.FontSize,o.T.FontStyle.toString(),o.T.FontVariant.toString();class y extends d.B{_variable;_type;_value;constructor(e,t,a){super(),this._variable=a,this._x=e,this._y=t,this._type=new g(this._variable.type,this._x,this._y),"Literal"===this.variable.value.kind?this._value=new g(this.variable.value.literalType.value,this._x+o.T.TextPaddingX,this._y+this._type.height()+o.T.TextPaddingX):(this.variable.value.kind,l.ECE.StructType.SYMBOL,this._value=new g("",this._x+o.T.TextPaddingX,this._y+this._type.height()+o.T.TextPaddingX)),this._height=this._type.height()+this._value.height()+2*o.T.TextPaddingX,this._width=Math.max(this._type.width(),this._value.width()+2*o.T.TextPaddingX)}get variable(){return this._variable}set value(e){this._value=e,this._height=this._type.height()+o.T.FontSize+2*o.T.TextPaddingX,this._width=Math.max(this._type.width(),o.T.TextMinWidth)}get type(){return this._type}draw(){return(0,i.jsxs)(n.YJ,{children:[this._type.draw(),(0,s.createElement)(n.rw,{...o.$,x:this._x,y:this._y+this._type.height(),width:this._width,height:this._height-this._type.height(),stroke:(0,r.eQ)(),key:S.key++}),this._value.draw()]},S.key++)}}class f extends d.B{_name;_value;_arrow;constructor(e,t,a,i){super(),this._x=a,this._y=i,t.kind===l.ECE.StructType.CLOSURE?(this._name=new g(e+o.T.VariableColon,this.x(),this.y()),this._value=new m(this._name.x()+this._name.width(),this.y()+this._name.height()/2,t),this._arrow=new u(this._name.x()+this._name.width(),this._name.y()+this._name.height()/2,this._value.x(),this._value.y())):t.kind===l.ECE.StructType.VARIABLE?(this._name=new g(e+o.T.VariableColon,this.x(),this.y()+o.T.FontSize+o.T.TextPaddingX),this._value=new y(this._name.x()+this._name.width(),this.y(),t)):(this._name=new g(e+o.T.VariableColon,this.x(),this.y()+o.T.FontSize+o.T.TextPaddingX),this._value=new g("",this._name.x()+this._name.width()+o.T.TextPaddingX,this.y()+o.T.TextPaddingX)),this._height=Math.max(this._name.height(),this._value.height()),this._width=this._value.x()+this._value.width()-this._name.x()}get value(){return this._value}setArrowToX(e){this._arrow?.setToX(e)}draw(){return(0,i.jsxs)(s.Fragment,{children:[this._name.draw(),this._value.draw(),this._arrow?.draw()]},S.key++)}}class b extends d.B{frame;stroke;tooltip;highlightOnHover;unhighlightOnHover;tooltipRef;bindings=[];name;parent;constructor(e,t,a,i,n,r,l){super(),this.frame=e,this.stroke=i,this.tooltip=n,this.highlightOnHover=r,this.unhighlightOnHover=l,this._x=t,this._y=a,this.name=new g(e.name,this._x+o.T.FramePaddingX,this._y),this._width=Math.max(o.T.FrameMinWidth,this.name.width()+2*o.T.FramePaddingX),this._height=o.T.FramePaddingY+this.name.height();let d=this._y+this.name.height()+o.T.FramePaddingY;for(const[t,a]of e.frame){const e=new f(t,a,this._x+o.T.FramePaddingX,d);this.bindings.push(e),d+=e.height()+o.T.FramePaddingY,this._width=Math.max(this._width,e.width()+2*o.T.FramePaddingX),this._height+=e.height()+o.T.FramePaddingY}this.bindings.filter(e=>e.value instanceof m).forEach(e=>{e.value.setX(this._x+this._width+o.T.FramePaddingX),e.setArrowToX(this._x+this._width+o.T.FramePaddingX)}),this.tooltipRef=s.createRef()}setWidth(e){this._width=e}setParent(e){this.parent=e}onMouseEnter=e=>{this.highlightOnHover?.(),(this.tooltip||this.highlightOnHover)&&(0,r.SU)(e.currentTarget),this.tooltip&&this.tooltipRef.current.show()};onMouseLeave=e=>{this.unhighlightOnHover?.(),(this.tooltip||this.unhighlightOnHover)&&(0,r.rn)(e.currentTarget),this.tooltip&&this.tooltipRef.current.hide()};draw(){let e={fill:(0,r.eQ)(),padding:Number(c.V.ControlItemTextPadding),fontFamily:c.V.FontFamily.toString(),fontSize:Number(c.V.FontSize),fontStyle:c.V.FontStyle.toString(),fontVariant:c.V.FontVariant.toString()};return(0,i.jsxs)(n.YJ,{children:[(0,s.createElement)(n.rw,{...o.$,x:this.x(),y:this.y()+this.name.height(),width:this.width(),height:this.height(),stroke:this.stroke,cornerRadius:Number(o.T.FrameCornerRadius),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,key:S.key++}),this.name.draw(),this.bindings.map(e=>e.draw()),this.parent&&new u(this._x+o.T.FramePaddingX/2,this._y+this.name.height(),this.parent.x()+o.T.FramePaddingX/2,this.parent.y()+this.parent.height()+this.name?.height()).draw(),this.tooltip&&(0,i.jsxs)(n.JU,{x:this.x()+this.width()+c.V.TooltipMargin,y:this.y()+c.V.TooltipMargin,visible:!1,ref:this.tooltipRef,children:[(0,s.createElement)(n.vw,{...o.$,stroke:"black",fill:"black",opacity:Number(c.V.TooltipOpacity),key:S.key++}),(0,s.createElement)(n.EY,{...o.$,...e,text:this.tooltip,padding:Number(c.V.TooltipPadding),key:S.key++})]},S.key++)]},S.key++)}}class x extends d.B{static TO_X_INDEX=2;_points=[];constructor(e,t,a,i){super(),this._points.push(e,t,a,i)}setToX(e){this._points[x.TO_X_INDEX]=e}onMouseEnter(e){(0,r.Lq)(e.currentTarget),(0,r.SU)(e.currentTarget)}onMouseLeave(e){(0,r.eM)(e.currentTarget),(0,r.rn)(e.currentTarget)}draw(){let e=`M ${this._points[0]} ${this._points[1]} L ${this._points[2]} ${this._points[3]}`;return(0,i.jsx)(n.YJ,{onMouseEnter:e=>this.onMouseEnter(e),onMouseLeave:e=>this.onMouseLeave(e),children:(0,s.createElement)(n.wA,{...o.$,stroke:(0,r.t6)(),strokeWidth:Number(o.T.ArrowStrokeWidth),hitStrokeWidth:Number(o.T.ArrowHitStrokeWidth),data:e,key:S.key++})},S.key++)}}class v extends d.B{_frames;_object;constructor(e,t){super(),this._frames=e,this._object=t,this._x=e[0].x(),this._y=e[0].y(),this._height=this._frames.reduce((e,t)=>e+t.height(),0),this._width=this._frames.reduce((e,t)=>Math.max(e,t.width()),0)}get frames(){return this._frames}get object(){return this._object}getFrame(){return this._frames[this._frames.length-1]}draw(){return(0,i.jsx)(n.YJ,{children:this._frames.map(e=>e.draw())},S.key++)}}class T extends d.B{_methodFrames=[];_objects=[];_classFrames=[];_lines=[];constructor(e){super(),this._x=c.V.ControlPosX+c.V.ControlItemWidth+2*o.T.CanvasPaddingX,this._y=c.V.StashPosY+c.V.StashItemHeight+2*o.T.CanvasPaddingY;const t=this._x;let a=this._y,i=Number(o.T.FrameMinWidth);e.global.children.forEach(s=>{if(s.name.includes("(")){let n,l=s;for(;l;){let s=l===e.current?(0,r.NP)():(0,r.t6)(),d=new b(l,t,a,s);this._methodFrames.push(d),a+=d.height()+o.T.FramePaddingY,i=Math.max(i,d.width()),n&&d.setParent(n),n=d,l=l.children.length?l.children[0]:void 0}}});const s=t+i+o.T.FrameMinWidth;let n=this._y,d=Number(o.T.FrameMinWidth);e.objects.forEach(t=>{let a=[],i=Number(o.T.FrameMinWidth),l=t.frame;for(;l.parent;)l=l.parent;for(;l;){let t=l===e.current?(0,r.NP)():(0,r.t6)(),o=new b(l,s,n,t);n+=o.height(),d=Math.max(d,o.width()),l=l.children.length?l.children[0]:void 0,a.push(o),i=Math.max(i,o.width())}a.forEach(e=>e.setWidth(i)),n+=o.T.FramePaddingY,this._objects.push(new v(a,t))});const h=s+d+o.T.FrameMinWidth;let p=this._y;for(const t of e.global.frame.values()){const a=t.frame,i=a===e.current?(0,r.NP)():(0,r.t6)(),s=new b(a,h,p,i,"",()=>{let e=t.classDecl,a=-1,i=-1;e.location&&(a=e.location.startLine-1,i=e.location.endLine?e.location.endLine-1:a),S.setEditorHighlightedLines([[a,i]])},()=>S.setEditorHighlightedLines([])),n=t.superclass?.frame.name;if(n){const e=this._classFrames.find(e=>e.name.text===n);s.setParent(e)}this._classFrames.push(s),p+=s.height()+o.T.FramePaddingY}this._methodFrames.forEach(e=>{e.bindings.forEach(e=>{if(e.value instanceof y&&e.value.variable.value.kind===l.ECE.StructType.OBJECT){let t=e.value.variable.value.frame,a=this._objects.filter(e=>e.getFrame().frame===t)[0];e.value.value=new u(e.value.x()+e.value.width()/2,e.value.y()+e.value.type.height()+(e.value.height()-e.value.type.height())/2,a.x(),a.y()+a.height()/2)}})}),this._objects.flatMap(e=>e.frames).forEach(e=>{e.bindings.forEach(e=>{if(e.value instanceof y&&e.value.variable.value.kind===l.ECE.StructType.VARIABLE){let t=e.value.variable.value,a=this._classFrames.flatMap(e=>e.bindings).filter(e=>e.value instanceof y&&e.value.variable===t)[0].value;e.value.value=new u(e.value.x()+e.value.width()/2,e.value.y()+e.value.type.height()+(e.value.height()-e.value.type.height())/2,a.x(),a.y()+a.type.height())}if(e.value instanceof y&&e.value.variable.value.kind===l.ECE.StructType.OBJECT){let t=e.value.variable.value.frame,a=this._objects.find(e=>e.getFrame().frame===t);e.value.value=new u(e.value.x()+e.value.width()/2,e.value.y()+e.value.type.height()+(e.value.height()-e.value.type.height())/2,a.x(),a.y()+a.height()/2)}})}),this._objects.forEach(e=>{let t=this._classFrames.find(t=>t.name.text===e.object.class.frame.name),a=new x(e.x()+e.width(),e.y()+e.height()/2,t.x(),t.y()+t.height()/2+t.name.height());this._lines.push(a)})}get classes(){return this._classFrames}get objects(){return this._objects.flatMap(e=>e.frames)}get frames(){return this._methodFrames}draw(){return(0,i.jsxs)(n.YJ,{children:[this._methodFrames.map(e=>e.draw()),this._objects.flatMap(e=>e.frames).map(e=>e.draw()),this._classFrames.map(e=>e.draw()),this._lines.map(e=>e.draw())]},S.key++)}}class A extends d.B{_text;_stroke;_arrow;constructor(e,t,a,i){if(super(),this._text=t,this._stroke=a,this._x=e,this._y=c.V.StashPosY,this._height=c.V.StashItemHeight+2*c.V.StashItemTextPadding,this._width=2*c.V.StashItemTextPadding+(0,r.q_)(this._text),i){const e=i instanceof b?i.y()+i.name.height():i instanceof m?i.y():i.y()+i.type.height();this._arrow=new u(this._x+this._width/2,this._y+this._height,i.x(),e)}}draw(){let e={fill:(0,r.eQ)(),padding:c.V.StashItemTextPadding,fontFamily:c.V.FontFamily,fontSize:c.V.FontSize,fontStyle:c.V.FontStyle,fontVariant:c.V.FontVariant},t={stroke:this._stroke,cornerRadius:c.V.StashItemCornerRadius};return(0,i.jsxs)(n.YJ,{children:[(0,i.jsxs)(n.JU,{x:this.x(),y:this.y(),children:[(0,s.createElement)(n.vw,{...o.$,...t,key:S.key++}),(0,s.createElement)(n.EY,{...o.$,...e,text:this._text,key:S.key++})]},S.key++),this._arrow?.draw()]},S.key++)}}class w extends d.B{_stashItems=[];constructor(e){super(),this._x=c.V.StashPosX,this._y=c.V.StashPosY;let t=this._x;for(const a of e.getStack()){const e=this.getStashItemString(a),i=new A(t,e,(0,r.eQ)(),this.getStashItemRef(a));this._stashItems.push(i),t+=i.width()}this._height=c.V.StashItemHeight,this._width=t-this._x}draw(){return(0,i.jsx)(n.YJ,{children:this._stashItems.map(e=>e.draw())},S.key++)}getStashItemString=e=>{switch(e.kind){case"Literal":return e.literalType.value;case l.ECE.StructType.VARIABLE:return"location";case l.ECE.StructType.TYPE:return e.type;default:return e.kind.toLowerCase()}};getStashItemRef=e=>e.kind===l.ECE.StructType.CLOSURE?S.environment&&S.environment.classes.flatMap(e=>e.bindings).find(t=>t.value instanceof m&&t.value.method===e)?.value:e.kind===l.ECE.StructType.VARIABLE?S.environment&&(S.environment.frames.flatMap(e=>e.bindings).find(t=>t.value instanceof y&&t.value.variable===e)?.value||S.environment.classes.flatMap(e=>e.bindings).find(t=>t.value instanceof y&&t.value.variable===e)?.value||S.environment.objects.flatMap(e=>e.bindings).find(t=>t.value instanceof y&&t.value.variable===e)?.value):e.kind===l.ECE.StructType.CLASS?S.environment&&S.environment.classes.find(t=>t.frame===e.frame):e.kind===l.ECE.StructType.OBJECT?S.environment&&S.environment.objects.find(t=>t.frame===e.frame):void 0}class S{static key=0;static setVis;static setEditorHighlightedLines;static stageRef=s.createRef();static scaleFactor=1.02;static environment;static control;static stash;static init(e,t){this.setVis=e,this.setEditorHighlightedLines=t}static drawCse(e){if(!this.setVis||!e.environment||!e.control||!e.stash)throw Error("Java CSE Machine not initialized");S.environment=new T(e.environment),S.control=new p(e.control),S.stash=new w(e.stash),this.setVis(this.draw());let t=document.getElementById("env_visualizer-icon");t?.classList.add("side-content-tab-alert")}static clearCse(){this.setVis&&(this.setVis(void 0),S.environment=void 0,S.control=void 0,S.stash=void 0)}static zoomStage(e,t=1){if("boolean"!=typeof e&&e.evt.preventDefault(),S.stageRef.current){let a=S.stageRef.current,i=a.scaleX(),{x:s,y:n}=a.getPointerPosition(),r={x:(s-a.x())/i,y:(n-a.y())/i},o="boolean"!=typeof e?e.evt.deltaY>0?-1:1:e?1:-1;if(o>0&&i<3||o<0&&i>.4){let l=o>0?i*S.scaleFactor**t:i/S.scaleFactor**t;if(a.scale({x:l,y:l}),"boolean"!=typeof e){let e={x:s-r.x*l,y:n-r.y*l};a.position(e),a.batchDraw()}}}}static draw(){return(0,i.jsx)("div",{className:"sa-cse-machine","data-testid":"sa-cse-machine",children:(0,i.jsx)("div",{id:"scroll-container",style:{width:window.innerWidth-50,height:window.innerHeight-150,overflow:"hidden"},children:(0,i.jsx)("div",{id:"large-container",style:{width:o.T.CanvasMinWidth,height:o.T.CanvasMinHeight,overflow:"hidden",backgroundColor:(0,r.lG)()},children:(0,i.jsx)(n.BI,{width:+o.T.CanvasMinWidth,height:+o.T.CanvasMinHeight,ref:this.stageRef,draggable:!0,onWheel:S.zoomStage,className:"draggable",children:(0,i.jsxs)(n.Wd,{children:[(0,s.createElement)(n.rw,{...o.$,x:0,y:0,width:o.T.CanvasMinWidth,height:o.T.CanvasMinHeight,fill:(0,r.lG)(),key:S.key++,listening:!1}),this.control?.draw(),this.stash?.draw(),this.environment?.draw()]})})})})})}}},71270:function(e,t,a){"use strict";a.d(t,{OF:()=>d,Pq:()=>o,n9:()=>l});var i=a(50046),s=a(81720),n=a(19205),r=a(26117);function o(e){return(0,r.HA)(e)||(0,r.Bm)(e)}function l(e){return(0,s.qq)(e)}function d(e,t,a,s,o,l){switch(l){case i.Chapter.SCHEME_1:case i.Chapter.SCHEME_2:case i.Chapter.SCHEME_3:case i.Chapter.SCHEME_4:case i.Chapter.FULL_SCHEME:{let i=(0,r.yr)(e);return new n.k(i,i,t,a,s,o)}default:throw Error("Unknown Chapter")}}},26117:function(e,t,a){"use strict";a.d(t,{Bm:()=>o,HA:()=>r,Lv:()=>function e(t){return null===t||t instanceof Array&&2===t.length&&e(t[1])},kc:()=>c,ks:()=>l,yr:()=>d});var i=a(26512),s=a(82097),n=a(36236);function r(e){return e?.numberType!==void 0}function o(e){return e?.sym!==void 0}function l(e){return e?.toString()==="continuation"}function d(e){return(0,n.unparse)((0,s.estreeDecode)(e))}function c(e){return(0,i.schemeVisualise)(e).toString()}a(65437)},9585:function(e,t,a){"use strict";a.d(t,{Ay:()=>r,Kt:()=>s,jG:()=>n});let i=(0,a(86930).Ej)("dashboard",{fetchGroupGradingSummary:()=>({}),updateGroupGradingSummary:e=>e}),{fetchGroupGradingSummary:s,updateGroupGradingSummary:n}=i,r=i},4874:function(e,t,a){"use strict";a.d(t,{A:()=>E});var i=a(74848),s=a(39088);let n="white",r="white";var o=a(66447);function l(e){return(void 0===Array.isArray?e instanceof Array:Array.isArray(e))&&2===e.length}function d(e,t=!1){if(t)return""+e;{let t=typeof e;if(("function"===t||"object"===t)&&null!==e)return;if("string"!==t)return`${e}`;{let t=e+"",a=t.substring(0,20);return`"${a}${t.length>20?"...":""}"`}}}var c=a(96540);class u{children;constructor(){this.children=null}}class h extends u{data;constructor(e){super(),this.data=e}}class p extends u{_drawable;drawableX;drawableY;get drawable(){return this._drawable}}class m extends p{createDrawable(e,t,a,n){return this._drawable=(0,i.jsxs)(s.YJ,{children:[(0,i.jsx)(T,{x:e,y:t}),(a!==e||n!==t)&&(0,i.jsx)(b,{from:{x:a+22.5,y:n+15},to:{x:e,y:t}})]},e+", "+t),this.drawableX=e,this.drawableY=t,this._drawable}}class g extends p{createDrawable(e,t,a,n){let r={nodes:this.children??[],x:e,y:t},o=(0,i.jsx)(f,{...r});return this._drawable=(0,i.jsxs)(s.YJ,{children:[o,(a!==e||n!==t)&&(0,i.jsx)(b,{from:{x:a+22.5,y:n+15},to:{x:e,y:t}})]},e+", "+t),this.drawableX=e,this.drawableY=t,this._drawable}}class y extends c.PureComponent{render(){return(0,i.jsxs)(s.YJ,{x:this.props.x,y:this.props.y,children:[(0,i.jsx)(s.rw,{width:Math.max(45*this.props.nodes.length,15),height:30,strokeWidth:2,stroke:n,fill:"#17181A",preventDefault:!1}),this.props.nodes.length>1&&Array.from(Array(this.props.nodes.length-1),(e,t)=>(0,i.jsx)(s.N1,{points:[45*(t+1),0,45*(t+1),30],strokeWidth:2,stroke:n,preventDefault:!1},"line"+t)),this.props.nodes.map((e,t)=>e instanceof h&&((e,t)=>{let a=e.data;if(!function(e){for(var t=e;;t=function(e){if(l(e))return e[1];throw Error("tail(xs) expects a pair as argument xs, but encountered "+e)}(t))if(null===t)return!0;else if(!l(t))return!1}(a)){let n=d(a),r=n??"*"+E.displaySpecialContent(e);return(0,i.jsx)(s.EY,{text:r,align:"center",width:45,x:45*t,y:Math.floor((30-1.2*12)/2),fontStyle:void 0===n?"italic":"normal",fill:"white",preventDefault:!1},""+a+t)}return null===a?(0,i.jsx)(w,{x:45*t,y:0},t):null})(e,t))]})}}let f=y,b=c.memo(e=>(0,i.jsx)(s.i3,{points:[e.from.x,e.from.y,e.to.x+13,e.to.y+-5],pointerWidth:5,pointerLength:5,fill:r,stroke:n,strokeWidth:2,preventDefault:!1},e+"")),x=c.memo(({from:e,to:t})=>{let a=e.y+15+15,o=t.x-15,l=t.y-15,d=[e.x,e.y,e.x,a,o,a,o,l,t.x+13,l,t.x+13,t.y+-5];return(0,i.jsx)(s.i3,{points:d,pointerLength:5,pointerWidth:5,fill:r,stroke:n,strokeWidth:2,preventDefault:!1})});class v extends c.PureComponent{render(){return(0,i.jsxs)(s.YJ,{...this.props,children:[(0,i.jsx)(s.jl,{radius:15,strokeWidth:2,stroke:n,x:15,y:15,preventDefault:!1}),(0,i.jsx)(s.jl,{radius:15,strokeWidth:2,stroke:n,x:47,y:15,preventDefault:!1}),(0,i.jsx)(s.jl,{radius:4,strokeWidth:2,stroke:r,fill:r,x:15,y:15,preventDefault:!1}),(0,i.jsx)(s.jl,{radius:4,strokeWidth:2,stroke:n,fill:r,x:47,y:15,preventDefault:!1})]})}}let T=v;class A extends c.PureComponent{render(){return(0,i.jsx)(s.N1,{x:this.props.x,y:this.props.y,points:[0,30,45,0],strokeWidth:1,stroke:n,preventDefault:!1})}}let w=A;class S extends u{actualNode;constructor(e){super(),this.actualNode=e}}class C{_rootNode;nodes;constructor(e,t){this._rootNode=e,this.nodes=t}get rootNode(){return this._rootNode}getNodeById(e){return this.nodes[e]}static fromSourceStructure(e){let t=0,a=new Map,i=[];return new C(function e(s){var n,r;let o,l,d=a.get(s);if(void 0!==d)return new S(d);return Array.isArray(s)?(n=s,o=new g,a.set(n,o),i[t]=o,t++,o.children=n.map(e),o):"function"==typeof s?(r=s,l=new m,a.set(r,l),i[t]=l,t++,l):new h(s)}(e),i)}draw(){return new I(this)}}class I{tree;drawables;nodeWidths;width=0;height=0;minX=0;minY=0;constructor(e){this.tree=e,this.drawables=[],this.nodeWidths=new Map}draw(e,t){if(!(this.tree.rootNode instanceof h))return this.drawNode(this.tree.rootNode,e,t,e,t),this.width=this.getNodeWidth(this.tree.rootNode)-this.minX,this.height=this.getNodeHeight(this.tree.rootNode)-this.minY+2,(0,i.jsx)(s.Wd,{offsetX:this.minX,offsetY:this.minY,children:this.drawables},e+", "+t);{let e={text:d(this.tree.rootNode.data),align:"center",fontStyle:"normal",fontSize:20,fill:n},t=new o.A.Text(e);return this.width=t.width(),this.height=t.height(),(0,i.jsx)(s.Wd,{children:(0,i.jsx)(s.EY,{...e})})}}drawNode(e,t,a,s,n){if(e instanceof S){let r,o=e.actualNode,l={from:{x:s+22.5,y:n+15},to:{x:o.drawableX,y:o.drawableY}};l.from.y>=l.to.y?(this.minX=Math.min(this.minX,o.drawableX-15-1),this.minY=Math.min(this.minY,o.drawableY-15-1),r=(0,i.jsx)(x,{...l},"Arrow (back)"+s+t+n+a)):r=(0,i.jsx)(b,{...l},"Arrow"+s+t+n+a),this.drawables.push(r)}if(e instanceof p){if(e instanceof m){let i=e.createDrawable(t,a,s,n);this.drawables.push(i)}else if(e instanceof g){let i=e.createDrawable(t,a,s,n);this.drawables.push(i);let r=t;e.children?.forEach((e,i)=>{let s=e instanceof S?a:a+60;this.drawNode(e,r,s,t+45*i,a);let n=this.getNodeWidth(e);r+=n?n+22.5:0})}}}getNodeWidth(e){if(e instanceof h||e instanceof S)return 0;if(e instanceof m)return 64;if(!(e instanceof g))return 0;{if(this.nodeWidths.has(e))return this.nodeWidths.get(e)??0;if(null==e.children)return 0;let t=e.children.map(e=>this.getNodeWidth(e)).filter(e=>e>0),a=t.length>0?t.reduce((e,t)=>e+t+22.5):0,i=Math.max(45*e.children.length+2,a,17);return this.nodeWidths.set(e,i),i}}getNodeHeight(e){return e instanceof h?0:e instanceof m?30:e instanceof S?15:e instanceof g?(e.children??[]).map(e=>this.getNodeHeight(e)+30*(e instanceof p)).filter(e=>e>0).reduce((e,t)=>Math.max(e,t),0)+30:0}}class E{static empty(e){}static setSteps=E.empty;static _instance=new E;steps=[];nodeLabel=0;nodeToLabelMap=new Map;constructor(){}static init(e){E.setSteps=e}static drawData(e){if(!E.setSteps)throw Error("Data visualizer not initialized");E._instance.addStep(e),E.setSteps(E._instance.steps)}static clear(){E._instance=new E,E.setSteps(E._instance.steps)}static displaySpecialContent(e){return E._instance.displaySpecialContent(e)}displaySpecialContent(e){return this.nodeToLabelMap.has(e)?this.nodeToLabelMap.get(e)??0:(console.log("*"+this.nodeLabel+": "+e.data),this.nodeToLabelMap.set(e,this.nodeLabel),this.nodeLabel++)}addStep(e){let t=e.map(this.createDrawing);this.steps.push(t)}createDrawing(e){let t=C.fromSourceStructure(e).draw(),a=1,n=1,r=t.draw(a,n);return(0,i.jsx)(s.BI,{width:t.width+a,height:t.height+n,children:r},e)}}},88663:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("directory/languages",{fetchLanguages:null,setLanguages:e=>({languages:e}),setSelectedLanguage:(e,t)=>({languageId:e,evaluatorId:t}),setSelectedEvaluator:e=>({evaluatorId:e})})},51706:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("directory/plugins",{fetchPlugins:null,setPlugins:e=>({plugins:e})})},20659:function(e,t,a){"use strict";a.d(t,{j:()=>n,n:()=>r});var i=a(66048),s=a(49421);let n=(0,i.Lq)("directory.language.enable",!1,"Enable new language directory powered selection UI and runtime selection."),r=(0,s.I)(n)},27915:function(e,t,a){"use strict";a.d(t,{f:()=>l,l:()=>o});var i=a(76070),s=a(66048),n=a(49421),r=a(88663);let o=(0,s.Lq)("directory.language.url","https://source-academy.github.io/language-directory/directory.json","The URL where the language directory may be found.",function*(){yield(0,i.yJ)(r.A.fetchLanguages())}),l=(0,n.I)(o)},24148:function(e,t,a){"use strict";a.d(t,{E:()=>o,a:()=>l});var i=a(76070),s=a(66048),n=a(49421),r=a(51706);let o=(0,s.Lq)("directory.plugin.url","https://source-academy.github.io/plugin-directory/directory.json","The URL where the plugin directory may be found.",function*(){yield(0,i.yJ)(r.A.fetchPlugins())}),l=(0,n.I)(o)},79289:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("github",{githubOpenFile:0,githubSaveFile:0,githubSaveFileAs:0})},38457:function(e,t,a){"use strict";a.d(t,{R2:()=>y,SW:()=>f,Vv:()=>d,XI:()=>m,Z_:()=>g,i_:()=>u,jp:()=>p,ku:()=>h,oq:()=>c});var i=a(74848),s=a(6047),n=a(69096),r=a(41397),o=a(32112),l=a(49705).Buffer;async function d(e,t){return await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:t})}function c(){let e=o.M.getState().session.githubOctokitObject;if(void 0!==e)return e.octokit}async function u(e,t,a,i){let s;if(void 0===e)return(0,r.JB)("Please log in and try again",2e3),!1;if(""===i)return(0,r.JB)("Please select a file!",2e3),!1;try{s=(await e.repos.getContent({owner:t,repo:a,path:i})).data}catch(e){return(0,r.JB)("Connection denied or file does not exist.",2e3),console.error(e),!1}return!Array.isArray(s)||((0,r.JB)("Can't open folder as a file!",2e3),!1)}async function h(e,t,a,i){let s,n="";if(""===i)return(0,r.JB)("No file name given.",2e3),{canBeSaved:!1,saveType:n};if(void 0===e)return(0,r.JB)("Please log in and try again",2e3),{canBeSaved:!1,saveType:n};try{s=(await e.repos.getContent({owner:t,repo:a,path:i})).data,n="Overwrite"}catch(e){if(404!==e.status)return(0,r.JB)("Connection denied or file does not exist.",2e3),console.error(e),{canBeSaved:!1,saveType:n};n="Create"}return Array.isArray(s)?((0,r.JB)("Can't save over a folder!",2e3),{canBeSaved:!1,saveType:n}):{canBeSaved:!0,saveType:n}}async function p(){return await (0,n.cu)({contents:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Warning: opening this file will overwrite the text data in the editor."}),(0,i.jsx)("p",{children:"Please click 'Confirm' to continue, or 'Cancel' to go back."})]}),negativeLabel:"Cancel",positiveIntent:"primary",positiveLabel:"Confirm"})}async function m(){return await (0,n.cu)({contents:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Warning: You are saving over an existing file in the repository."}),(0,i.jsx)("p",{children:"Please click 'Confirm' to continue, or 'Cancel' to go back."})]}),negativeLabel:"Cancel",positiveIntent:"primary",positiveLabel:"Confirm"})}async function g(e,t,a,i){if(void 0===e)return;let n=(await e.repos.getContent({owner:t,repo:a,path:i})).data.content;if(n){let e=l.from(n,"base64").toString(),t=o.M.getState().workspaces.playground.activeEditorTabIndex;if(null===t)throw Error("No active editor tab found.");o.M.dispatch(s.o.updateEditorValue("playground",t,e)),o.M.dispatch(s.o.playgroundUpdateGitHubSaveInfo(a,i,new Date)),(0,r.uT)("Successfully loaded file!",1e3)}}async function y(e,t,a,i,n,d,c,u){if(void 0===e)return;d=d||"No public email provided",n=n||"Source Academy User",c=c||"Changes made from Source Academy",u=u||"";let h=l.from(u,"utf8").toString("base64");try{let l=(await e.repos.getContent({owner:t,repo:a,path:i})).data;if(Array.isArray(l))return;let u=l.sha;await e.repos.createOrUpdateFileContents({owner:t,repo:a,path:i,message:c,content:h,sha:u,committer:{name:n,email:d},author:{name:n,email:d}}),o.M.dispatch(s.o.playgroundUpdateGitHubSaveInfo(a,i,new Date)),(0,r.uT)("Successfully saved file!",1e3)}catch(e){console.error(e),(0,r.JB)("Something went wrong when trying to save the file.",1e3)}}async function f(e,t,a,i,n,d,c,u){if(void 0===e)return;d=d||"No public email provided",n=n||"Source Academy User",c=c||"Changes made from Source Academy",u=u||"";let h=l.from(u,"utf8").toString("base64");try{await e.repos.createOrUpdateFileContents({owner:t,repo:a,path:i,message:c,content:h,committer:{name:n,email:d},author:{name:n,email:d}}),o.M.dispatch(s.o.playgroundUpdateGitHubSaveInfo(a,i,new Date)),(0,r.uT)("Successfully created file!",1e3)}catch(e){console.error(e),(0,r.JB)("Something went wrong when trying to save the file.",1e3)}}},74971:function(e,t,a){"use strict";a.d(t,{FJ:()=>n,MY:()=>r,lL:()=>s,lu:()=>o,x6:()=>l});var i=a(90019);a(88462);let s=e=>{if(!e)return;let t=document.defaultView||window;if(!t)return void console.warn("There is no `window` associated with the current `document`");let a=new Blob([[(0,i.t)("gradingCsv.assessmentNumber"),(0,i.t)("gradingCsv.assessmentName"),(0,i.t)("gradingCsv.studentName"),(0,i.t)("gradingCsv.studentUsername"),(0,i.t)("gradingCsv.group"),(0,i.t)("gradingCsv.progress"),(0,i.t)("gradingCsv.questionCount"),(0,i.t)("gradingCsv.questionsGraded"),(0,i.t)("gradingCsv.initialXp"),(0,i.t)("gradingCsv.xpAdjustment"),(0,i.t)("gradingCsv.currentXpExclBonus"),(0,i.t)("gradingCsv.maxXp"),(0,i.t)("gradingCsv.bonusXp")].map(e=>`"${e}"`).join(",")+"\n",...e.map(e=>[e.assessmentNumber,e.assessmentName,e.studentName,e.studentUsername,e.groupName,e.progress,e.questionCount,e.gradedCount,e.initialXp,e.xpAdjustment,e.currentXp,e.maxXp,e.xpBonus].map(e=>`"${e}"`).join(",")+"\n")],{type:"text/csv"}),s=`SA submissions (${new Date().toISOString()}).csv`,n=document.createElement("a"),r=t.URL.createObjectURL(a);n.setAttribute("href",r),n.setAttribute("download",s),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:t})),document.body.removeChild(n),t.setTimeout(()=>{t.URL.revokeObjectURL(r)},0)},n=e=>{switch(e.id){case"assessmentName":return{title:e.value};case"assessmentType":return{type:e.value};case"studentName":return{name:e.value};case"studentUsername":return{username:e.value};case"progressStatus":return d(e.value);case"groupName":return{groupName:e.value};default:return{}}},r=(e,t)=>({offset:e*t,pageSize:t}),o=e=>e?{}:{status:"submitted",isManuallyGraded:!0,isGradingPublished:!1},l=(e,t,a,i,s)=>e?"submitted"!==a?a:i<s?"submitted":t?"published":"graded":"autograded",d=e=>{switch(e){case"autograded":return{isManuallyGraded:!1};case"published":return{isManuallyGraded:!0,isGradingPublished:!0,isFullyGraded:!0,status:"submitted"};case"graded":return{isManuallyGraded:!0,isGradingPublished:!1,isFullyGraded:!0,status:"submitted"};case"submitted":return{isManuallyGraded:!0,isGradingPublished:!1,isFullyGraded:!1,status:"submitted"};default:return{isManuallyGraded:!0,isGradingPublished:!1,status:e}}}},89161:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("groundControl",{changeDateAssessment:(e,t,a)=>({id:e,openAt:t,closeAt:a}),changeTeamSizeAssessment:(e,t)=>({id:e,maxTeamSize:t}),deleteAssessment:e=>e,publishAssessment:(e,t)=>({id:t,togglePublishAssessmentTo:e}),publishGradingAll:e=>e,unpublishGradingAll:e=>e,uploadAssessment:(e,t,a)=>({file:e,forceUpdate:t,assessmentConfigId:a}),configureAssessment:(e,t,a)=>({id:e,hasVotingFeatures:t,hasTokenCounter:a}),assignEntriesForVoting:e=>({id:e})})},5849:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("leaderboard",{getOverallLeaderboardXP:(e,t)=>({page:e,pageSize:t}),saveOverallLeaderboardXP:e=>e,getAllContestScores:(e,t)=>({assessmentId:e,visibleEntries:t}),saveAllContestScores:e=>e,getAllContestPopularVotes:(e,t)=>({assessmentId:e,visibleEntries:t}),saveAllContestPopularVotes:e=>e,getCode:0,saveCode:e=>e,clearCode:0,getContests:0,saveContests:e=>e,setWorkspaceInitialRun:e=>e,resetWorkspaceInitialRun:e=>e})},6457:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("persistence",{persistenceOpenPicker:!0,persistenceSaveFile:e=>e,persistenceSaveFileAs:!0,persistenceInitialise:!0})},18509:function(e,t,a){"use strict";a.d(t,{$8:()=>r,Ay:()=>u,F$:()=>d,SD:()=>l,UQ:()=>o,fX:()=>s,r0:()=>n,yO:()=>c});let i=(0,a(86930).Ej)("playground",{generateLzString:()=>({}),shortenURL:e=>e,updateShortURL:e=>e,changeQueryString:e=>e,playgroundUpdatePersistenceFile:e=>e,playgroundUpdateGitHubSaveInfo:(e,t,a)=>({repoName:e,filePath:t,lastSaved:a}),playgroundConfigLanguage:e=>e}),{generateLzString:s,shortenURL:n,updateShortURL:r,changeQueryString:o,playgroundUpdatePersistenceFile:l,playgroundUpdateGitHubSaveInfo:d,playgroundConfigLanguage:c}=i,u=i},54097:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("remoteExecution",{remoteExecFetchDevices:()=>({}),remoteExecUpdateDevices:e=>e,remoteExecUpdateSession:e=>e,remoteExecConnect:(e,t)=>({workspace:e,device:t}),remoteExecDisconnect:()=>({}),remoteExecRun:(e,t)=>({files:e,entrypointFilePath:t}),remoteExecReplInput:e=>e})},41255:function(e,t,a){"use strict";a.d(t,{I:()=>n,_:()=>r});var i=a(50046),s=a(23385);let n=[{id:"EV3",name:"Lego Mindstorms EV3",internalFunctions:["ev3_pause","ev3_connected","ev3_motorA","ev3_motorB","ev3_motorC","ev3_motorD","ev3_motorGetSpeed","ev3_motorSetSpeed","ev3_motorStart","ev3_motorStop","ev3_motorSetStopAction","ev3_motorGetPosition","ev3_runForTime","ev3_runToAbsolutePosition","ev3_runToRelativePosition","ev3_colorSensor","ev3_colorSensorRed","ev3_colorSensorGreen","ev3_colorSensorBlue","ev3_reflectedLightIntensity","ev3_ambientLightIntensity","ev3_colorSensorGetColor","ev3_ultrasonicSensor","ev3_ultrasonicSensorDistance","ev3_gyroSensor","ev3_gyroSensorAngle","ev3_gyroSensorRate","ev3_touchSensor1","ev3_touchSensor2","ev3_touchSensor3","ev3_touchSensor4","ev3_touchSensorPressed","ev3_hello","ev3_waitForButtonPress","ev3_speak","ev3_playSequence","ev3_ledLeftGreen","ev3_ledLeftRed","ev3_ledRightGreen","ev3_ledRightRed","ev3_ledGetBrightness","ev3_ledSetBrightness"],languageChapter:i.Chapter.SOURCE_3,deviceLibraryName:s.O.EV3}],r=new Map(n.map(e=>[e.id,e]))},75209:function(e,t,a){"use strict";a.d(t,{Ay:()=>u,Hr:()=>l,PI:()=>c,PX:()=>d,Yz:()=>n,c:()=>s,eS:()=>o,ie:()=>r});let i=(0,a(86930).Ej)("sourceRecorder",{saveSourcecastData:(e,t,a,i,s,n)=>({title:e,description:t,uid:a,audio:i,audioUrl:window.URL.createObjectURL(i),playbackData:s,workspaceLocation:n}),setCurrentPlayerTime:(e,t)=>({playerTime:e,workspaceLocation:t}),setCodeDeltasToApply:(e,t)=>({deltas:e,workspaceLocation:t}),setInputToApply:(e,t)=>({inputToApply:e,workspaceLocation:t}),setSourcecastData:(e,t,a,i,s,n)=>({title:e,description:t,uid:a,audioUrl:i,playbackData:s,workspaceLocation:n}),setSourcecastDuration:(e,t)=>({duration:e,workspaceLocation:t}),setSourcecastStatus:(e,t)=>({playbackStatus:e,workspaceLocation:t})}),{saveSourcecastData:s,setCurrentPlayerTime:n,setCodeDeltasToApply:r,setInputToApply:o,setSourcecastData:l,setSourcecastDuration:d,setSourcecastStatus:c}=i,u=i},35459:function(e,t,a){"use strict";a.d(t,{Ay:()=>r,Iq:()=>n,p3:()=>s});let i=(0,a(86930).Ej)("sourcecast",{fetchSourcecastIndex:e=>({workspaceLocation:e}),updateSourcecastIndex:(e,t)=>({index:e,workspaceLocation:t})}),{fetchSourcecastIndex:s,updateSourcecastIndex:n}=i,r=i},2113:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("sourcereel",{deleteSourcecastEntry:(e,t)=>({id:e,workspaceLocation:t}),recordInit:(e,t)=>({initData:e,workspaceLocation:t}),recordInput:(e,t)=>({input:e,workspaceLocation:t}),resetInputs:(e,t)=>({inputs:e,workspaceLocation:t}),timerPause:e=>({timeNow:Date.now(),workspaceLocation:e}),timerReset:e=>({workspaceLocation:e}),timerResume:(e,t)=>({timeBefore:e,timeNow:Date.now(),workspaceLocation:t}),timerStart:e=>({timeNow:Date.now(),workspaceLocation:e}),timerStop:e=>({timeNow:Date.now(),workspaceLocation:e})})},60921:function(e,t,a){"use strict";a.d(t,{A:()=>i});let i=(0,a(86930).Ej)("stories",{addStoryEnv:(e,t,a)=>({env:e,chapter:t,variant:a}),clearStoryEnv:e=>({env:e}),evalStory:(e,t)=>({env:e,code:t}),evalStoryError:(e,t)=>({type:"errors",errors:e,env:t}),evalStorySuccess:(e,t)=>({type:"result",value:e,env:t}),handleStoriesConsoleLog:(e,...t)=>({logString:t,env:e}),notifyStoriesEvaluated:(e,t,a,i,s)=>({result:e,lastDebuggerResult:t,code:a,context:i,env:s}),toggleStoriesUsingSubst:(e,t)=>({usingSubst:e,env:t}),getStoriesList:()=>({}),updateStoriesList:e=>e,setCurrentStory:e=>e,setCurrentStoryId:e=>e,createStory:e=>e,saveStory:(e,t)=>({story:e,id:t}),deleteStory:e=>e,getStoriesUser:()=>({}),setCurrentStoriesUser:(e,t)=>({id:e,name:t}),setCurrentStoriesGroup:(e,t,a)=>({id:e,name:t,role:a}),clearStoriesUserAndGroup:()=>({}),fetchAdminPanelStoriesUsers:()=>({}),setAdminPanelStoriesUsers:e=>({users:e})})},71609:function(e,t,a){"use strict";a.d(t,{Ay:()=>y,Kf:()=>p,to:()=>g});var i=a(74848),s=a(50046),n=a(17190),r=a(96540),o=a(48500),l=a(15145),d=a(80392),c=a(74818),u=a(60921),h=a(32112);let p="default";function m(e){for(let[t,a]of Object.entries(e)){let{chapter:e,variant:i}=a,n=Object.values(s.Chapter).filter(e=>!isNaN(Number(e))).includes(e)?e:l.A.defaultSourceChapter,r=Object.values(s.Variant).includes(i)?i:l.A.defaultSourceVariant;h.M.dispatch(u.A.addStoryEnv(t,n,r))}}function g(e){if("---"!==e.substring(0,3))return{header:"",content:e};let t=e.indexOf("---",3);return -1===t?{header:"",content:e}:{header:e.substring(3,t),content:e.substring(t+3)}}let y=r.memo((0,o.A)(({fileContent:e})=>{let[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{let{header:t,content:i}=g(e);a(i),h.M.dispatch(u.A.clearStoryEnv()),function(e){if(""===e)return h.M.dispatch(u.A.addStoryEnv(p,l.A.defaultSourceChapter,l.A.defaultSourceVariant));try{let t=n.Ay.load(e);for(let[e,a]of Object.entries(t))switch(e){case"config":{let{chapter:e,variant:t}=a;m({[p]:{chapter:e,variant:t}});break}case"env":m(a)}}catch(e){console.warn(e),e instanceof n.Ay.YAMLException&&h.M.dispatch(u.A.addStoryEnv(p,l.A.defaultSourceChapter,l.A.defaultSourceVariant))}}(t)},[e]),t?(0,i.jsx)("div",{className:"userblogContent",children:(0,i.jsx)("div",{className:"content",children:(0,c.fu)(t)})}):(0,i.jsx)("div",{})},500),d.P)},11888:function(e,t,a){"use strict";a.d(t,{Ay:()=>s,M9:()=>n,h0:()=>r});let i=Object.fromEntries(Object.entries({ExtensionPing:e=>({frontendOrigin:e}),ExtensionPong:e=>({token:e}),IsVsc:()=>({}),NewEditor:(e,t,a,i,s,n,r)=>({workspaceLocation:e,assessmentName:t,questionId:a,chapter:i,prepend:s,initialCode:n,breakpoints:r}),Text:(e,t)=>({workspaceLocation:e,code:t}),EvalEditor:e=>({workspaceLocation:e}),NotifyAssessmentsOverview:(e,t)=>({assessmentOverviews:e,courseId:t}),Navigate:e=>({route:e}),McqQuestion:(e,t,a,i,s)=>({workspaceLocation:e,assessmentName:t,questionId:a,chapter:i,options:s}),McqAnswer:(e,t,a,i)=>({workspaceLocation:e,assessmentName:t,questionId:a,choice:i}),ChangeChapter:(e,t,a,i)=>({assessmentName:e,questionId:t,chapter:a,variant:i}),ResetEditor:(e,t)=>({workspaceLocation:e,initialCode:t}),AssessmentAnswer:(e,t)=>({questionId:e,answer:t}),LoginWithBrowser:e=>({route:e}),SetEditorBreakpoints:(e,t)=>({workspaceLocation:e,newBreakpoints:t})}).map(([e,t])=>[e,(...a)=>({type:e,...t(...a)})])),s=i,n={...Object.keys(i).filter(e=>isNaN(Number(e))).reduce((e,t)=>({...e,[t]:t}),{})};function r(e){window.parent.postMessage(e,"*")}},91138:function(e,t,a){"use strict";a.d(t,{A:()=>o});var i=a(90019),s=a(71293),n=a(81333),r=a(53734);i.Ay.use(s.A).use(n.r9).init({fallbackLng:"en",debug:!1,resources:r.ES,interpolation:{escapeValue:!1}});let o=i.Ay},53734:function(e,t,a){"use strict";a.d(t,{ES:()=>S,AK:()=>w});var i,s=JSON.parse('{"navigationBar":{"Ground Control":"Ground Control","Dashboard":"Dashboard","Sourcereel":"Sourcereel","Team Formation":"Team Formation","Grading":"Grading","Game Simulator":"Game Simulator","Admin Panel":"Admin Panel","Stories":"Stories","Sourcecast":"Sourcecast","Playground":"Playground","SICP JS":"SICP JS","Achievements":"Achievements","Quests":"Quests","Paths":"Paths","Contests":"Contests","Others":"Others"},"dropdown":{"My Courses":"My Courses","Create Course":"Create Course","Logout":"Logout","Settings":"Settings","About":"About","Help":"Help"}}'),n=JSON.parse('{"gradingCsv":{"assessmentNumber":"Assessment Number","assessmentName":"Assessment Name","studentName":"Student Name","studentUsername":"Student Username","group":"Group","progress":"Progress","questionCount":"Question Count","questionsGraded":"Questions Graded","initialXp":"Initial XP","xpAdjustment":"XP Adjustment","currentXpExclBonus":"Current XP (excl. bonus)","maxXp":"Max XP","bonusXp":"Bonus XP"}}'),r=JSON.parse('{"Logging In":"Logging In...","Log in with":"Log in with {{name}}"}'),o=JSON.parse('{"noTestcases":"There are no testcases provided for this question.","noResults":"There are no results to show.","testcases":"Testcases","results":"Autograder Results","tooltip":{"clickTestcase":"Click on each testcase below to execute it with the program in the editor.","executeAll":"To execute all testcases at once, evaluate the program in the editor with this tab active.","backgroundInfo":"A green or red background indicates a passed or failed testcase respectively.","privateTestcases":"Private testcases (only visible to staff when grading) have a grey background."},"headers":{"testcase":"Testcase","expected":"Expected result","actual":"Actual result","sn":"S/N","status":"Testcase status"}}'),l=JSON.parse('{"noEntries":"There are no eligible contest leaderboard entries found.","titles":{"score":"Score Leaderboard","popularVote":"Popular Vote Leaderboard","default":"Contest Leaderboard"},"tooltips":{"score":"View the highest scoring contest entries!","popularVote":"View the most popular contest entries!","default":"View the top-rated contest entries!"},"headers":{"studentName":"Student Name","rank":"Rank","score":{"calculated":"Calculated Score","popularity":"Popularity Score","default":"Metric"}}}'),d=JSON.parse('{"noEntries":"There are no eligible entries for voting found.","title":"Contest Voting","tooltip":"Rank your favourite contest entries from tiers D (worst) to S (best)!"}'),c=JSON.parse('{"maxStepsExceeded":"Maximum number of steps exceeded.","increaseStepLimit":"Please increase the step limit if you would like to see further evaluation.","csecDescription":"The CSEC machine generates control, stash, environment and class model diagrams adapted from the notation introduced in <0>Structure and Interpretation of Computer Programs, JavaScript Edition, Chapter 3, Section 2</0>.","javaCsec":"You have chosen the sublanguage <0>Java CSEC</0>.","cseDescription":"The CSE machine generates control, stash and environment model diagrams following a notation introduced in <0>Structure and Interpretation of Computer Programs, JavaScript Edition, Chapter 3, Section 2</0>.","instructions":"On this tab, the REPL will be hidden from view, so do check that your code has no errors before running the stepper. You may use this tool by running your program and then dragging the slider above to see the state of the control, stash and environment at different stages in the evaluation of your program. Clicking on the fast-forward button (double chevron) will take you to the next breakpoint in your program.","shortcutsTitle":"Some useful keyboard shortcuts:","shortcuts":{"a":"a: Move to the first step","e":"e: Move to the last step","f":"f: Move to the next step","b":"b: Move to the previous step"},"shortcutsNote":"Note that these shortcuts are only active when the browser focus is on this tab.","label":"CSE Machine"}'),u=JSON.parse('{"defaultText":"The data visualizer helps you to visualize data structures.","instructions":"It is activated by calling the function <0/>, where <1/> would be the <2/> data structure that you want to visualize and <3/> is the number of structures.","reference":"The data visualizer uses box-and-pointer diagrams, as introduced in <0>Structure and Interpretation of Computer Programs, JavaScript Edition, Chapter 2, Section 2</0>.","label":"Data Visualizer","previous":"Previous","next":"Next"}'),h=JSON.parse('{"takePicture":"Take picture","reset":"Reset"}'),p=JSON.parse('{"title":"HTML Display","label":"HTML Display"}'),m=JSON.parse('{"timeout":"[TIMEOUT] Submission exceeded time limit for this test case.","syntax":"[SYNTAX] Line {{line}}: {{errorExplanation}}","runtime":"[RUNTIME] Line {{line}}: {{errorExplanation}}","systemError":"[SYSTEM] {{errorMessage}}","unknown":"[UNKNOWN] Autograder error: type {{errorType}}"}'),g=JSON.parse('{"name":"Name","role":"Role"}'),y=JSON.parse('{"welcome":"Welcome to the Stepper!","instructions":"On this tab, the REPL will be hidden from view, so do check that your code has no errors before running the stepper. You may use this tool by writing your program on the left, then dragging the slider above to see its evaluation.","evaluationSteps":"On even-numbered steps, the part of the program that will be evaluated next is highlighted in yellow. On odd-numbered steps, the result of the evaluation is highlighted in green. You can change the maximum steps limit (500-5000, default 1000) in the control bar.","shortcutsTitle":"Some useful keyboard shortcuts:","shortcuts":{"a":"a: Move to the first step","e":"e: Move to the last step","f":"f: Move to the next step","b":"b: Move to the previous step"},"shortcutsNote":"Note that these shortcuts are only active when the browser focus is on this tab (click on or above the explanation text)."}'),f=JSON.parse('{"description":"Bypass the compiler and type checker by uploading class files to run in the JVM.","acceptedFiles":"Only .class files are accepted. Code in the editor will be ignored when running while this tab is active.","compileCommand":"Compile the files with the following command:","javacCommand":"javac *.java -target 8 -source 8","warning":"Avoid running class files downloaded from unknown sources.","mainClass":"Main class must be named Main and uploaded as Main.class.","chooseFiles":"Choose files...","filesUploaded":"file(s) uploaded.","label":"Upload files"}'),b=JSON.parse('{"sourcecast":{"titleDescription":"Title: {{title}}\\nDescription: {{description}}","introduction":"Welcome to Sourcecast!"}}'),x=JSON.parse('{"sourceRecorder":{"deleteTitle":"Delete Sourcecast","deleteConfirmation":"Are you sure to delete this sourcecast entry?","confirmDelete":"Confirm Delete","cancel":"Cancel"}}'),v=JSON.parse('{"stories":{"deleteConfirmation":"Are you sure you want to delete this story?","delete":"Delete","allStories":"All Stories"}}'),T=JSON.parse('{"welcome":{"title":"Welcome to {{sourceAcademyDeploymentName}}","loggedInMessage":"You have logged in as <0>{{name}}</0>. {{sourceAcademyDeploymentName}} does not have any course information for this account","enrollmentMessage":"If you are enrolled in a course, check with the course staff to make sure your account is added to the course.","resourcesForLearners":"Click <0>here</0> to find a course that suits your needs.","resourcesForEducators":"Click <0>here</0> for a list of resources to get started."}}');let A={commons:s,login:r,translation:{...n,...b,...x,...v,...T},sideContent:{autograder:o,contestLeaderboard:l,contestVoting:d,cseMachine:c,dataVisualizer:u,faceapiDisplay:h,htmlDisplay:p,resultCard:m,sessionManagement:g,substVisualizer:y,upload:f}};JSON.parse('{"navigationBar":{"Ground Control":"Ģŗő\xfb\xf1ď \xc7ő\xf1ţŗőļ","Dashboard":"Ď\xe1şħƀő\xe1ŗď","Sourcereel":"Śő\xfbŗć\xe9ŗ\xe9\xe9ļ","Team Formation":"Ť\xe9\xe2m Ƒőŗm\xe1ţ\xedő\xf1","Grading":"Ĝŗ\xe1ď\xed\xf1ĝ","Game Simulator":"Ĝ\xe1m\xe9 Ś\xedm\xfbļ\xe1ţőŗ","Admin Panel":"\xc1ďm\xed\xf1 Ƥ\xe1\xf1\xe9ļ","Stories":"Šţőŗ\xed\xe9ş","Sourcecast":"Šő\xfbŗč\xe9č\xe1şţ","Playground":"Ƥļ\xe1\xffğŕő\xfb\xf1ď","SICP JS":"ŠĨĆƤ ĴŚ","Achievements":"\xc3čĥ\xed\xe9ṽ\xe9ḿ\xe9\xf1ţş","Missions":"Ḿ\xedşş\xedő\xf1ş","Quests":"Ǫ\xfb\xe9şţş","Paths":"Ƥ\xe1ţĥş","Contests":"Ċő\xf1ţ\xe9şţş","Others":"Őţĥ\xe9ŕş"},"dropdown":{"My Courses":"M\xff C\xf4\xfbrs\xeas","Create Course":"Cr\xea\xe2t\xea C\xf4\xfbrs\xea","Logout":"L\xf4g\xf4\xfbt","Settings":"S\xeatt\xee\xf1gs","About":"\xc2b\xf4\xfbt","Help":"H\xealp"}}'),JSON.parse('{"Logging In":"L\xf2gging \xccn...","Log in with":"L\xf2g in with {{name}}"}');JSON.parse('{"navigationBar":{"Ground Control":"课程管理","Dashboard":"仪表板","Sourcereel":"源代码卷轴","Team Formation":"团队组建","Grading":"评分","Game Simulator":"游戏模拟器","Admin Panel":"管理面板","Stories":"故事","Sourcecast":"源代码广播","Playground":"游乐场","SICP JS":"SICP JS","Achievements":"成就","Quests":"任务","Paths":"路径","Contests":"比赛","Others":"其他"},"dropdown":{"My Courses":"我的课程","Create Course":"创建课程","Logout":"登出","Settings":"设置","About":"关于","Help":"帮助"}}'),JSON.parse('{"gradingCsv":{"assessmentNumber":"评估编号","assessmentName":"评估名称","studentName":"学生姓名","studentUsername":"学生用户名","group":"组别","progress":"进度","questionCount":"问题数量","questionsGraded":"已评分问题","initialXp":"初始经验值","xpAdjustment":"经验值调整","currentXpExclBonus":"当前经验值（不含奖励）","maxXp":"最大经验值","bonusXp":"奖励经验值"}}'),JSON.parse('{"Logging In":"登录中...","Log in with":"使用 {{name}} 登录"}'),JSON.parse('{"noTestcases":"此问题没有提供测试用例。","noResults":"没有结果可显示。","testcases":"测试用例","results":"自动评分结果","tooltip":{"clickTestcase":"点击下面的每个测试用例以使用编辑器中的程序执行它。","executeAll":"要一次性执行所有测试用例，请在此选项卡处于活动状态时评估编辑器中的程序。","backgroundInfo":"绿色或红色背景分别表示测试用例通过或失败。","privateTestcases":"私有测试用例（仅在评分时对工作人员可见）具有灰色背景。"},"headers":{"testcase":"测试用例","expected":"预期结果","actual":"实际结果","sn":"序号","status":"测试用例状态"}}'),JSON.parse('{"noEntries":"未找到符合条件的比赛排行榜条目。","titles":{"score":"得分排行榜","popularVote":"人气投票排行榜","default":"比赛排行榜"},"tooltips":{"score":"查看得分最高的比赛条目！","popularVote":"查看最受欢迎的比赛条目！","default":"查看评分最高的比赛条目！"},"headers":{"studentName":"学生姓名","rank":"排名","score":{"calculated":"计算得分","popularity":"人气得分","default":"指标"}}}'),JSON.parse('{"noEntries":"未找到符合条件的投票条目。","title":"比赛投票","tooltip":"从 D（最差）到 S（最佳）为您最喜欢的比赛条目排名！"}'),JSON.parse('{"maxStepsExceeded":"超出最大步骤数。","increaseStepLimit":"如果您希望查看进一步的评估，请增加步骤限制。","csecDescription":"CSEC 机器生成控制、存储、环境和类模型图，这些图基于<0>《计算机程序的构造和解释，JavaScript 版》第 3 章第 2 节</0>中介绍的符号。","javaCsec":"您已选择子语言 <0>Java CSEC</0>。","cseDescription":"CSE 机器生成控制、存储和环境模型图，这些图基于<0>《计算机程序的构造和解释，JavaScript 版》第 3 章第 2 节</0>中介绍的符号。","instructions":"在此选项卡上，REPL 将被隐藏，因此请确保您的代码在运行前没有错误。您可以通过运行程序，然后拖动上方的滑块来查看程序评估过程中不同阶段的控制、存储和环境状态。点击快进按钮（双箭头）将跳到程序中的下一个断点。","shortcutsTitle":"一些有用的键盘快捷键：","shortcuts":{"a":"a: 移动到第一步","e":"e: 移动到最后一步","f":"f: 移动到下一步","b":"b: 移动到上一步"},"shortcutsNote":"请注意，这些快捷键仅在浏览器焦点位于此选项卡时有效。","label":"CSE 机器"}'),JSON.parse('{"defaultText":"数据可视化工具帮助您可视化数据结构。","instructions":"通过调用函数 <0/> 激活，其中 <1/> 是您想要可视化的 <2/> 数据结构，<3/> 是结构的数量。","reference":"数据可视化工具使用框图和指针图，这些图基于<0>《计算机程序的构造和解释，JavaScript 版》第 2 章第 2 节</0>中介绍的符号。","label":"数据可视化工具","previous":"上一个","next":"下一个"}'),JSON.parse('{"takePicture":"拍照","reset":"重置"}'),JSON.parse('{"title":"HTML 显示","label":"HTML 显示"}'),JSON.parse('{"timeout":"[超时] 提交的测试用例超出时间限制。","syntax":"[语法] 第 {{line}} 行：{{errorExplanation}}","runtime":"[运行时] 第 {{line}} 行：{{errorExplanation}}","systemError":"[系统] {{errorMessage}}","unknown":"[未知] 自动评分器错误：类型 {{errorType}}"}'),JSON.parse('{"name":"姓名","role":"角色"}'),JSON.parse('{"welcome":"欢迎来到步骤器！","instructions":"在此标签页中，REPL 将被隐藏，因此请确保您的代码在运行步骤器之前没有错误。您可以通过在左侧编写程序，然后拖动上方的滑块来查看其评估过程。","evaluationSteps":"在偶数步骤中，将要评估的程序部分会以黄色突出显示。在奇数步骤中，评估结果会以绿色突出显示。您可以在控制栏中更改最大步骤限制（500-5000，默认值为1000）。","shortcutsTitle":"一些有用的键盘快捷键：","shortcuts":{"a":"a: 跳到第一步","e":"e: 跳到最后一步","f":"f: 跳到下一步","b":"b: 跳到上一步"},"shortcutsNote":"请注意，这些快捷键仅在浏览器焦点位于此标签页时有效（点击说明文字或其上方区域）。"}'),JSON.parse('{"description":"通过上传类文件绕过编译器和类型检查器，在 JVM 中运行。","acceptedFiles":"仅接受 .class 文件。当此选项卡处于活动状态时，编辑器中的代码将被忽略。","compileCommand":"使用以下命令编译文件：","javacCommand":"javac *.java -target 8 -source 8","warning":"避免运行从未知来源下载的类文件。","mainClass":"主类必须命名为 Main 并作为 Main.class 上传。","chooseFiles":"选择文件...","filesUploaded":"文件已上传。","label":"上传文件"}'),JSON.parse('{"sourcecast":{"titleDescription":"标题：{{title}}\\n描述：{{description}}","introduction":"欢迎来到 Sourcecast！"}}'),JSON.parse('{"sourceRecorder":{"deleteTitle":"删除 Sourcecast","deleteConfirmation":"您确定要删除此 Sourcecast 条目吗？","confirmDelete":"确认删除","cancel":"取消"}}'),JSON.parse('{"stories":{"deleteConfirmation":"您确定要删除此故事吗？","delete":"删除","allStories":"所有故事"}}'),JSON.parse('{"welcome":{"title":"欢迎来到 {{sourceAcademyDeploymentName}}","loggedInMessage":"您已登录为 <0>{{name}}</0>。{{sourceAcademyDeploymentName}} 没有此账户的课程信息","enrollmentMessage":"如果您已注册课程，请联系课程团队，确保您的账户已加入课程。","resourcesForLearners":"点击<0>这里</0>寻找适合您的课程。","resourcesForEducators":"点击<0>这里</0>查看入门资源列表。"}}');var w=((i={}).ENGLISH="en",i.CHINESE="zh",i.PSEUDO="pseudo",i.DEFAULT="en",i);let S={...{en:{name:"English",...A}}}},47932:function(e,t,a){"use strict";let i;var s,n=a(74848);a(91138);var r=a(92607),o=a(79642),l=a(17913),d=a(5338),c=a(83509),u=a(15145),h=a(41397);let p=!!("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then(e=>{setInterval(()=>{try{e.update()}catch{}},3e5),e.onupdatefound=()=>{let a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}var g=a(32112),y=a(97426);let f=[y.Iws,y.Q90,y.H18,y.tkg,y.n76,y.nSw,y.Sko,y.x6L,y.ZyC,y.$I9,y.I95,y.ihh];var b=a(88670),x=a(14169),v=a(51405),T=a(43571),A=a(96540),w=a(94894),S=a(53991),C=a(64907),I=a(66314),E=a(53978),_=a.n(E),j=a(2543),k=a(81720),N=a(6726),P=a(703),R=a(18122);let L=({request:e,params:t})=>{let a=`/courses/${t.courseId}`,{enableOverallLeaderboard:i,enableContestLeaderboard:s}=g.M.getState().session;if(!i&&!s)return(0,w.V2)(a+"/not_found");let n=new URL(e.url).pathname;return RegExp(`^${a}/leaderboard/?$`).test(n)?i?(0,w.HC)(a+"/leaderboard/overall"):(0,w.HC)(a+"/leaderboard/contests"):null},M=({request:e,params:t})=>{let a=`/courses/${t.courseId}`,{enableContestLeaderboard:i}=g.M.getState().session;if(!i)return(0,w.V2)(a+"/not_found");let s=g.M.getState().leaderboard.contests.find(e=>e.published);return s?t.contestId?["score","popularvote"].includes(t.leaderboardType)?null:(0,w.V2)(a+"/not_found"):(0,w.HC)(`${a}/leaderboard/contests/${s.contest_id}/score`):(0,w.V2)(a+"/not_found")},O="not_found",D=()=>Promise.all([a.e("28270"),a.e("37854"),a.e("48540"),a.e("9318"),a.e("26286")]).then(a.bind(a,12450)),U=()=>Promise.all([a.e("24525"),a.e("22293")]).then(a.bind(a,82356)),F=()=>Promise.all([a.e("28270"),a.e("37854"),a.e("48540"),a.e("9318"),a.e("12061"),a.e("20313")]).then(a.bind(a,36403)),G=()=>Promise.all([a.e("48365"),a.e("3530")]).then(a.bind(a,20844)),z=()=>a.e("92136").then(a.bind(a,74907)),B=()=>a.e("69661").then(a.bind(a,14732)),H=()=>a.e("84362").then(a.bind(a,95633)),V=(0,j.memoize)((e=[])=>e?.reduce((e,t)=>(e[(0,N.zS)(t.type)]=t,e),{})),J=()=>Promise.all([a.e("82661"),a.e("56687"),a.e("40932")]).then(a.bind(a,77263)),Y=[{path:`grading/${P.IE}`,lazy:()=>Promise.all([a.e("28270"),a.e("28539"),a.e("48540"),a.e("85647")]).then(a.bind(a,49761))},{path:"sourcereel",lazy:()=>Promise.all([a.e("28270"),a.e("48540"),a.e("12061"),a.e("106")]).then(a.bind(a,18358))},{path:"gamesimulator",lazy:()=>Promise.all([a.e("48365"),a.e("58688"),a.e("24525"),a.e("53734")]).then(a.bind(a,71300))},{path:"teamformation",lazy:()=>Promise.all([a.e("82661"),a.e("39523"),a.e("87055"),a.e("56261")]).then(a.bind(a,45284))},{path:"teamformation/create",lazy:J},{path:`teamformation/edit/${P.fv}`,lazy:J},{path:"teamformation/import",lazy:()=>Promise.all([a.e("82661"),a.e("56687"),a.e("56525"),a.e("63")]).then(a.bind(a,3874))},{path:"dashboard",lazy:()=>a.e("47679").then(a.bind(a,64098))}].map(e=>new R.M(e).check(e=>{let t=e.session.role;return t===k.Xh.Staff||t===k.Xh.Admin},O).build()),W=[{path:"groundcontrol",lazy:()=>Promise.all([a.e("82661"),a.e("48365"),a.e("39523"),a.e("74277"),a.e("84922")]).then(a.bind(a,17752))},{path:"adminpanel",lazy:()=>Promise.all([a.e("37259"),a.e("82579")]).then(a.bind(a,42846))}].map(e=>new R.M(e).check(e=>e.session.role===k.Xh.Admin,O).build());var X=a(38783),$=a(13971),Z=a(64088),q=a(82378);let Q=()=>{let e=(0,c.wA)(),{isLoggedIn:t,name:a,courseId:i}=(0,Z.wV)(),[s,r]=(0,A.useState)(!0);(0,A.useEffect)(()=>{u.A.useBackend&&(0,$.le)().then(e=>r(!!e))},[]);let o=(0,A.useMemo)(()=>[new R.M({path:"game",lazy:U}).check(e=>!!e.session.enableGame,O).build(),{path:"",loader:()=>(()=>{let{role:e,enableGame:t,assessmentConfigurations:a}=g.M.getState().session;return t?(0,w.V2)("game"):a&&a.length>0?(0,w.V2)(`${(0,N.zS)(a[0].type)}`):e===k.Xh.Admin?(0,w.V2)("adminpanel"):null})()||(0,w.HC)(O)},{path:`:assessmentConfigType/${P.Kh}`,lazy:D,loader:({params:e})=>{let{assessmentConfigurations:t}=g.M.getState().session,a=V(t),i=e.assessmentConfigType;for(let e of Object.keys(a))if(i==e)return a[e];return(0,w.V2)(O)}},{path:"sourcecast/:sourcecastId?",lazy:F},{path:"achievements/*",lazy:G},{path:"leaderboard",loader:L,children:[{path:"overall",lazy:z},{path:"contests/:contestId?/:leaderboardType",loader:M,lazy:B}]},{path:"*",lazy:H},...Y,...W],[]),l=(0,A.useMemo)(()=>{let s=u.A.playgroundOnly?X.hK:(0,X.zG)({name:a,isLoggedIn:t,courseId:i,academyRoutes:o}),n=x.R4(w.Ys)(s);return e((0,q.C9)(n)),n},[a,t,i,o,e]);return s?(0,n.jsx)(w.pg,{router:l}):(0,n.jsx)("div",{className:_()("NoPage",S.DARK),children:(0,n.jsx)(C.I,{icon:I.W.WRENCH,title:"Under maintenance",description:"The Source Academy is currently undergoing maintenance. Please try again later."})})};var K=a(98876);(()=>{if(!u.A.sentryDsn)return;b.T({dsn:u.A.sentryDsn,environment:u.A.sourceAcademyEnvironment,release:`cadet-frontend@${u.A.sourceAcademyVersion}`,integrations:[x.k_({useEffect:A.useEffect,useLocation:w.zy,useNavigationType:w.wQ,createRoutesFromChildren:w.AV,matchRoutes:w.ue}),v.w()]});let e=g.M.getState().session.userId;T.gV(void 0!==e?{id:e.toString()}:null)})(),i=[...f],y.syG.registerModules(i);let ee=document.getElementById("root"),et=(0,d.createRoot)(ee);if(window.__REDUX_STORE__=g.M,console.log(`%cSource Academy ${u.A.sourceAcademyEnvironment}-${u.A.sourceAcademyVersion}; Please visit https://github.com/source-academy/frontend/issues to report bugs or issues.`,"font-weight: bold;"),(0,l.setModulesStaticURL)(u.A.moduleBackendUrl),console.log(`Using module backend: ${u.A.moduleBackendUrl}`),(0,K.x)(g.M).catch(e=>console.error(e)).finally(()=>{et.render((0,n.jsx)(c.Kq,{store:g.M,children:(0,n.jsx)(r.T,{children:(0,n.jsx)(Q,{})})}))}),s={onUpdate:e=>{(0,h.JB)((0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"A new version of Source Academy is available.\xa0"}),(0,n.jsx)(o.$,{onClick:()=>{e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()},children:"Refresh now"})]}),0)}},"serviceWorker"in navigator&&new URL("https://sourceacademy.org",window.location.href).origin===window.location.origin&&window.addEventListener("load",()=>{var e,t;let a="https://sourceacademy.org/service-worker.js";p?(e=a,t=s,fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{let i=a.headers.get("content-type");404===a.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):m(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")}),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):m(a,s)}),u.A.cadetLoggerUrl){let e=()=>{var e;(e=g.M.getState().session.accessToken)&&navigator.serviceWorker.controller?.postMessage({type:"SYNC_LOGS",accessToken:e})};navigator.serviceWorker.ready.then(()=>{setInterval(e,u.A.cadetLoggerInterval)})}},29031:function(e,t,a){"use strict";a.d(t,{$g:()=>v,Qg:()=>y,mj:()=>f,k8:()=>x,KC:()=>b});var i=a(74848),s=a(28761),n=a(66314),r=a(53978),o=a.n(r);a(96540),a(88462);var l=a(7203);let d={Application__main:"Application__main-qDhROG",applicationMain:"Application__main-qDhROG",WorkspaceParent:"WorkspaceParent-AHBBWy",workspaceParent:"WorkspaceParent-AHBBWy","bp6-tag":"bp6-tag-mD3oav",bp6Tag:"bp6-tag-mD3oav",badge:"badge-OZnZvE","bp6-overlay":"bp6-overlay-Wf8EHf",bp6Overlay:"bp6-overlay-Wf8EHf","bp6-popover-content":"bp6-popover-content-XTZje_",bp6PopoverContent:"bp6-popover-content-XTZje_","badge-tag":"badge-tag-KolUio",badgeTag:"badge-tag-KolUio","grading-badge":"grading-badge-rWaFN0",gradingBadge:"grading-badge-rWaFN0","grading-badge-xs":"grading-badge-xs-GQ9V0O",gradingBadgeXs:"grading-badge-xs-GQ9V0O","grading-badge-sm":"grading-badge-sm-DhlO2P",gradingBadgeSm:"grading-badge-sm-DhlO2P","grading-badge-md":"grading-badge-md-hzYpjO",gradingBadgeMd:"grading-badge-md-hzYpjO","grading-badge-lg":"grading-badge-lg-r3Vztc",gradingBadgeLg:"grading-badge-lg-r3Vztc","grading-badge-xl":"grading-badge-xl-CVohiG",gradingBadgeXl:"grading-badge-xl-CVohiG","grading-badge-text":"grading-badge-text-KuPykd",gradingBadgeText:"grading-badge-text-KuPykd"},c=e=>(0,i.jsxs)("div",{className:o()(d["grading-badge"],d[`grading-badge-${e.size??"sm"}`]),style:{color:e.color?.[1]??"#000000",backgroundColor:e.color?e.color[0]+"40":""},children:[e.icon,(0,i.jsx)("span",{className:d["grading-badge-text"],children:e.text})]}),u=["#f87171","#b91c1c"],h=["#9ca3af","#374151"],p=Object.freeze({missions:["#818cf8","#4f46e5"],quests:["#6ee7b7","#059669"],paths:["#7dd3fc","#0284c7"],autograded:["#c084fc","#7e22ce"],not_attempted:h,attempting:u,attempted:u,submitted:["#fde047","#ca8a04"],graded:["#4ade80","#15803d"],published:["#93c5fd","#2563eb"]}),m=Object.freeze({missions:"indigo",quests:"emerald",paths:"sky",autograded:"purple",not_attempted:"gray",attempting:"red",attempted:"red",submitted:"yellow",graded:"green",published:"blue"});function g(e){return p[e.toLowerCase()]||h}function y(e){return m[e.toLowerCase()]||"gray"}let f=({type:e,size:t="sm"})=>(0,i.jsx)(c,{text:"xs"===t?e.charAt(0).toUpperCase():e,size:t,color:g(e)}),b=({filter:e,onRemove:t,filtersName:a})=>(0,i.jsx)("button",{type:"button",className:l.A["grading-overview-filterable-btns"],onClick:()=>t(e),style:{marginLeft:"5px"},children:(0,i.jsx)(c,{text:a,icon:(0,i.jsx)(s.I,{icon:n.W.CROSS,style:{marginRight:"0.25rem"}}),color:g(e)})}),x=({filter:e,onRemove:t})=>{let a=e.value;return a=a.charAt(0).toUpperCase()+a.slice(1),(0,i.jsx)("button",{type:"button",className:l.A["grading-overview-filterable-btns"],onClick:()=>t(e),style:{marginLeft:"5px"},children:(0,i.jsx)(c,{text:a,icon:(0,i.jsx)(s.I,{icon:n.W.CROSS,style:{marginRight:"0.25rem"}}),color:g(a)})})},v=({progress:e})=>{let t=e.charAt(0).toUpperCase()+e.slice(1),a=(0,i.jsx)(s.I,{icon:"autograded"===e?n.W.AIRPLANE:"published"===e?n.W.ENDORSED:"graded"===e?n.W.TICK:"submitted"===e?n.W.TIME:n.W.DISABLE,style:{marginRight:"0.5rem"}});return(0,i.jsx)(c,{text:t,color:g(e),icon:a})}},7146:function(e,t,a){"use strict";a.d(t,{IP:()=>O,Ay:()=>G,Rb:()=>M});var i,s=a(74848),n=a(28761),r=a(79642),o=a(58270),l=a(35537),d=a(66314),c=a(97426),u=a(22083),h=a(53978),p=a.n(h),m=a(2543),g=a(96540),y=a(83509),f=a(94894);a(88462);var b=a(51566),x=a(51062),v=a(64088),T=a(96830),A=((i={}).assessmentName="Name",i.assessmentType="Type",i.studentName="Student(s)",i.studentUsername="Username(s)",i.groupName="Group",i.progressStatus="Progress",i.xp="Raw XP (+Bonus)",i.actionsIndex="Actions",i),w=a(74971),S=a(7203);let C=e=>{let[t,a]=(0,g.useState)("sort"),i=(0,v.N4)(e=>e.workspaces.grading.allColsSortStates);return(0,g.useEffect)(()=>{i.sortBy!==e.column.getColId()&&a("sort")},[i,e.column]),(0,s.jsxs)(b.A,{className:p()(e.eGridHeader.classList,S.A["grading-table-header-individual"]),children:[(0,s.jsx)("span",{className:"ag-header-cell-text",children:e.displayName}),!e.disabledSortCols.includes(e.column.getColId())&&(0,s.jsx)("div",{className:p()(S.A["grading-table-col-icons"],"grading-table-sort-cols"),onClick:()=>void(a(e=>M(e)),e.updateSortState(e.column.getColId(),M(t))),children:(0,s.jsx)(n.I,{icon:t})}),(0,s.jsx)("div",{className:p()(S.A["grading-table-col-icons"],"grading-table-hide-cols"),onClick:()=>e.hideColumn(e.column.getColId()),children:(0,s.jsx)(n.I,{icon:"eye-off"})})]})};var I=a(29031);let E=({filters:e,onFilterRemove:t,filtersName:a})=>(0,s.jsx)("div",{children:e.map((e,i)=>(0,s.jsx)(I.KC,{filter:e,filtersName:a[i],onRemove:t},e))}),_=({filters:e,onFilterRemove:t})=>(0,s.jsx)(b.A,{justifyContent:"flex-start",style:{maxWidth:"max(800px, 70vw)",marginRight:"10px"},children:e.map(e=>(0,s.jsx)(I.k8,{filter:e,onRemove:t},e.id))});var j=a(92473),k=a(54348),N=a(39572),P=a(69096);let R=({submissionId:e,style:t,progress:a,filterMode:i})=>{let o=(0,y.wA)(),{courseId:l}=(0,v.wV)(),c=async()=>{await (0,P.cu)({contents:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Reautograde this submission?"}),(0,s.jsx)("p",{children:"Note: all manual adjustments will be reset to 0."})]}),positiveIntent:"danger",positiveLabel:"Reautograde"})&&o(N.A.reautogradeSubmission(e))},u=async()=>{await (0,P.cu)({contents:"Are you sure you want to unsubmit?",positiveIntent:"danger",positiveLabel:"Unsubmit"})&&o(N.A.unsubmitSubmission(e))},h=async()=>{await (0,P.cu)({contents:"Publish this assessment's grading?",positiveIntent:"primary",positiveLabel:"Publish"})&&o(N.A.publishGrading(e))},p=async()=>{await (0,P.cu)({contents:"Unpublish this assessment's grading?",positiveIntent:"primary",positiveLabel:"Unpublish"})&&o(N.A.unpublishGrading(e))},m="graded"===a,g="submitted"===a;return(0,s.jsxs)(b.A,{justifyContent:"flex-start",className:"grading-actions-btn-wrappers",style:{columnGap:"5px",...t},children:[i&&(0,s.jsx)(f.N_,{to:`/courses/${l}/grading/${e}`,children:(0,s.jsx)(b.A,{alignItems:"center",className:"grading-action-icons grading-action-icons-bg",children:(0,s.jsx)(j.m,{position:k.yX.TOP,content:"Grade",children:(0,s.jsx)(n.I,{icon:d.W.EDIT})})})}),(m||g)&&(0,s.jsx)(r.$,{className:"grading-action-icons",minimal:!0,style:{padding:0},onClick:c,children:(0,s.jsx)(j.m,{position:k.yX.TOP,content:"Reautograde",children:(0,s.jsx)(n.I,{icon:d.W.REFRESH})})}),(m||g)&&(0,s.jsx)(r.$,{className:"grading-action-icons",minimal:!0,style:{padding:0},onClick:u,children:(0,s.jsx)(j.m,{position:k.yX.TOP,content:"Unsubmit",children:(0,s.jsx)(n.I,{icon:d.W.UNDO})})}),m&&(0,s.jsx)(r.$,{className:"grading-action-icons",minimal:!0,onClick:h,children:(0,s.jsx)(j.m,{position:k.yX.TOP,content:"Publish",children:(0,s.jsx)(n.I,{icon:d.W.SEND_TO_GRAPH})})}),"published"===a&&(0,s.jsx)(r.$,{className:"grading-action-icons",minimal:!0,onClick:p,children:(0,s.jsx)(j.m,{position:k.yX.TOP,content:"Unpublish",children:(0,s.jsx)(n.I,{icon:d.W.EXCLUDE_ROW})})})]})},L=({value:e,children:t,filterMode:a})=>(0,s.jsx)("button",{type:"button",className:S.A[a?"grading-overview-filterable-btns":"grading-overview-unfilterable-btns"],children:t||e},e),M=e=>{switch(e){case"sort":return"sort-asc";case"sort-asc":return"sort-desc";case"sort-desc":return"sort"}},O={assessmentName:"sort",assessmentType:"sort",studentName:"sort",studentUsername:"sort",groupName:"sort",progressStatus:"sort",xp:"sort",actionsIndex:"sort"},D=["actionsIndex"],U=["xp","actionsIndex"],F=["actionsIndex"],G=({showAllSubmissions:e,totalRows:t,pageSize:a,submissions:i,updateEntries:h})=>{let j=(0,y.wA)(),k=(0,f.Zp)(),N=(0,v.N4)(e=>e.workspaces.grading.submissionsTableFilters),P=(0,v.N4)(e=>e.workspaces.grading.columnVisiblity),M=(0,v.N4)(e=>e.workspaces.grading.requestCounter),G=(0,v.N4)(e=>e.session.courseId),z=(0,g.useRef)(null),[B,H]=(0,g.useState)(0),[V,J]=(0,g.useState)(""),[Y,W]=(0,g.useState)(""),[X,$]=(0,g.useState)([...N.columnFilters]),[Z,q]=(0,g.useState)([]),[Q,K]=(0,g.useState)(P||[]),[ee,et]=(0,g.useState)([]),[ea,ei]=(0,g.useState)(),[es,en]=(0,g.useState)(!1),er=(0,g.useMemo)(()=>M>0,[M]),eo=(0,g.useMemo)(()=>Math.ceil(t/a)-1,[t,a]),el=(0,g.useCallback)(()=>H(0),[H]),ed={customComponents:{agColumnHeader:C},defaultColDefs:{filter:!1,floatingFilter:!0,resizable:!0,sortable:!0,headerComponentParams:{hideColumn:e=>ep(e),updateSortState:(e,t)=>{if(!F.includes(e)){let a={...O};a[e]=t,j(T.A.updateAllColsSortStates({currentState:a,sortBy:e}))}},disabledSortCols:F}},headerHeight:48,overlayLoadingTemplate:'<div class="grading-loading-icon"></div>',overlayNoRowsTemplate:"Hmm... we didn't find any submissions, you might want to debug your filter() function.",pageSize:a,pagination:!0,rowClass:p()(S.A["grading-left-align"],S.A["grading-table-rows"]),rowHeight:60,suppressMenuHide:!0,suppressPaginationPanel:!0,suppressRowClickSelection:!0,tableMargins:"1rem 0 0 0"},ec=(0,g.useMemo)(()=>(0,m.debounce)(e=>{el(),W(e)},300),[el]),eu=(0,g.useMemo)(()=>(0,m.debounce)(q,300),[]),eh=(0,g.useMemo)(()=>{let e=[{id:"assessmentName",value:Y},...X,...Z].map(w.FJ),t={};return e.forEach(e=>{Object.keys(e).forEach(a=>{t[a]=e[a]})}),t},[Z,X,Y]),ep=e=>{K(t=>[...t,e])};(0,g.useEffect)(()=>{if(!e&&X.reduce((e,t)=>e||"progressStatus"===t.id&&"graded"!==String(t.value).toLowerCase()&&"submitted"!==String(t.value).toLowerCase(),!1)){$(e=>e.filter(e=>"progressStatus"!==e.id)),el();return}j(T.A.updateSubmissionsTableFilters({columnFilters:X}))},[X,e,j,el]),(0,g.useEffect)(()=>{j(T.A.updateGradingColumnVisibility(Q)),z.current?.api&&z.current.api.setColumnsVisible(Q,!1)},[Q,j]),(0,g.useEffect)(()=>{el()},[h,el]),(0,g.useEffect)(()=>{h(B,eh)},[h,B,eh]),(0,g.useEffect)(()=>{if(z.current?.api){let e=[];i.reduce((t,a,i)=>{let s={assessmentName:a.assessmentName,assessmentType:a.assessmentType,studentName:a.studentName?a.studentName:a.studentNames?a.studentNames.join(", "):"",studentUsername:a.studentUsername?a.studentUsername:a.studentUsernames?a.studentUsernames.join(", "):"",groupName:a.groupName,progressStatus:a.progress,xp:a.currentXp+" (+"+a.xpBonus+") / "+a.maxXp,actionsIndex:a.submissionId,courseID:G};return e.push(s),t&&s.actionsIndex===ee?.[i]?.actionsIndex&&s.studentUsername===ee?.[i]?.studentUsername&&s.groupName===ee?.[i]?.groupName&&s.progressStatus===ee?.[i]?.progressStatus&&s.xp===ee?.[i]?.xp},i.length===ee?.length)||et(e),z.current.api.hideOverlay(),0===e.length&&M<=0&&z.current.api.showNoRowsOverlay()}},[M,i,G,z.current?.api]);let em=(0,g.useMemo)(()=>{let e,t;return e=[],t={suppressMovable:!0,cellClass:p()(S.A["grading-def-cell"],S.A["grading-def-cell-pointer"]),headerClass:S.A["grading-default-headers"],flex:1},e.push({...t,headerName:A.assessmentName,field:"assessmentName",flex:3,cellClass:p()(t.cellClass,S.A["grading-cell-align-left"]),headerClass:p()(t.headerClass,S.A["grading-left-align"]),cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.assessmentName,filterMode:es}}:void 0}),e.push({...t,headerName:A.assessmentType,field:"assessmentType",cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.assessmentType,children:[(0,s.jsx)(I.mj,{type:e.data.assessmentType})],filterMode:es}}:void 0}),e.push({...t,headerName:A.studentName,field:"studentName",filter:!0,flex:1.5,cellClass:p()(t.cellClass,S.A["grading-cell-align-left"]),headerClass:p()(t.headerClass,S.A["grading-left-align"]),cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.studentName,filterMode:es}}:void 0}),e.push({...t,headerName:A.studentUsername,field:"studentUsername",filter:!0,cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.studentUsername,filterMode:es}}:void 0}),e.push({...t,headerName:A.groupName,field:"groupName",filter:!0,flex:.75,cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.groupName,filterMode:es}}:void 0}),e.push({...t,headerName:A.progressStatus,field:"progressStatus",cellRendererSelector:e=>void 0!==e.data?{component:L,params:{value:e.data.progressStatus,children:[(0,s.jsx)(I.$g,{progress:e.data.progressStatus})],filterMode:es}}:void 0}),e.push({...t,headerName:A.xp,field:"xp",cellClass:p()(t.cellClass,S.A["grading-xp-cell"],es?S.A["grading-def-cell-selectable"]:S.A["grading-def-cell-pointer"])}),e.push({...t,headerName:A.actionsIndex,field:"actionsIndex",flex:1.4,headerClass:p()(t.headerClass,S.A["grading-left-align"]),cellRendererSelector:e=>void 0!==e.data?{component:R,params:{submissionId:e.data.actionsIndex,progress:e.data.progressStatus,filterMode:es}}:void 0}),e},[es]);return(0,g.useEffect)(()=>{ei(em)},[el,em]),(0,s.jsxs)(s.Fragment,{children:[Q.length>0?(0,s.jsx)(b.A,{justifyContent:"space-between",alignItems:"center",style:{marginTop:"0.5rem"},children:(0,s.jsxs)(b.A,{children:[(0,s.jsx)(x.A,{isSecondaryText:!0,children:"Columns Hidden:"}),(0,s.jsx)(E,{filters:Q,filtersName:Q.map(e=>A[e]),onFilterRemove:e=>{z.current?.api&&(K(t=>t.filter(t=>t!==e)),z.current.api.setColumnsVisible([e],!0))}})]})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsxs)(b.A,{justifyContent:"space-between",alignItems:"center",style:{marginTop:"0.5rem"},children:[(0,s.jsxs)(b.A,{alignItems:"center",children:[(0,s.jsxs)(b.A,{style:{alignItems:"center",height:"1.75rem",width:"100%"},children:[(0,s.jsx)(n.I,{icon:d.W.FILTER_LIST}),(0,s.jsx)(x.A,{isSecondaryText:!0,style:{marginLeft:"7.5px"},children:X.length>0?"Filters: ":!0===es?"No filters applied. Click on any cell to filter by its value."+(0===Q.length?" Click on any column header's eye icon to hide it.":""):(0,s.jsx)("strong",{children:"Disable Grading Mode to enable click to filter"})})]}),(0,s.jsx)(_,{filters:X,onFilterRemove:({id:e,value:t})=>{$(X.filter(a=>a.id!==e&&a.value!==t)),el()}})]}),(0,s.jsx)(r.$,{minimal:!0,className:p()(S.A["grading-filter-btn"],es&&S.A["grading-filter-btn-on"]),onClick:e=>en(e=>!e),children:es?"Filter Mode":"Grading Mode"}),(0,s.jsx)(o.M,{className:"grading-search-input",placeholder:"Search by assessment name",leftIcon:"search",large:!0,value:V,onChange:e=>{J(e.target.value),ec(e.target.value)}})]}),(0,s.jsx)("div",{style:{margin:ed.tableMargins},children:(0,s.jsx)(u.W6,{theme:c.zl0,columnDefs:ea,onCellClicked:e=>{let t=e.colDef.field?e.colDef.field:"";if(es||D.includes(t)){if(es&&!U.includes(t)){if(null===e.data[t]||""===e.data[t])return;(({id:e,value:t})=>{$(a=>a.reduce((a,i)=>a||i.id===e&&i.value===t,!1)?[...a]:[...a,{id:e,value:t}]),el()})({id:t,value:e.data[t]})}}else k(`/courses/${G}/grading/${e.data.actionsIndex}`)},ref:z,rowData:ee,components:ed.customComponents,defaultColDef:ed.defaultColDefs,headerHeight:ed.headerHeight,loading:er,overlayLoadingTemplate:ed.overlayLoadingTemplate,overlayNoRowsTemplate:ed.overlayNoRowsTemplate,pagination:ed.pagination,paginationPageSize:ed.pageSize,rowClass:ed.rowClass,rowHeight:ed.rowHeight,suppressMenuHide:ed.suppressMenuHide,suppressPaginationPanel:ed.suppressPaginationPanel,rowSelection:{mode:"singleRow",enableClickSelection:!ed.suppressRowClickSelection},domLayout:"autoHeight",onFilterChanged:e=>{if(!e.afterFloatingFilter)return;let t=e.api.getFilterModel(),a=[];for(let[e,{filter:i}]of Object.entries(t))switch(e){case"studentName":case"studentUsername":case"groupName":a.push({id:e,value:i})}eu(a)}})}),(0,s.jsxs)(b.A,{justifyContent:"center",className:"grading-table-footer",style:{width:"100%",columnGap:"5px"},children:[(0,s.jsx)(r.$,{small:!0,minimal:!0,icon:d.W.DOUBLE_CHEVRON_LEFT,onClick:()=>H(0),disabled:B<=0||er}),(0,s.jsx)(r.$,{small:!0,minimal:!0,icon:d.W.ARROW_LEFT,onClick:()=>H(B-1),disabled:B<=0||er}),(0,s.jsxs)(l.H6,{style:{margin:"auto 0"},children:["Page ",eo+1===0?0:B+1," of ",eo+1]}),(0,s.jsx)(r.$,{small:!0,minimal:!0,icon:d.W.ARROW_RIGHT,onClick:()=>H(B+1),disabled:B>=eo||er}),(0,s.jsx)(r.$,{small:!0,minimal:!0,icon:d.W.DOUBLE_CHEVRON_RIGHT,onClick:()=>H(eo),disabled:B>=eo||er})]})]})}},32112:function(e,t,a){"use strict";let i,s,n,r,o;a.d(t,{M:()=>a$});var l=a(69099),d=a(94591),c=a(2543),u=a.n(c),h=a(31598),p=a(81720),m=a(82960),g=a(66048),y=a(38585);let f=(0,l.vy)(p.BM,e=>{e.addCase(y.A.saveAchievements,(e,t)=>{e.achievements=t.payload}).addCase(y.A.saveGoals,(e,t)=>{e.goals=t.payload}).addCase(y.A.saveUsers,(e,t)=>{e.users=t.payload}).addCase(y.A.saveUserAssessmentOverviews,(e,t)=>{e.assessmentOverviews=t.payload})});var b=a(9585);let x=(0,l.vy)(p.Ye,e=>{e.addCase(b.jG,(e,t)=>{e.gradingSummary=t.payload})});var v=a(24755),T=a(88663);let A=(0,l.vy)(p.js,e=>{e.addCase(T.A.setLanguages,(e,t)=>{e.languages=t.payload.languages,e.languageMap=Object.fromEntries((0,v.I4)(t.payload.languages))}).addCase(T.A.setSelectedLanguage,(e,t)=>{e.selectedLanguageId=t.payload.languageId}).addCase(T.A.setSelectedEvaluator,(e,t)=>{e.selectedEvaluatorId=t.payload.evaluatorId})});var w=a(96602),S=a(51706);let C=(0,l.vy)(p.QR,e=>{e.addCase(S.A.setPlugins,(e,t)=>{e.plugins=t.payload.plugins,e.pluginMap=Object.fromEntries((0,w.d)(t.payload.plugins))})});var I=a(5849);let E=(0,l.vy)(p.Jm,e=>{e.addCase(I.A.saveOverallLeaderboardXP,(e,t)=>{e.paginatedUserXp={rows:t.payload.rows||[],userCount:t.payload.userCount||0}}).addCase(I.A.saveAllContestScores,(e,t)=>{e.contestScore=t.payload}).addCase(I.A.saveAllContestPopularVotes,(e,t)=>{e.contestPopularVote=t.payload}).addCase(I.A.saveCode,(e,t)=>{e.code=t.payload}).addCase(I.A.clearCode,(e,t)=>{e.code=""}).addCase(I.A.saveContests,(e,t)=>{e.contests=t.payload}).addCase(I.A.setWorkspaceInitialRun,(e,t)=>{e.initialRun[t.payload]=!0}).addCase(I.A.resetWorkspaceInitialRun,(e,t)=>{e.initialRun[t.payload]=!1})});var _=a(18509);let j=(0,l.vy)(p.T_,e=>{e.addCase(_.UQ,(e,t)=>{e.queryString=t.payload}).addCase(_.$8,(e,t)=>{e.shortURL=t.payload}).addCase(_.F$,(e,t)=>{e.githubSaveInfo=t.payload}).addCase(_.SD,(e,t)=>{e.persistenceFile=t.payload}).addCase(_.yO,(e,t)=>{e.languageConfig=t.payload})});var k=a(82378),N=a(60921),P=a(71609);let R=e=>e.payload?.env??P.Kf,L=(0,l.vy)(p.Pu,e=>{e.addCase(N.A.addStoryEnv,(e,t)=>{let a=R(t);e.envs[a]=(0,p.Qm)(t.payload.env,t.payload.chapter,t.payload.variant)}).addCase(N.A.clearStoryEnv,(e,t)=>{if(t.payload.env){let{chapter:a,variant:i}=e.envs[t.payload.env].context;e.envs[t.payload.env]=(0,p.Qm)(t.payload.env,a,i)}else e.envs={}}).addCase(N.A.evalStory,(e,t)=>{let a=R(t);e.envs[a].isRunning=!0}).addCase(N.A.evalStoryError,(e,t)=>{let a,i=R(t),s=e.envs[i].output.slice(-1)[0];a=void 0!==s&&"running"===s.type?e.envs[i].output.slice(0,-1).concat({type:t.payload.type,errors:t.payload.errors,consoleLogs:s.consoleLogs}):e.envs[i].output.concat({type:t.payload.type,errors:t.payload.errors,consoleLogs:[]}),e.envs[i].output=a,e.envs[i].isRunning=!1}).addCase(N.A.evalStorySuccess,(e,t)=>{let a,i=R(t),s={type:t.payload.type,value:t.payload.value},n=e.envs[i].output.slice(-1)[0];a=void 0!==n&&"running"===n.type?e.envs[i].output.slice(0,-1).concat({consoleLogs:n.consoleLogs,...s}):e.envs[i].output.concat({consoleLogs:[],...s}),e.envs[i].output=a,e.envs[i].isRunning=!1}).addCase(N.A.handleStoriesConsoleLog,(e,t)=>{let a,i=R(t),s=e.envs[i].output.slice(-1)[0];if(void 0===s||"running"!==s.type)a=e.envs[i].output.concat({type:"running",consoleLogs:[...t.payload.logString]});else{let n={type:s.type,consoleLogs:s.consoleLogs.concat(t.payload.logString)};(a=e.envs[i].output.slice(0,-1)).push(n)}e.envs[i].output=a}).addCase(N.A.notifyStoriesEvaluated,(e,t)=>{let a=R(t),i=e.envs[a].debuggerContext;i.result=t.payload.result,i.lastDebuggerResult=t.payload.lastDebuggerResult,i.code=t.payload.code,i.context=t.payload.context,i.workspaceLocation="stories"}).addCase(N.A.toggleStoriesUsingSubst,(e,t)=>{let a=R(t);e.envs[a].usingSubst=t.payload.usingSubst}).addCase(N.A.updateStoriesList,(e,t)=>{e.storyList=t.payload}).addCase(N.A.setCurrentStoryId,(e,t)=>{e.currentStoryId=t.payload}).addCase(N.A.setCurrentStory,(e,t)=>{e.currentStory=t.payload}).addCase(N.A.clearStoriesUserAndGroup,e=>{e.userId=void 0,e.userName=void 0,e.groupId=void 0,e.groupName=void 0,e.role=void 0}).addCase(N.A.setCurrentStoriesUser,(e,t)=>{e.userName=t.payload.name,e.userId=t.payload.id}).addCase(N.A.setCurrentStoriesGroup,(e,t)=>{e.groupId=t.payload.id,e.groupName=t.payload.name,e.role=t.payload.role}).addCase(k.je,()=>p.Pu)});var M=a(29924);let O=(0,l.vy)(p.tu,e=>{e.addCase(M.setInBrowserFileSystem,(e,t)=>{e.inBrowserFileSystem=t.payload.inBrowserFileSystem})});var D=a(97210),U=a(27849),F=a(75209),G=a(35459);let z=(0,l.vy)(p.Kn.sourcecast,e=>{e.addCase(F.c,(e,t)=>{e.title=t.payload.title,e.description=t.payload.description,e.uid=t.payload.uid,e.audioUrl=t.payload.audioUrl,e.playbackData=(0,d.h4)(t.payload.playbackData)}).addCase(F.Yz,(e,t)=>{e.currentPlayerTime=t.payload.playerTime}).addCase(F.ie,(e,t)=>{e.codeDeltasToApply=(0,d.h4)(t.payload.deltas)}).addCase(F.eS,(e,t)=>{e.inputToApply=(0,d.h4)(t.payload.inputToApply)}).addCase(F.Hr,(e,t)=>{e.title=t.payload.title,e.description=t.payload.description,e.uid=t.payload.uid,e.audioUrl=t.payload.audioUrl,e.playbackData=(0,d.h4)(t.payload.playbackData)}).addCase(F.PX,(e,t)=>{e.playbackDuration=t.payload.duration}).addCase(F.PI,(e,t)=>{e.playbackStatus=t.payload.playbackStatus}).addCase(G.Iq,(e,t)=>{e.sourcecastIndex=t.payload.index})});var B=a(2113);let H=(0,l.vy)(p.Kn.sourcereel,e=>{e.addCase(B.A.recordInit,(e,t)=>{e.playbackData.init=t.payload.initData,e.playbackData.inputs=[]}).addCase(B.A.recordInput,(e,t)=>{e.playbackData.inputs.push((0,d.h4)(t.payload.input))}).addCase(B.A.resetInputs,(e,t)=>{e.playbackData.inputs=(0,d.h4)(t.payload.inputs)}).addCase(B.A.timerPause,(e,t)=>{e.recordingStatus="paused",e.timeElapsedBeforePause+=t.payload.timeNow-e.timeResumed}).addCase(B.A.timerReset,(e,t)=>{e.recordingStatus="notStarted",e.timeElapsedBeforePause=0,e.timeResumed=0}).addCase(B.A.timerResume,(e,t)=>{e.recordingStatus="recording",e.timeElapsedBeforePause=t.payload.timeBefore>=0?t.payload.timeBefore:e.timeElapsedBeforePause,e.timeResumed=t.payload.timeNow}).addCase(B.A.timerStart,(e,t)=>{e.recordingStatus="recording",e.timeElapsedBeforePause=0,e.timeResumed=t.payload.timeNow}).addCase(B.A.timerStop,(e,t)=>{e.recordingStatus="finished",e.timeElapsedBeforePause=0,e.timeResumed=0})});var V=a(82134),J=a(23574),Y=a(33972),W=a(96830);let X=(e,t,a)=>e!==t?null===e||e<t?e:e-1:0===a?null:0===t?0:t-1;var $=a(15145);let Z=e=>e.payload?e.payload.workspaceLocation:"assessment",q=(0,l.vy)(p.Kn,e=>{e.addCase(W.A.setFolderMode,(e,t)=>{e[Z(t)].isFolderModeEnabled=t.payload.isFolderModeEnabled}).addCase(W.A.updateActiveEditorTabIndex,(e,t)=>{let a=Z(t),i=t.payload.activeEditorTabIndex;if(null!==i){if(i<0)throw Error("Active editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Active editor tab index must have a corresponding editor tab!")}e[a].activeEditorTabIndex=i}).addCase(W.A.updateActiveEditorTab,(e,t)=>{let a=Z(t),{activeEditorTabOptions:i}=t.payload,s=e[a].activeEditorTabIndex;if(null===s)return;let n=[...e[a].editorTabs];n[s]={...n[s],...i},e[a].editorTabs=n}).addCase(W.A.updateEditorValue,(e,t)=>{let a=Z(t),{editorTabIndex:i,newEditorValue:s}=t.payload;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");e[a].editorTabs[i].value=s}).addCase(W.A.setEditorBreakpoint,(e,t)=>{let a=Z(t),{editorTabIndex:i,newBreakpoints:s}=t.payload;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");e[a].editorTabs[i].breakpoints=s}).addCase(W.A.setEditorHighlightedLines,(e,t)=>{let a=Z(t),{editorTabIndex:i,newHighlightedLines:s}=t.payload;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");e[a].editorTabs[i].highlightedLines=s}).addCase(W.A.setEditorHighlightedLinesControl,(e,t)=>{let a=Z(t),{editorTabIndex:i,newHighlightedLines:s}=t.payload;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");e[a].editorTabs[i].highlightedLines=s}).addCase(W.A.moveCursor,(e,t)=>{let a=Z(t),{editorTabIndex:i,newCursorPosition:s}=t.payload;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");e[a].editorTabs[i].newCursorPosition=s}).addCase(W.A.addEditorTab,(e,t)=>{let a=Z(t),{filePath:i,editorValue:s}=t.payload,n=e[a].editorTabs,r=n.findIndex(e=>e.filePath===i);if(-1!==r){e[a].activeEditorTabIndex=r;return}n.push({filePath:i,value:s,highlightedLines:[],breakpoints:[]});let o=n.length-1;e[a].activeEditorTabIndex=o}).addCase(W.A.shiftEditorTab,(e,t)=>{let a=Z(t),{previousEditorTabIndex:i,newEditorTabIndex:s}=t.payload;if(i<0)throw Error("Previous editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Previous editor tab index must have a corresponding editor tab!");if(s<0)throw Error("New editor tab index must be non-negative!");if(s>=e[a].editorTabs.length)throw Error("New editor tab index must have a corresponding editor tab!");let n=e[a].activeEditorTabIndex===i?s:e[a].activeEditorTabIndex,r=e[a].editorTabs,o=r[i],l=r.filter((e,t)=>t!==i),d=[...l.slice(0,s),o,...l.slice(s)];e[a].activeEditorTabIndex=n,e[a].editorTabs=d}).addCase(W.A.removeEditorTab,(e,t)=>{let a=Z(t),i=t.payload.editorTabIndex;if(i<0)throw Error("Editor tab index must be non-negative!");if(i>=e[a].editorTabs.length)throw Error("Editor tab index must have a corresponding editor tab!");let s=e[a].editorTabs.filter((e,t)=>t!==i),n=X(e[a].activeEditorTabIndex,i,s.length);e[a].activeEditorTabIndex=n,e[a].editorTabs=s}).addCase(W.A.removeEditorTabForFile,(e,t)=>{let a=Z(t),i=t.payload.removedFilePath,s=e[a].editorTabs,n=s.findIndex(e=>e.filePath===i);if(-1===n)return;let r=s.filter((e,t)=>t!==n),o=X(e[a].activeEditorTabIndex,n,r.length);e[a].activeEditorTabIndex=o,e[a].editorTabs=r}).addCase(W.A.removeEditorTabsForDirectory,(e,t)=>{let a=Z(t),i=t.payload.removedDirectoryPath,s=e[a].editorTabs,n=s.map((e,t)=>e.filePath?.startsWith(i)?t:null).filter(e=>null!==e);if(0===n.length)return;let r=e[a].activeEditorTabIndex,o=[...s];for(let e=n.length-1;e>=0;e--){let t=n[e];o.splice(t,1),r=X(r,t,o.length)}e[a].activeEditorTabIndex=r,e[a].editorTabs=o}).addCase(W.A.renameEditorTabForFile,(e,t)=>{let a=Z(t),{oldFilePath:i,newFilePath:s}=t.payload,n=e[a].editorTabs.find(({filePath:e})=>e===i);n&&(n.filePath=s)}).addCase(W.A.renameEditorTabsForDirectory,(e,t)=>{let a=Z(t),{oldDirectoryPath:i,newDirectoryPath:s}=t.payload,n=e[a].editorTabs.map(e=>e.filePath?.startsWith(i)?{...e,filePath:e.filePath?.replace(i,s)}:e);e[a].editorTabs=n}),e.addCase(W.A.changeStepLimit,(e,t)=>{e[Z(t)].stepLimit=t.payload.stepLimit}).addCase(W.A.toggleUsingSubst,(e,t)=>{let{workspaceLocation:a}=t.payload;("playground"===a||"sicp"===a)&&(e[a].usingSubst=t.payload.usingSubst)}).addCase(W.A.toggleUsingCse,(e,t)=>{let{workspaceLocation:a}=t.payload;("playground"===a||"sicp"===a)&&(e[a].usingCse=t.payload.usingCse)}).addCase(W.A.toggleUpdateCse,(e,t)=>{let{workspaceLocation:a}=t.payload;("playground"===a||"sicp"===a)&&(e[a].updateCse=t.payload.updateCse)}).addCase(W.A.updateCurrentStep,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],currentStep:t.payload.steps}}}).addCase(W.A.updateStepsTotal,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],stepsTotal:t.payload.steps}}}).addCase(W.A.updateBreakpointSteps,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],breakpointSteps:t.payload.breakpointSteps}}}).addCase(W.A.updateChangePointSteps,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],changepointSteps:t.payload.changepointSteps}}}),e.addCase(W.A.browseReplHistoryDown,(e,t)=>{let a=Z(t);if(null===e[a].replHistory.browseIndex)return;if(0!==e[a].replHistory.browseIndex){let t=e[a].replHistory.browseIndex-1,i=e[a].replHistory.records[t];e[a].replValue=i,e[a].replHistory.browseIndex=t;return}let i=e[a].replHistory.originalValue,s=e[a].replHistory.records.slice();e[a].replValue=i,e[a].replHistory={browseIndex:null,records:s,originalValue:""}}).addCase(W.A.browseReplHistoryUp,(e,t)=>{let a=Z(t),i=e[a].replHistory.records,s=e[a].replHistory.browseIndex;if(0===i.length||null!==s&&void 0===i[s+1])return;if(null===s){let t=i.slice(),s=e[a].replValue,n=t[0];e[a].replValue=n,e[a].replHistory={browseIndex:0,records:t,originalValue:s};return}let n=s+1,r=i[n];e[a].replValue=r,e[a].replHistory.browseIndex=n}).addCase(W.A.clearReplInput,(e,t)=>{e[Z(t)].replValue=""}).addCase(W.A.clearReplOutputLast,(e,t)=>{e[Z(t)].output.pop()}).addCase(W.A.clearReplOutput,(e,t)=>{e[Z(t)].output=[]}).addCase(W.A.sendReplInputToOutput,(e,t)=>{let a,i=Z(t),s=e[i].output.concat(t.payload);(a=""!==t.payload.value?[t.payload.value].concat(e[i].replHistory.records):e[i].replHistory.records).length>$.A.maxBrowseIndex&&a.pop(),e[i].output=s,e[i].replHistory.records=a}).addCase(W.A.evalRepl,(e,t)=>{e[Z(t)].isRunning=!0}).addCase(W.A.updateReplValue,(e,t)=>{e[Z(t)].replValue=t.payload.newReplValue}),e.addCase(V.A.debuggerReset,(e,t)=>{let a=Z(t);e[a].isRunning=!1,e[a].isDebugging=!1}).addCase(V.A.debuggerResume,(e,t)=>{let a=Z(t);e[a].isRunning=!0,e[a].isDebugging=!1}).addCase(V.A.endDebuggerPause,(e,t)=>{let a=Z(t);e[a].isRunning=!1,e[a].isDebugging=!0}),e.addCase(W.A.setTokenCount,(e,t)=>{e[Z(t)].tokenCount=t.payload.tokenCount}).addCase(W.A.changeExecTime,(e,t)=>{e[Z(t)].execTime=t.payload.execTime}).addCase(W.A.endClearContext,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],context:(0,Y.q6)(t.payload.library.chapter,t.payload.library.external.symbols,a,t.payload.library.variant),globals:t.payload.library.globals,externalLibrary:t.payload.library.external.name}}}).addCase(W.A.changeExternalLibrary,(e,t)=>{e[Z(t)].externalLibrary=t.payload.newExternal}).addCase(V.A.handleConsoleLog,(e,t)=>{let a,i=Z(t),s=e[i].output[e[i].output.length-1];if(void 0===s||"running"!==s.type)a=e[i].output.concat({type:"running",consoleLogs:[...t.payload.logString]});else{let n={type:s.type,consoleLogs:s.consoleLogs.concat(t.payload.logString)};(a=e[i].output.slice(0,-1)).push(n)}e[i].output=a}).addCase(k.je,(e,t)=>{let a=e.playground;return(0,d.h4)({...p.Kn,playground:a})}).addCase(W.A.enableTokenCounter,(e,t)=>{e[Z(t)].hasTokenCounter=!0}).addCase(W.A.disableTokenCounter,(e,t)=>{e[Z(t)].hasTokenCounter=!1}).addCase(W.A.evalEditor,(e,t)=>{let a=Z(t);e[a].isRunning=!0,e[a].isDebugging=!1}).addCase(V.A.evalInterpreterSuccess,(e,t)=>{let a,i=Z(t),s=e[i].tokenCount,n={type:t.payload.type,value:t.payload.value},r=e[i].output.slice(-1)[0];if(void 0!==r&&"running"===r.type){let t={consoleLogs:r.consoleLogs,...n},o=[];e[i].hasTokenCounter&&o.push({consoleLog:`This program has ${s} tokens.`,type:"notification"});let l=e[i].customNotification;""!==l&&o.push({consoleLog:l,type:"notification"}),a=e[i].output.slice(0,-1).concat([...o,t])}else a=e[i].output.concat({consoleLogs:[],...n});e[i].output=a,e[i].isRunning=!1}).addCase(V.A.evalTestcaseSuccess,(e,t)=>{let a=Z(t),i=e[a].editorTestcases[t.payload.index];i.result=t.payload.value,i.errors=void 0,e[a].isRunning=!1}).addCase(V.A.evalTestcaseFailure,(e,t)=>{let a=e[Z(t)].editorTestcases[t.payload.index];a.result=void 0,a.errors=t.payload.value}).addCase(V.A.evalInterpreterError,(e,t)=>{let a,i=Z(t),s=e[i].output.slice(-1)[0];a=void 0!==s&&"running"===s.type?e[i].output.slice(0,-1).concat({type:t.payload.type,errors:t.payload.errors,consoleLogs:s.consoleLogs}):e[i].output.concat({type:t.payload.type,errors:t.payload.errors,consoleLogs:[]}),e[i].output=a,e[i].isRunning=!1,e[i].isDebugging=!1}).addCase(V.A.endInterruptExecution,(e,t)=>{let a=Z(t);e[a].isRunning=!1,e[a].isDebugging=!1}).addCase(W.A.resetTestcase,(e,t)=>{let a=e[Z(t)].editorTestcases[t.payload.index];a.result=void 0,a.errors=void 0}).addCase(W.A.resetWorkspace,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],...(0,p.pb)(a),...t.payload.workspaceOptions}}}).addCase(W.A.updateWorkspace,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],...t.payload.workspaceOptions}}}).addCase(W.A.increaseRequestCounter,e=>{e.grading.requestCounter+=1}).addCase(W.A.decreaseRequestCounter,e=>{e.grading.requestCounter=Math.max(0,e.grading.requestCounter-1)}).addCase(J.LG,(e,t)=>{e[Z(t)].editorSessionId=t.payload.editorSessionId}).addCase(W.A.setGradingHasLoadedBefore,(e,t)=>{e.grading.hasLoadedBefore=t.payload}).addCase(J.$Z,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],sessionDetails:{...e[a].sessionDetails,...t.payload.sessionDetails}}}}).addCase(W.A.setIsEditorReadonly,(e,t)=>{e[Z(t)].isEditorReadonly=t.payload.isEditorReadonly}).addCase(J.PU,(e,t)=>{e[Z(t)].sharedbConnected=t.payload.connected}).addCase(W.A.toggleEditorAutorun,(e,t)=>{let a=Z(t);e[a].isEditorAutorun=!e[a].isEditorAutorun}).addCase(W.A.updateSubmissionsTableFilters,(e,t)=>{e.grading.submissionsTableFilters=t.payload.filters}).addCase(W.A.updateAllColsSortStates,(e,t)=>{e.grading.allColsSortStates=t.payload.sortStates}).addCase(W.A.updateCurrentAssessmentId,(e,t)=>{e.assessment.currentAssessment=t.payload.assessmentId,e.assessment.currentQuestion=t.payload.questionId}).addCase(W.A.updateCurrentSubmissionId,(e,t)=>{e.grading.currentSubmission=t.payload.submissionId,e.grading.currentQuestion=t.payload.questionId}).addCase(W.A.updateHasUnsavedChanges,(e,t)=>{let a=Z(t);return{...e,[a]:{...e[a],hasUnsavedChanges:t.payload.hasUnsavedChanges}}}).addCase(W.A.updateSublanguage,(e,t)=>{let{chapter:a,variant:i}=t.payload.sublang;e.playground.context.chapter=a,e.playground.context.variant=i}).addCase(W.A.notifyProgramEvaluated,(e,t)=>{let a=e[Z(t)].debuggerContext;a.result=t.payload.result,a.lastDebuggerResult=t.payload.lastDebuggerResult,a.code=t.payload.code,a.context=t.payload.context,a.workspaceLocation=t.payload.workspaceLocation}).addCase(W.A.toggleUsingUpload,(e,t)=>{let{workspaceLocation:a}=t.payload;("playground"===a||"sicp"===a)&&(e[a].usingUpload=t.payload.usingUpload)}).addCase(W.A.uploadFiles,(e,t)=>{let a=Z(t);("playground"===a||"sicp"===a)&&(e[a].files=t.payload.files)}).addCase(W.A.updateLastDebuggerResult,(e,t)=>{e[Z(t)].lastDebuggerResult=t.payload.lastDebuggerResult}).addCase(J.UW,(e,t)=>{e[Z(t)].updateUserRoleCallback=t.payload.updateUserRoleCallback})}),Q=(0,l.vy)(p.pL,e=>{e.addCase(k.C9,(e,t)=>t.payload)});var K=a(54097),ee=a(39572);let et=(0,l.vy)(p.O9,e=>{e.addCase(k.je,()=>p.O9).addCase(ee.A.setGitHubOctokitObject,(e,t)=>{e.githubOctokitObject={octokit:t.payload}}).addCase(ee.A.setGitHubAccessToken,(e,t)=>{e.githubAccessToken=t.payload}).addCase(ee.A.setGoogleUser,(e,t)=>{e.googleUser=t.payload}).addCase(ee.A.setTokens,(e,t)=>({...e,...t.payload})).addCase(ee.A.setUser,(e,t)=>({...e,...t.payload})).addCase(ee.A.setCourseConfiguration,(e,t)=>({...e,...t.payload})).addCase(ee.A.setCourseRegistration,(e,t)=>({...e,...t.payload})).addCase(ee.A.setAssessmentConfigurations,(e,t)=>{e.assessmentConfigurations=t.payload}).addCase(ee.A.setAdminPanelCourseRegistrations,(e,t)=>{e.userCourseRegistrations=t.payload}).addCase(ee.A.updateAssessment,(e,t)=>{e.assessments[t.payload.id]=t.payload}).addCase(ee.A.updateAssessmentOverviews,(e,t)=>{e.assessmentOverviews=t.payload}).addCase(ee.A.updateTotalXp,(e,t)=>{e.xp=t.payload}).addCase(ee.A.updateGrading,(e,t)=>{e.gradings[t.payload.submissionId]=t.payload.grading}).addCase(ee.A.updateGradingOverviews,(e,t)=>{e.gradingOverviews=t.payload}).addCase(ee.A.updateNotifications,(e,t)=>{e.notifications=t.payload}).addCase(ee.A.updateStudents,(e,t)=>{e.students=t.payload}).addCase(ee.A.updateTeamFormationOverviews,(e,t)=>{e.teamFormationOverviews=t.payload}).addCase(ee.A.updateTeamFormationOverview,(e,t)=>{e.teamFormationOverview=t.payload}).addCase(K.A.remoteExecUpdateDevices,(e,t)=>{e.remoteExecutionDevices=t.payload}).addCase(K.A.remoteExecUpdateSession,(e,t)=>{e.remoteExecutionSession=t.payload}).addCase(ee.A.removeGitHubOctokitObjectAndAccessToken,(e,t)=>{e.githubOctokitObject={octokit:void 0},e.githubAccessToken=void 0})});var ea=a(8702);let ei=(0,l.vy)(p.Ko,e=>{e.addCase(ea.A.setVscode,e=>({...e,isVscode:!0}))}),es=(0,m.HY)({router:Q,achievement:f,leaderboard:E,dashboard:x,playground:j,session:(e=p.O9,t)=>e=et(e,t),stories:(e=p.Pu,t)=>e=((e=p.Pu,t)=>t.type===N.A.setAdminPanelStoriesUsers.type?{...e,storiesUsers:t.payload.users}:e)(e=L(e,t),t),workspaces:(e=p.Kn,t)=>{switch(Z(t)){case"sourcecast":{let a=z(e.sourcecast,t);if(a===e.sourcecast)break;return{...e,sourcecast:a}}case"sourcereel":{let a=H(e.sourcereel,t);if(a===e.sourcereel)break;return{...e,sourcereel:a}}}return q(e,t)},featureFlags:g.Qj,fileSystem:O,sideContent:(e=p.HR,t)=>{if(!t.payload?.workspaceLocation)return e;let[a,i]=(0,U.g$)(t.payload.workspaceLocation),s="stories"===a?e.stories[i]:e[a];switch(t.type){case D.k1.type:return"stories"===a?{...e,stories:{...e.stories,[i]:{...e.stories[i],height:t.payload.height}}}:{...e,[a]:{...e[a],height:t.payload.height}};case D.cF.type:if(t.payload.id!==s.selectedTab)return"stories"===a?{...e,stories:{...e.stories,[i]:{...e.stories[i],alerts:[...e.stories[i].alerts,t.payload.id]}}}:{...e,[a]:{...e[a],alerts:[...e[a].alerts,t.payload.id]}};return e;case D.tn.type:return"stories"===a?{...e,stories:{...e.stories,[i]:{...e.stories[i],alerts:e.stories[i].alerts.filter(e=>e!==t.payload.id)}}}:{...e,[a]:{...e[a],alerts:e[a].alerts.filter(e=>e!==t.payload.id)}};case D.SS.type:return"stories"===a?{...e,stories:{...e.stories,[i]:p.sQ}}:{...e,[a]:p.sQ};case D.wH.type:{let n=(0,U.G0)(t.payload.debuggerContext),r=n.map(U.vU).filter(e=>e!==s.selectedTab);return"stories"===a?{...e,stories:{...e.stories,[i]:{...e.stories[i],alerts:r,dynamicTabs:n}}}:{...e,[a]:{...e[a],alerts:r,dynamicTabs:n}}}case D.kz.type:return"stories"===a?{...e,stories:{...e.stories,[i]:{...e.stories[i],alerts:e.stories[i].alerts.filter(e=>e!==t.payload.newId),selectedTab:t.payload.newId}}}:{...e,[a]:{...e[a],alerts:e[a].alerts.filter(e=>e!==t.payload.newId),selectedTab:t.payload.newId}};default:return e}},vscode:(e=p.Ko,t)=>e=ei(e,t),languageDirectory:A,pluginDirectory:C});var en=a(76070);a(88462);var er=a(31465),eo=a(89161),el=a(13971),ed=a(41397),ec=a(40603);let eu=async(...[e,t,a])=>await (0,ec.Em)("",t,a,`${$.A.storiesBackendUrl}${e}`),eh=()=>{let e=a$.getState().stories.groupId;if(e)return`${e}`;throw(0,ed.JB)("Stories not available!",1e3),Error("Stories not available")},ep=async e=>{let t=await eu(`/user?course=${(0,el.xf)()}`,"GET",{...e});return t?await t.json():null},em=async(e,t,a)=>{let i=await eu(`/groups/${eh()}/users/batch`,"POST",{body:{users:t.map(e=>({...e,provider:a}))},...e});return i?((0,ed.uT)("Users added!"),i):((0,ed.JB)("Failed to add users"),null)},eg=async e=>{let t=await eu(`/groups/${eh()}/stories`,"GET",{...e});return t?await t.json():null},ey=async(e,t)=>{let a=await eu(`/groups/${eh()}/stories/${t}`,"GET",{...e});return a?await a.json():null},ef=async(e,t,a,i,s)=>{let n=await eu(`/groups/${eh()}/stories`,"POST",{body:{authorId:t,title:a,content:i,pinOrder:s},...e});return n?((0,ed.uT)("Story created"),await n.json()):((0,ed.JB)("Failed to create story"),null)},eb=async(e,t,a,i,s)=>{let n=await eu(`/groups/${eh()}/stories/${t}`,"PUT",{body:{title:a,content:i,pinOrder:s},...e});return n?((0,ed.uT)("Story saved"),await n.json()):((0,ed.JB)("Failed to save story"),null)},ex=async(e,t)=>{let a=await eu(`/groups/${eh()}/stories/${t}`,"DELETE",{...e});return a?await a.json():null},ev=async e=>{let t=await eu(`/groups/${eh()}/users`,"GET",{...e});return t?await t.json():null},eT=async(e,t,a)=>{let i=await eu(`/groups/${eh()}/users/${t}/role`,"PUT",{...e,body:{role:a}});return i?await i.json():((0,ed.JB)("Failed to update stories user's role"),null)},eA=async(e,t)=>{let a=await eu(`/groups/${eh()}/users/${t}`,"DELETE",{...e});return a?await a.json():((0,ed.JB)("Failed to delete stories user"),null)};var ew=a(86930),eS=a(6047),eC=a(95984),eI=a(40837);function eE(){return(0,en.Lt)(e=>({accessToken:e.session.accessToken,refreshToken:e.session.refreshToken}))}function*e_(e){let t=yield(0,en.Lt)(e=>e.router);return t?.navigate(e)}let ej=(0,ew.zA)({[ee.A.fetchAuth.type]:function*(e){let{code:t,providerId:a}=e.payload,i=yield(0,en.Lt)(e=>e.vscode.isVscode),s=a||((0,eC.xW)()||[null])[0];if(!s)return yield(0,en.T1)(ed.JB,"Could not log in; invalid provider or no providers configured."),yield e_("/");let n=(0,eC.fp)(s),r=(0,eC.K2)(s,i),o=yield(0,en.T1)(el.Lf,t,s,n,r);if(!o)return yield e_("/");yield(0,en.yJ)(eS.o.setTokens(o)),yield(0,en.yJ)(eS.o.fetchUserAndCourse())},[ee.A.handleSamlRedirect.type]:function*(e){let{jwtCookie:t}=e.payload,a=u().mapKeys(JSON.parse(t),(e,t)=>u().camelCase(t));yield(0,en.yJ)(eS.o.setTokens(a)),yield(0,en.yJ)(eS.o.fetchUserAndCourse())},[ee.A.fetchUserAndCourse.type]:function*(e){let t=yield eE(),{user:a,courseRegistration:i,courseConfiguration:s,assessmentConfigurations:n}=yield(0,en.T1)(el.wz,t);a&&(yield(0,en.yJ)(eS.o.setUser(a)),null===s&&a.courses.length>0&&(yield(0,en.yJ)(eS.o.updateLatestViewedCourse(a.courses[0].courseId))),i&&s&&n&&(yield(0,en.yJ)(eS.o.setCourseRegistration(i)),yield(0,en.yJ)(eS.o.setCourseConfiguration(s)),yield(0,en.yJ)(eS.o.setAssessmentConfigurations(n)),s.enableStories?yield(0,en.yJ)(eS.o.getStoriesUser()):yield(0,en.yJ)(eS.o.clearStoriesUserAndGroup())))},[ee.A.fetchCourseConfig.type]:function*(){let e=yield eE(),{config:t}=yield(0,en.T1)(el.IB,e);t&&(yield(0,en.yJ)(eS.o.setCourseConfiguration(t)),t.enableStories?yield(0,en.yJ)(eS.o.getStoriesUser()):yield(0,en.yJ)(eS.o.clearStoriesUserAndGroup()))},[ee.A.fetchAssessmentOverviews.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.Dc,e);t&&(yield(0,en.yJ)(eS.o.updateAssessmentOverviews(t)))},[ee.A.fetchTotalXp.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.Bd,e);t&&(yield(0,en.yJ)(eS.o.updateTotalXp(t.totalXp)))},[ee.A.fetchTotalXpAdmin.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.Bd,t,a);i&&(yield(0,en.yJ)(eS.o.updateTotalXp(i.totalXp)))},[ee.A.fetchAssessment.type]:function*(e){let t=yield eE(),{assessmentId:a,assessmentPassword:i}=e.payload,s=yield(0,en.T1)(el.BY,a,t,void 0,i);s&&(yield(0,en.yJ)(eS.o.updateAssessment(s)))},[ee.A.fetchAssessmentAdmin.type]:function*(e){let t=yield eE(),{assessmentId:a,courseRegId:i}=e.payload,s=yield(0,en.T1)(el.BY,a,t,i);s&&(yield(0,en.yJ)(eS.o.updateAssessment(s)))},[ee.A.submitAnswer.type]:function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.answer,s=yield(0,en.T1)(el.V_,a,i,t);if(!s||!s.ok)return yield(0,el.gQ)(s);yield(0,en.T1)(ed.uT,"Saved!",1e3);let n=yield(0,en.Lt)(e=>e.workspaces.assessment.currentAssessment),r=yield(0,en.Lt)(e=>e.session.assessments[n]),o=r.questions.slice().map(e=>e.id===a?{...e,answer:i}:e),l={...r,questions:o};return yield(0,en.yJ)(eS.o.updateAssessment(l)),yield(0,en.yJ)(eS.o.updateHasUnsavedChanges("assessment",!1))},[ee.A.checkAnswerLastModifiedAt.type]:function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.lastModifiedAt;(0,e.payload.saveAnswer)((yield(0,en.T1)(el.tR,a,i,t)))},[ee.A.submitAssessment.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.rj,a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.T1)(ed.uT,"Submitted!",2e3);let s=(yield(0,en.Lt)(e=>e.session.assessmentOverviews)).map(e=>e.id===a?{...e,status:"submitted"}:e);return yield(0,en.yJ)(eS.o.updateAssessmentOverviews(s))},[ee.A.fetchGradingOverviews.type]:function*(e){let t=yield eE();if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return;let{filterToGroup:a,publishedFilter:i,pageParams:s,filterParams:n,allColsSortStates:r}=e.payload,o={sortBy:r.sortBy,sortDirection:""};Object.entries(r.currentState).forEach(([e,t])=>{r.sortBy===e&&""!==e&&("sort"!==t?o.sortDirection=t:(o.sortBy="",o.sortDirection=""))});let l=yield(0,en.T1)(el.tf,t,a,i,s,n,o);l&&(yield(0,en.yJ)(eS.o.updateGradingOverviews(l)))},[ee.A.fetchTeamFormationOverview.type]:function*(e){let t=yield eE(),{assessmentId:a}=e.payload,i=yield(0,en.T1)(el.KZ,a,t);i&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverview(i)))},[ee.A.fetchTeamFormationOverviews.type]:function*(){let e=yield eE();if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return;let t=yield(0,en.T1)(el.rm,e);t&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews(t)))},[ee.A.fetchStudents.type]:function*(){let e=yield eE();if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return;let t=yield(0,en.T1)(el.nm,e);t&&(yield(0,en.yJ)(eS.o.updateStudents(t)))},[ee.A.createTeam.type]:function*(e){let t=yield eE(),{assessment:a,teams:i}=e.payload,s=yield(0,en.T1)(el.$S,a.id,i,t);if(!s||!s.ok)return yield(0,el.gQ)(s);let n=yield(0,en.T1)(el.rm,t);if(n&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews(n))),yield(0,en.T1)(ed.uT,"Team created successfully",1e3),s&&409===s.status)return yield(0,en.T1)(ed.JB,s.statusText)},[ee.A.bulkUploadTeam.type]:function*(e){let t=yield eE(),{assessment:a,file:i,students:s}=e.payload,n=yield(0,en.T1)(el.iW,a.id,i,s,t);if(!n||!n.ok)return yield(0,el.gQ)(n);let r=yield(0,en.T1)(el.rm,t);yield(0,en.T1)(ed.uT,"Team created successfully",1e3),r&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews(r)))},[ee.A.updateTeam.type]:function*(e){let t=yield eE(),{teamId:a,assessment:i,teams:s}=e.payload,n=yield(0,en.T1)(el.eq,i.id,a,s,t);if(!n||!n.ok)return yield(0,el.gQ)(n);let r=yield(0,en.T1)(el.rm,t);yield(0,en.T1)(ed.uT,"Team updated successfully",1e3),r&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews(r)))},[ee.A.deleteTeam.type]:function*(e){let t=yield eE(),{teamId:a}=e.payload,i=yield(0,en.T1)(el.To,a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=yield(0,en.T1)(el.rm,t);yield(0,en.T1)(ed.uT,"Team deleted successfully",1e3),s&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews(s)))},[ee.A.fetchGrading.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.pG,a,t);i&&(yield(0,en.yJ)(eS.o.updateGrading(a,i)))},[ee.A.unsubmitSubmission.type]:function*(e){let t=yield eE(),{submissionId:a}=e.payload,i=yield(0,el.wh)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=(yield(0,en.Lt)(e=>e.session.gradingOverviews?.data||[])).map(e=>e.submissionId===a?{...e,progress:"attempted"}:e),n=yield(0,en.Lt)(e=>e.session.gradingOverviews?.count);yield(0,en.T1)(ed.uT,"Unsubmit successful",1e3),yield(0,en.yJ)(eS.o.updateGradingOverviews({count:n,data:s}))},[ee.A.publishGrading.type]:function*(e){let t=yield eE(),{submissionId:a}=e.payload,i=yield(0,el.ms)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=(yield(0,en.Lt)(e=>e.session.gradingOverviews?.data||[])).map(e=>e.submissionId===a?{...e,progress:"published"}:e),n=yield(0,en.Lt)(e=>e.session.gradingOverviews?.count);yield(0,en.T1)(ed.uT,"Publish grading successful",1e3),yield(0,en.yJ)(eS.o.updateGradingOverviews({count:n,data:s}))},[ee.A.unpublishGrading.type]:function*(e){let t=yield eE(),{submissionId:a}=e.payload,i=yield(0,el.rW)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=(yield(0,en.Lt)(e=>e.session.gradingOverviews?.data||[])).map(e=>e.submissionId===a?{...e,progress:"graded"}:e),n=yield(0,en.Lt)(e=>e.session.gradingOverviews?.count);yield(0,en.T1)(ed.uT,"Unpublish grading successful",1e3),yield(0,en.yJ)(eS.o.updateGradingOverviews({count:n,data:s}))},[ee.A.submitGrading.type]:ek,[ee.A.submitGradingAndContinue.type]:function*(e){yield*ek(e);let{submissionId:t}=e.payload,[a,i]=yield(0,en.Lt)(e=>[e.workspaces.grading.currentQuestion,e.session.courseId]);yield e_(`/courses/${i}/grading/${t}/${(a||0)+1}`)}});function*ek(e){if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return yield(0,en.T1)(ed.JB,"Only staff can submit answers.");let{submissionId:t,questionId:a,xpAdjustment:i,comments:s}=e.payload,n=yield eE(),r=yield(0,el.JQ)(t,a,i,n,s);if(!r||!r.ok)return yield(0,el.gQ)(r);yield(0,en.T1)(ed.uT,"Submitted!",1e3);let o=yield(0,en.Lt)(e=>e.session.gradings[t]),l=o.answers.slice().map(e=>(e.question.id===a&&(e.grade={xpAdjustment:i,xp:e.grade.xp,comments:s,gradedAt:new Date().toISOString()}),e));yield(0,en.yJ)(eS.o.updateGrading(t,{answers:l,assessment:o.assessment}))}let eN=(0,ew.zA)({[ee.A.reautogradeSubmission.type]:function*(e){let t=e.payload,a=yield eE(),i=yield(0,en.T1)(el.Gc,t,a);yield(0,en.T1)(eR,i)},[ee.A.reautogradeAnswer.type]:function*(e){let{submissionId:t,questionId:a}=e.payload,i=yield eE(),s=yield(0,en.T1)(el.Cd,t,a,i);yield(0,en.T1)(eR,s)},[ee.A.fetchNotifications.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(el.Tr,t);yield(0,en.yJ)(eS.o.updateNotifications(a))},[ee.A.acknowledgeNotifications.type]:function*(e){let t=yield eE(),a=e.payload.withFilter,i=yield(0,en.Lt)(e=>e.session.notifications),s=i;if(a&&(s=a(i)),0===s.length)return;let n=s.map(e=>e.id),r=i.filter(e=>!n.includes(e.id));yield(0,en.yJ)(eS.o.updateNotifications(r));let o=yield(0,en.T1)(el.p3,t,n);if(!o||!o.ok)return yield(0,el.gQ)(o)},[B.A.deleteSourcecastEntry.type]:function*(e){if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return yield(0,en.T1)(ed.JB,"Only staff can delete sourcecasts.");let t=yield eE(),{id:a}=e.payload,i=yield(0,el.aM)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=yield(0,en.T1)(el.Li,t);s&&(yield(0,en.yJ)(eS.o.updateSourcecastIndex(s,e.payload.workspaceLocation))),yield(0,en.T1)(ed.uT,"Deleted successfully!",1e3)},[G.Ay.fetchSourcecastIndex.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(el.Li,t);a&&(yield(0,en.yJ)(eS.o.updateSourcecastIndex(a,e.payload.workspaceLocation)))},[F.Ay.saveSourcecastData.type]:function*(e){let[t,a]=yield(0,en.Lt)(e=>[e.session.role,e.session.courseId]);if(t===p.Xh.Student)return yield(0,en.T1)(ed.JB,"Only staff can save sourcecasts.");let{title:i,description:s,uid:n,audio:r,playbackData:o}=e.payload,l=yield eE(),d=yield(0,el.pE)(i,s,n,r,o,l);if(!d||!d.ok)return yield(0,el.gQ)(d);yield(0,en.T1)(ed.uT,"Saved successfully!",1e3),yield e_(`/courses/${a}/sourcecast`)},[W.A.changeSublanguage.type]:function*(e){let t=yield eE(),{sublang:a}=e.payload,i=yield(0,en.T1)(el.mw,t,{sourceChapter:a.chapter,sourceVariant:a.variant});if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.setCourseConfiguration({sourceChapter:a.chapter,sourceVariant:a.variant})),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)},[ee.A.updateLatestViewedCourse.type]:function*(e){let t=yield eE(),{courseId:a}=e.payload,i=yield(0,en.T1)(el.KK,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);let{courseRegistration:s,courseConfiguration:n,assessmentConfigurations:r}=yield(0,en.T1)(el.nn,t);if(!s||!n||!r)return yield(0,en.T1)(ed.JB,"Failed to load course!"),yield e_("/welcome");yield(0,en.yJ)(eS.o.setCourseConfiguration(n)),yield(0,en.yJ)(eS.o.setAssessmentConfigurations(r)),yield(0,en.yJ)(eS.o.setCourseRegistration(s)),n.enableStories?yield(0,en.yJ)(eS.o.getStoriesUser()):yield(0,en.yJ)(eS.o.clearStoriesUserAndGroup()),yield(0,en.T1)(ed.uT,`Switched to ${n.courseName}!`,5e3)},[ee.A.updateCourseConfig.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.mw,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);a.enableStories?yield(0,en.yJ)(eS.o.getStoriesUser()):yield(0,en.yJ)(eS.o.clearStoriesUserAndGroup()),yield(0,en.yJ)(eS.o.setCourseConfiguration(a)),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)},[ee.A.fetchAssessmentConfigs.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.YF,e);t&&(yield(0,en.yJ)(eS.o.setAssessmentConfigurations(t)))},[ee.A.updateAssessmentConfigs.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.pt,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);let s=yield(0,en.T1)(el.YF,t);s&&(yield(0,en.yJ)(eS.o.setAssessmentConfigurations(s))),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)},[ee.A.deleteAssessmentConfig.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.RM,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i)},[ee.A.fetchAdminPanelCourseRegistrations.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(el.f3,t);a&&(yield(0,en.yJ)(eS.o.setAdminPanelCourseRegistrations(a)))},[er.A.createCourse.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.mt,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);let{user:s,courseRegistration:n,courseConfiguration:r}=yield(0,en.T1)(el.wz,t);if(!s||!n||!r)return yield(0,ed.JB)("An error occurred. Please try again.");yield(0,en.yJ)(eS.o.setUser(s)),yield(0,en.yJ)(eS.o.setCourseRegistration({role:p.Xh.Student})),r.enableStories?yield(0,en.yJ)(eS.o.getStoriesUser()):yield(0,en.yJ)(eS.o.clearStoriesUserAndGroup());let o=yield(0,en.T1)(el.pt,t,[{type:"Missions",assessmentConfigId:-1,isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:0,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:0}],n.courseId);if(!o||!o.ok)return yield(0,el.gQ)(i);yield(0,en.T1)(ed.uT,"Successfully created your new course!"),yield e_(`/courses/${n.courseId}`)},[er.A.addNewUsersToCourse.type]:function*(e){let t=yield eE(),{users:a,provider:i}=e.payload,s=yield(0,en.T1)(el.Gu,t,a,i);if(!s||!s.ok)return yield(0,el.gQ)(s);yield(0,en.yJ)(eS.o.fetchAdminPanelCourseRegistrations()),yield(0,en.T1)(ed.uT,"Users added!")},[er.A.addNewStoriesUsersToCourse.type]:function*(e){let t=yield eE(),{users:a,provider:i}=e.payload;yield(0,en.T1)(em,t,a,i)},[ee.A.updateCourseResearchAgreement.type]:function*(e){let t=yield eE(),{agreedToResearch:a}=e.payload,i=yield(0,en.T1)(el.Mo,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.setCourseRegistration({agreedToResearch:a})),yield(0,en.T1)(ed.uT,"Research preference saved!")},[ee.A.updateUserRole.type]:function*(e){let t=yield eE(),{courseRegId:a,role:i}=e.payload,s=yield(0,en.T1)(el.$B,t,a,i);if(!s||!s.ok)return yield(0,el.gQ)(s);yield(0,en.yJ)(eS.o.fetchAdminPanelCourseRegistrations()),yield(0,en.T1)(ed.uT,"Role updated!")},[ee.A.deleteUserCourseRegistration.type]:function*(e){let t=yield eE(),{courseRegId:a}=e.payload,i=yield(0,en.T1)(el.ul,t,a);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.fetchAdminPanelCourseRegistrations()),yield(0,en.T1)(ed.uT,"User deleted!")}});function*eP(){yield(0,eI.ok)(b.Ay.fetchGroupGradingSummary.type,function*(e){let t=yield eE(),a=yield(0,en.T1)(el.xt,t);a&&(yield(0,en.yJ)(eS.o.updateGroupGradingSummary(a)))}),yield(0,eI.ok)(eo.A.changeDateAssessment.type,function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.closeAt,s=e.payload.openAt,n=yield(0,el.G3)(a,{openAt:s,closeAt:i},t);if(!n||!n.ok)return yield(0,el.gQ)(n);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)}),yield(0,eI.ok)(eo.A.changeTeamSizeAssessment.type,function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.maxTeamSize,s=yield(0,el.G3)(a,{maxTeamSize:i},t);if(!s||!s.ok)return yield(0,el.gQ)(s);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Team size updated successfully!",1e3)}),yield(0,eI.ok)(eo.A.deleteAssessment.type,function*(e){let t=yield eE(),a=e.payload,i=yield(0,el.aG)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Deleted successfully!",1e3)}),yield(0,eI.ok)(eo.A.publishAssessment.type,function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.togglePublishAssessmentTo,s=yield(0,el.G3)(a,{isPublished:i},t);if(!s||!s.ok)return yield(0,el.gQ)(s);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),i?yield(0,en.T1)(ed.uT,"Published successfully!",1e3):yield(0,en.T1)(ed.uT,"Unpublished successfully!",1e3)}),yield(0,eI.ok)(eo.A.uploadAssessment.type,function*(e){let t=yield eE(),{file:a,forceUpdate:i,assessmentConfigId:s}=e.payload,n=yield(0,el.Yq)(a,t,i,s);if(!n||!n.ok)return yield(0,el.gQ)(n);let r=yield n.text();"OK"===r?yield(0,en.T1)(ed.uT,"Uploaded successfully!",2e3):"Force Update OK"===r&&(yield(0,en.T1)(ed.uT,"Assessment force updated successfully!",2e3)),yield(0,en.yJ)(eS.o.fetchAssessmentOverviews())}),yield(0,eI.ok)(eo.A.configureAssessment.type,function*(e){let t=yield eE(),a=e.payload.id,i=e.payload.hasVotingFeatures,s=e.payload.hasTokenCounter,n=yield(0,el.G3)(a,{hasVotingFeatures:i,hasTokenCounter:s},t);if(!n||!n.ok)return yield(0,el.gQ)(n);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)}),yield(0,eI.ok)(eo.A.assignEntriesForVoting.type,function*(e){let t=yield eE(),a=e.payload.id,i=yield(0,el.G3)(a,{assignEntriesForVoting:!0},t);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)}),yield(0,eI.ok)(eo.A.publishGradingAll.type,function*(e){let t=yield eE(),a=e.payload,i=yield(0,el.VZ)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Published all graded submissons successfully!",1e3)}),yield(0,eI.ok)(eo.A.unpublishGradingAll.type,function*(e){let t=yield eE(),a=e.payload,i=yield(0,el.uH)(a,t);if(!i||!i.ok)return yield(0,el.gQ)(i);yield(0,en.yJ)(eS.o.fetchAssessmentOverviews()),yield(0,en.T1)(ed.uT,"Unpublished all submissons successfully!",1e3)})}function*eR(e){return e&&e.ok?yield(0,en.T1)(ed.uT,"Autograde job queued successfully."):e&&400===e.status?yield(0,en.T1)(ed.JB,"Cannot reautograde non-submitted submission."):yield(0,en.T1)(ed.JB,"Failed to queue autograde job.")}let eL=function*(){yield(0,en.Q7)([(0,en.Zy)(ej),(0,en.Zy)(eN),(0,en.Zy)(eP)])};var eM=a(50046),eO=a(23385);let eD=[[{assessmentConfigId:1,type:"Missions",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200},{assessmentConfigId:2,type:"Quests",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200},{assessmentConfigId:3,type:"Paths",isManuallyGraded:!1,isGradingAutoPublished:!0,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200},{assessmentConfigId:4,type:"Contests",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!0,earlySubmissionXp:200},{assessmentConfigId:5,type:"Others",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200}],[{assessmentConfigId:1,type:"Mission Impossible",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200},{assessmentConfigId:2,type:"Data Structures",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200},{assessmentConfigId:3,type:"Algorithm Frenzy",isManuallyGraded:!0,isGradingAutoPublished:!1,displayInDashboard:!0,isMinigame:!1,hoursBeforeEarlyXpDecay:48,hasTokenCounter:!1,hasVotingFeatures:!1,earlySubmissionXp:200}]],eU=[{type:"Missions",isManuallyGraded:!0,closeAt:"2048-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/300/",id:1,isPublished:!1,maxXp:1e3,earlySubmissionXp:0,openAt:"2038-06-18T05:24:26.026Z",title:"An Odessey to Runes (Duplicate)",shortSummary:"This is a test for the UI of the unopened assessment overview. It links to the mock Mission 0",status:"not_attempted",story:"mission-1",xp:0,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Missions",isManuallyGraded:!0,closeAt:"2048-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/300/",id:2,isPublished:!1,maxXp:1e3,earlySubmissionXp:0,openAt:"2018-06-18T05:24:26.026Z",title:"An Odessey to Runes",shortSummary:`
  *Lorem ipsum* dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
  incididunt ut labore et dolore magna aliqua.
  
  \`\`\`
  const a = 5;
  \`\`\`
  
  Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium
  _doloremque laudantium_, totam rem aperiam, eaque ipsa quae ab illo inventore
  [veritatis et quasi architecto](google.com) beatae vitae dicta sunt
  \`explicabo\`.
  
  `,status:"attempted",story:"mission-1",xp:1,isGradingPublished:!1,maxTeamSize:4,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Missions",isManuallyGraded:!0,isPublished:!1,closeAt:"2048-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/?text=World&font=lobster",id:3,maxXp:1e3,earlySubmissionXp:0,openAt:"2018-07-18T05:24:26.026Z",title:"The Secret to Streams",shortSummary:"Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.",status:"attempting",story:"mission-2",xp:2,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Quests",isManuallyGraded:!0,isPublished:!1,closeAt:"2048-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/?text=Hello",id:4,maxXp:1e3,earlySubmissionXp:0,openAt:"2018-07-18T05:24:26.026Z",title:"A sample Sidequest",shortSummary:"Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.",status:"not_attempted",story:"sidequest-2.1",xp:3,isGradingPublished:!1,maxTeamSize:2,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Paths",isManuallyGraded:!0,isPublished:!1,closeAt:"2069-04-20T01:23:45.111Z",coverImage:"https://fakeimg.pl/700x400/417678,64/?text=%E3%83%91%E3%82%B9&font=noto",id:5,maxXp:200,earlySubmissionXp:0,openAt:"2018-01-01T00:00:00.000Z",title:"Basic logic gates",shortSummary:"This mock path serves as a demonstration of the support provided for mock programming path functionality.",status:"not_attempted",story:null,xp:0,isGradingPublished:!1,maxTeamSize:2,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Others",isManuallyGraded:!1,isPublished:!1,closeAt:"2048-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/?text=Hello",id:6,maxXp:1e3,earlySubmissionXp:0,openAt:"2018-07-18T05:24:26.026Z",title:"A sample Practical",shortSummary:"Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.",status:"not_attempted",story:"sidequest-2.1",xp:3,private:!0,maxTeamSize:1,isGradingPublished:!1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Missions",isManuallyGraded:!0,isPublished:!1,closeAt:"2008-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/ff0000/000",id:7,maxXp:1e3,earlySubmissionXp:0,openAt:"2007-07-18T05:24:26.026Z",title:"A closed Mission",shortSummary:"This is a test for the grading status tooltip when the assessment is partially graded (undergoing manual grading). It should render as an orange clock.",status:"submitted",story:"mission-3",xp:800,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Quests",isManuallyGraded:!0,isPublished:!1,closeAt:"2008-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/ff0000,128/000,255",id:8,maxXp:1e3,earlySubmissionXp:0,openAt:"2007-07-18T05:24:26.026Z",title:"Closed (not graded) Sidequest",shortSummary:"This is a test for the grading status tooltip when the assessment is not published. It should render as a yellow waiting clock.",status:"submitted",story:null,xp:500,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Quests",isManuallyGraded:!0,isPublished:!0,closeAt:"2008-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/ff0000,128/000,255",id:9,maxXp:500,earlySubmissionXp:0,openAt:"2007-07-18T05:24:26.026Z",title:"Closed (fully graded) Sidequest",shortSummary:`This is a test for the grading status tooltip when a manually graded assessment is fully graded but not published.
       It should still render as a yellow clock. This sidequest links to the mock Sidequest 4.`,status:"submitted",story:null,xp:150,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0},{type:"Paths",isManuallyGraded:!1,isPublished:!0,closeAt:"2008-06-18T05:24:26.026Z",coverImage:"https://fakeimg.pl/350x200/ff0000/000",id:10,maxXp:0,earlySubmissionXp:0,openAt:"2007-07-18T05:24:26.026Z",title:"Ungraded assessment",shortSummary:"This is a test for the grading status tooltip when the assessment does not require manual grading (e.g. paths and contests) but is unpublished. It should still render as a yellow clock. This sidequest links to the mock Sidequest 4.",status:"submitted",story:null,xp:100,isGradingPublished:!1,maxTeamSize:1,hasVotingFeatures:!1,hoursBeforeEarlyXpDecay:0}],eF={chapter:eM.Chapter.SOURCE_1,external:{name:eO.O.NONE,symbols:[]},globals:[]},eG=[{autogradingResults:[],answer:null,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:`
  This question has an id of \`0\`.
  
  \`\`\`
  What's your favourite dinner food?
  \`\`\`
  `,id:0,library:eF,prepend:`const pizza = "pizza";
  const sushi = "sushi";
  const chickenrice = "chicken rice";`,postpend:"// This is a mock Postpend! You shouldn't be able to see me!",testcases:[{type:"public",program:"answer();",score:1,answer:'"pizza"'},{type:"public",program:"answer();",score:1,answer:'"sushi"'},{type:"public",program:"answer();",score:1,answer:'"chicken rice"'}],solutionTemplate:`function answer() {
      // Write something here!
  }
  `,type:"programming",xp:0,maxXp:2,blocking:!1},{autogradingResults:[],answer:`function areaOfCircle(x) {
      return square(x) * pi;
  }
  
  function volumeOfSphere(x) {
      return 4 / 3 * cube(x) * pi;
  }`,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"Hello and welcome to this assessment! This is the 1st question.",id:1,library:eF,prepend:`const square = x => x * x;
  const cube = x => x * x * x;
  const pi = 3.1415928;`,postpend:"",testcases:[{type:"public",program:"areaOfCircle(5);",score:1,answer:"78.53982"},{type:"public",program:"volumeOfSphere(5);",score:1,answer:"523.5988"}],solutionTemplate:`function areaOfCircle(x) {
      // return area of circle
  }
  
  function volumeOfSphere(x) {
      // return volume of sphere
  }`,type:"programming",xp:0,maxXp:2,blocking:!1},{answer:3,content:"This is the 3rd question. Oddly enough, it is an ungraded MCQ question that uses the binary tree library! Option C has a null hint!",choices:[{content:"**Option** `A`",hint:"_hint_ A is `here`"},{content:"### B",hint:"hint B"},{content:"C",hint:null},{content:"D",hint:"hint D"}],id:2,library:eF,type:"mcq",solution:0,xp:0,maxXp:2,blocking:!1},{answer:3,content:"This is the 4th question. Oddly enough, it is a graded MCQ question that uses the binary tree library!",choices:[{content:"A",hint:null},{content:"B",hint:null},{content:"C",hint:null},{content:"D",hint:null}],id:3,library:eF,type:"mcq",solution:void 0,xp:0,maxXp:2,blocking:!1},{autogradingResults:[],answer:null,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"You have reached the last question! Have some fun with the tone matrix...",id:4,library:eF,prepend:"",postpend:"",testcases:[],solutionTemplate:"5th question mock solution template",type:"programming",xp:0,maxXp:2,blocking:!1}],ez=[{answer:`function fibonacci(n) {
      if (n <= 2) {
          return 1;
      } else {
          return fibonacci(n-1) + fibonacci(n-2);
      }
  }`,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"You can see autograding results!!!",id:0,library:eF,prepend:"",postpend:"// This is a mock Postpend! You shouldn't be able to see me!",testcases:[{type:"public",program:"fibonacci(3);",score:1,answer:"2"},{type:"public",program:"fibonacci(4);",score:1,answer:"3"},{type:"public",program:"fibonacci(5);",score:1,answer:"5"}],solutionTemplate:`function fibonacci(n) {
      // Your answer here
  }`,type:"programming",grader:{name:"avenger",id:1},gradedAt:"2038-06-18T05:24:26.026Z",xp:0,maxXp:2,blocking:!1,comments:`Good job. You are awarded the full marks!
  
  ----
  ## markdown test
  
  # header
  
  **bold**
  
  _italics_
  
  * list
  
  1. numbered list
  
  - [] checkboxes
  
  > quote
  
      code
  
  [link to Source Academy](https://sourceacademy.nus.edu.sg)  
  
  ![](image-url-goes-here)`,autogradingResults:[{resultType:"pass"},{resultType:"fail",expected:"8",actual:"5"},{resultType:"error",errors:[{errorType:"timeout"},{errorType:"syntax",line:1,location:"student",errorLine:"function fibonacci(n) {",errorExplanation:"Just kidding!"}]}]},{answer:`function recurse(rune, n) {
      return n <= 1 ? rune : make_cross(recurse(rune, n - 1));
  }`,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"This is a runes question - there are no testcases nor autograding results.",id:1,library:eF,prepend:"",postpend:"",testcases:[],solutionTemplate:`function recurse(rune, n) {
      // Your answer here
  }`,type:"programming",grader:{name:"some avenger",id:1},gradedAt:"2038-06-18T05:24:26.026Z",xp:0,maxXp:2,blocking:!1,comments:`You open the Report Card, not knowing what to expect...
  
      ## WOW!
      Amazing grasp of runes. We can now move on to the next assignment.
      
      <br/>
      
      Robot Dog: \`woof\`
      
      You look at the display of the robot dog.
      
          FEED ME
      1. Bread
      2. Water
      
      <br/>
      
      * I am hungry.
      * I am thirsty.
      
      <br/>
      <br/>
          
      New message from **Avenger**!
      
      > _Cadet, please meet me at Level X-05, outside the pod bay doors. There is an important mission awaiting us._
      
      > _May the [Source](https://sourceacademy.nus.edu.sg) be with you._
      
      > Best regards, Avocado A. Avenger
      
      #### Upcoming Tasks
      - [] Meet Avenger Avenger at Level X-05
      - [] Open the Pod Bay Doors`,autogradingResults:[]}],eB=[{type:"Missions",id:1,longSummary:"This is the mission briefing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ",missionPDF:"www.google.com",questions:eG,title:"An Odessey to Runes"},{type:"Missions",id:2,longSummary:"This is the mission briefing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ",missionPDF:"www.google.com",questions:eG,title:"The Secret to Streams"},{type:"Quests",id:3,longSummary:`###This is the sidequest briefing.
  
  *Lorem ipsum* dolor sit amet, consectetur adipiscing elit.
  
  > Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin
  enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis
  vestibulum.
  
  - Etiam in egestas dolor.
  - Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum,
    vel ornare metus turpis sed justo.
  - Vivamus at tellus sed ex convallis commodo at in lectus.
  
  \`\`\`
  Pellentesque
  pharetra
  pulvinar
  sapien
  \`\`\``,missionPDF:"www.google.com",questions:eG,title:"A sample Sidequest"},{type:"Missions",id:4,longSummary:"This is the closed mission briefing. The save button should not be there. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ",missionPDF:"www.google.com",questions:ez,title:"A Closed Mission"},{type:"Quests",id:5,longSummary:"This is the closed sidequest briefing. The save button should not exist. This is a placeholder sidequest for testing rendering of grading statuses.",missionPDF:"www.google.com",questions:ez,title:"A Closed Sidequest"},{type:"Paths",id:6,longSummary:`### Basic logic gates
  
  This path is intended to demonstrate concepts from the lecture **Logic Circuits**. You are strongly encouraged to attempt this path to check your understanding, prior to the next Studio session. For this, you will be granted a small amount of XP!
  
  The path comprises 4 questions and is fully autograded and guided, and there are **no private test cases** - there will be no manual review by default. Please consult your Avenger if you require assistance!</TEXT>`,missionPDF:"www.google.com",questions:[{answer:null,content:"As a recap: which of the following is not a valid logic gate?",choices:[{content:"XOR gate",hint:"This is the exclusive-OR gate!"},{content:"IF gate",hint:"Correct!"},{content:"AND gate",hint:"This logic gate exists!"},{content:"OR gate",hint:"This logic gate exists!"}],id:0,library:eF,type:"mcq",solution:1,xp:0,maxXp:0,blocking:!1},{autogradingResults:[],answer:null,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:`An AND gate is a digital logic gate that implements logical conjunction on its inputs. It returns a single output that is HIGH (active) iff all the inputs to the AND gate are HIGH (active).
  
  In this question, let us model an AND gate as a function, and treat HIGH (active) inputs as the boolean value \`true\` and LOW (inactive) inputs as the boolean value \`false\`.
  
  As an AND gate is not restricted to exactly two inputs, our function shall be the same. Implement the function \`AND(inputs)\` which takes in the list \`inputs\` (a list of boolean values), and returns the output of the AND gate as a boolean. You may assume the list \`inputs\` is of minimum length 2.
  
  This question makes use of the sentinel function method to throw custom errors for each testcase.`,id:1,library:eF,prepend:"const OR = (x, y) => x || y;",postpend:`
  const __AND = (xs) => {
    if (AND(list(true, true)) === undefined) {
      error('Your function is empty!');
    } else {}
    
    const result = AND(xs);
  
    if (!is_boolean(result)) {
      error('Your function does not return a boolean!');
    } else {}
    
    if (equal(xs, list(true, false)) && result) {
      error('Check the truth table for an AND gate again!');
    } else if (equal(xs, list(true, true, false)) && result) {
      error('Are you using all inputs in the list?');
    } else if (equal(xs, list(true, true, true)) && !result) {
      error('Are you sure your base case is correct?');
    } else if (AND(list(true, true)) === AND(list(false, false))) {
      error('Oi! Do not hardcode values!');
    } else {
      return result;
    }
  };`,testcases:[{type:"public",program:"__AND(list(true, false));",score:0,answer:"false"},{type:"public",program:"__AND(list(true, true, false));",score:0,answer:"false"},{type:"public",program:"__AND(list(true, OR(true, false), OR(true, true)));",score:0,answer:"true"},{type:"opaque",program:"__AND(list(true, OR(false, true), AND(list(true, false)), false));",score:0,answer:"false"},{type:"opaque",program:"__AND(list(true, OR(true, false), OR(true, AND(list(false, true))), true));",score:0,answer:"true"}],solutionTemplate:`function AND(inputs) {
      // Your answer here!
  }`,type:"programming",xp:0,maxXp:0,blocking:!1},{autogradingResults:[],answer:null,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:`The XOR (exclusive-OR) gate is a digital logic gate that accepts two inputs and returns a single output that is HIGH (active) iff one of the inputs are HIGH (active), but not both.
  
  In this question, let us model the XOR gate as a function. Implement the function \`XOR(x, y)\` which takes two boolean inputs \`x\` and \`y\` and which returns the output of the XOR gate as a boolean.
  
  This question makes use of the wrapping container method to throw custom errors for each testcase.`,id:2,library:eF,prepend:"",postpend:`
  const __XOR = (x, y) => {
    if (XOR(false, false) === undefined) {
      error('Your function is empty!');
    } else {}
    
    const result = XOR(x, y);
  
    if (!is_boolean(result)) {
      error('Your function does not return a boolean!');
    } else {}
    
    if (((x && !y) || (y && !x)) && !result) {
      error('Check your truth tables!');
    } else if (XOR(false, false) === XOR(false, true)) {
      error('Oi! Do not hardcode values!');
    } else {
      return result;
    }
  };`,testcases:[{type:"public",program:"__XOR(true, false);",score:0,answer:"true"},{type:"public",program:"__XOR(false, true);",score:0,answer:"true"},{type:"opaque",program:"__XOR(true, XOR(true, false));",score:0,answer:"false"}],solutionTemplate:`function XOR(x, y) {
      // Your answer here!
  }`,type:"programming",xp:0,maxXp:0,blocking:!1},{autogradingResults:[],answer:null,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:`The NOR logic gate is special in that it is an _universal logic gate_, that is to say, they can be composed to form any other logic gate.
  
  Implement the AND logic gate **using ONLY the NOR logic gate**, as the \`NOR_AND(x, y)\` function that takes in two booleans as input.
  
  The \`NOR\` function modeled after a NOR gate is provided for you - it accepts two boolean values and returns \`true\` iff both inputs are \`false\`.`,id:3,library:eF,prepend:`
  let counter = 0;
  const NOR = (x, y) => {
    counter = counter + 1;
    return !(x || y);
  };`,postpend:`
  const __NOR_AND = (x, y) => {
    if (NOR_AND(false, false) === undefined) {
      error('Your function is empty!');
    } else {}
    
    counter = 0;
    const result = NOR_AND(x, y);
  
    if (!is_boolean(result)) {
      error('Your function does not return a boolean!');
    } else {}
    
    if (!x && y && result) {
      error('Check your truth tables!');
    } else if (x && y && !result && counter > 0) {
      error('Nope! Try again :)');
    } else if (x && y && !result) {
      error('...You did not use NOR and still got it wrong!');
    } else if (x && y && result && counter !== 3) {
      error('Did you use NOR in your solution? >:(');
    } else if (x && !y && counter !== 6) {
      error('Incorrect number of calls.');
    } else {
      return result;
    }
  };`,testcases:[{type:"public",program:"__NOR_AND(false, true);",score:0,answer:"false"},{type:"public",program:"__NOR_AND(true, true);",score:0,answer:"true"},{type:"opaque",program:"__NOR_AND(true, NOR_AND(false, true));",score:0,answer:"false"}],solutionTemplate:`function NOR_AND(x, y) {
      // Your answer here!
  }`,type:"programming",xp:0,maxXp:0,blocking:!1}],title:"A sample guided path"},{type:"Others",id:7,title:"A sample contest voting assessment",longSummary:"Vote for your favourite contest entries here!",missionPDF:"www.google.com",questions:[{id:0,type:"voting",content:"Sample Contest Voting Question",xp:0,maxXp:0,answer:[],prepend:"",postpend:"",contestEntries:[{submission_id:1,answer:{code:"display('voting test')"}},{submission_id:2,answer:{code:"function voting_test() { return true; }"}}],scoreLeaderboard:[{submission_id:1,student_name:"student_1",answer:{code:"display('score_leaderboard test')"}},{submission_id:2,student_name:"student_2",answer:{code:"function score_leaderboard_test() { return true; }"}}],popularVoteLeaderboard:[{submission_id:1,student_name:"student_1",answer:{code:"display('popular_vote_leaderboard test')"}},{submission_id:2,student_name:"student_2",answer:{code:"function popular_vote_leaderboard_test() { return true; }"}}],library:eF,blocking:!1}]}],eH={userId:123,name:"DevAdmin",username:"DevAdmin",courses:[{courseId:1,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Admin,viewable:!0},{courseId:2,courseName:"CS2040S Data Structures and Algorithms (AY20/21 Sem 2)",courseShortName:"CS2040S",role:p.Xh.Admin,viewable:!1},{courseId:3,courseName:"CS2030S Programming Methodology II (AY21/22 Sem 1)",courseShortName:"CS2030S",role:p.Xh.Staff,viewable:!1}]},eV=[{userId:101,name:"Papito Sakolomoto",username:"Papito Sakolomoto",courses:[{courseId:1,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:102,name:"Carina Heng Xin Ting",username:"Carina Heng Xin Ting",courses:[{courseId:2,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:103,name:"Valentino Gusion",username:"Valentino Gusion",courses:[{courseId:3,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:104,name:"Ixia Arlot Rambutan",username:"Ixia Arlot Rambutan",courses:[{courseId:4,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:105,name:"Ariel Shockatia Ligament",username:"Ariel Shockatia Ligament",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:106,name:"Lolita Sim",username:"Lolita Sim",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:107,name:"Lim Jun Ming",username:"Lim Jun Ming",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:108,name:"Tobias Gray",username:"Tobias Gray",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:109,name:"Lenard Toh See Ming",username:"Lenard Toh See Ming",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:110,name:"Richard Gray",username:"Richard Gray",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:111,name:"Benedict Lim",username:"Benedict Lim",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:112,name:"Harshvathini Tharman",username:"Harshvathini Tharman",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:113,name:"James Cook",username:"James Cook",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:114,name:"Mike Chang",username:"Mike Chang",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:115,name:"Giyu Tomioka",username:"Giyu Tomioka",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:116,name:"Oliver Sandy",username:"Oliver Sandy",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]},{userId:117,name:"Muthu Valakrishnan",username:"Muthu Valakrishnan",courses:[{courseId:5,courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",role:p.Xh.Student,viewable:!0}]}],eJ=[{courseRegId:1,role:p.Xh.Admin,group:"1F",gameState:{},courseId:1,xp:0,story:{story:"mission-1",playStory:!0},agreedToResearch:!0},{courseRegId:2,role:p.Xh.Student,group:"1F",gameState:{},courseId:2,xp:0,story:{story:"mission-1",playStory:!0},agreedToResearch:!0}],eY=[{courseRegId:1,courseId:1,name:"DevAdmin",username:"test/admin",role:p.Xh.Admin},{courseRegId:3,courseId:1,name:"Dummy student",username:"test/student",role:p.Xh.Student},{courseRegId:4,courseId:1,name:"Dummy staff",username:"test/staff",role:p.Xh.Staff}],eW=[{courseName:"CS1101S Programming Methodology (AY20/21 Sem 1)",courseShortName:"CS1101S",viewable:!0,enableGame:!1,enableAchievements:!0,enableSourcecast:!0,enableStories:!1,enableOverallLeaderboard:!0,enableContestLeaderboard:!0,topLeaderboardDisplay:100,topContestLeaderboardDisplay:10,sourceChapter:eM.Chapter.SOURCE_1,sourceVariant:eM.Variant.DEFAULT,moduleHelpText:"",assetsPrefix:""},{courseName:"CS2040S Data Structures and Algorithms (AY20/21 Sem 2)",courseShortName:"CS2040S",viewable:!0,enableGame:!1,enableAchievements:!1,enableSourcecast:!1,enableStories:!1,enableOverallLeaderboard:!0,enableContestLeaderboard:!0,topLeaderboardDisplay:100,topContestLeaderboardDisplay:10,sourceChapter:eM.Chapter.SOURCE_2,sourceVariant:eM.Variant.DEFAULT,moduleHelpText:"Help Text!",assetsPrefix:""}],eX=[{id:1,type:"new",assessment_id:6,assessment_type:"Paths",assessment_title:"Basic Logic"},{id:2,type:"new",assessment_id:7,assessment_type:"Missions",assessment_title:"Symphony of the Winds"},{id:3,type:"submitted",submission_id:1,assessment_type:"Missions",assessment_title:"Mission 0"},{id:4,type:"submitted",submission_id:2,assessment_type:"Missions",assessment_title:"Mission 1"},{id:5,type:"submitted",submission_id:3,assessment_type:"Missions",assessment_title:"Mission 0"}],e$=[{xpAdjustment:0,assessmentType:"Missions",assessmentNumber:"M1A",assessmentId:0,assessmentName:"Mission 0 ",currentXp:69,xpBonus:10,initialXp:69,maxXp:100,studentId:0,studentName:"Al Gorithm",studentNames:[],studentUsername:"E0123456",studentUsernames:[],submissionId:1,submissionStatus:"submitted",progress:"published",isGradingPublished:!0,groupName:"1D",questionCount:6,gradedCount:6},{xpAdjustment:-2,assessmentType:"Missions",assessmentNumber:"M2",assessmentId:1,assessmentName:"Mission 1",currentXp:-2,xpBonus:12,initialXp:0,maxXp:400,studentId:0,studentName:"Dee Sign",studentNames:[],studentUsername:"E0000000",studentUsernames:[],submissionId:2,submissionStatus:"submitted",progress:"submitted",isGradingPublished:!1,groupName:"1F",questionCount:6,gradedCount:2},{xpAdjustment:4,assessmentType:"Missions",assessmentNumber:"M3",assessmentId:0,assessmentName:"Mission 0",currentXp:1e3,xpBonus:12,initialXp:996,maxXp:1e3,studentId:1,studentName:"May Trix",studentNames:[],studentUsername:"E0000001",studentUsernames:[],submissionId:3,submissionStatus:"submitted",progress:"graded",isGradingPublished:!1,groupName:"1F",questionCount:0,gradedCount:0}],eZ={answers:[{question:{answer:`function remainder(n, d) {
  return (n - d) < 0 ? n : remainder(n - d, d);
}`,lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:`
Hello and welcome to this assessment! This is the *0th question*.

\`\`\`
>>> import this
\`\`\`
`,prepend:"// THIS IS A PREPEND",postpend:"// THIS IS A POSTPEND",testcases:[{type:"public",program:"remainder(12, 7);",score:1,answer:"5"},{type:"public",program:"remainder(6, 1);",score:2,answer:"0"},{type:"opaque",program:"remainder(-15, 6);",score:2,answer:"-3"},{type:"opaque",program:"remainder(17, 23) === 17;",score:2,answer:"true"}],id:0,library:eF,solutionTemplate:"0th question mock solution template",solution:`This is how the 0th question is solved. [7 points]

function remainder(n, d) {
  return n % d;
}`,type:"programming",maxXp:1e3,grader:{name:"avenger",id:1},gradedAt:"2038-06-18T05:24:26.026Z",xp:1,autogradingResults:[{resultType:"pass"},{resultType:"fail",expected:"8",actual:"5"},{resultType:"error",errors:[{errorType:"dummyErrorType"}]},{resultType:"error",errors:[{errorType:"systemError",errorMessage:"Cannot read property 'getUniformLocation' of null"}]},{resultType:"error",errors:[{errorType:"timeout"},{errorType:"syntax",line:2,location:"student",errorLine:"return (n - d) < 0 ? n : remainder(n - d, d)",errorExplanation:"Missing semicolon at the end of statement"}]}],blocking:!1},grade:{xpAdjustment:0,xp:0,comments:`Good job. You are awarded the full marks!

----
## markdown test

# header

**bold**

_italics_

* list

1. numbered list

- [] checkboxes

> quote

    code

[link to Source Academy](https://sourceacademy.nus.edu.sg)

![](image-url-goes-here)
      `,grader:{name:"HARTIN MENZ",id:100},gradedAt:"2019-08-16T13:26:32+00:00"},student:{name:"Al Gorithm",username:"E0123456",id:0}},{question:{prepend:"",postpend:"",testcases:[],answer:"This student's answer to the 1st question",lastModifiedAt:"2023-08-05T17:48:24.000000Z",content:"Hello and welcome to this assessment! This is the 1st question.",id:1,library:eF,solutionTemplate:"1st question mock solution template",solution:null,type:"programming",maxXp:200,grader:{name:"avenger",id:1},gradedAt:"2038-06-18T05:24:26.026Z",xp:1,autogradingResults:[{resultType:"pass"},{resultType:"fail",expected:"8",actual:"5"},{resultType:"error",errors:[{errorType:"timeout"},{errorType:"syntax",line:1,location:"student",errorLine:"function fibonacci(n) {",errorExplanation:"Just kidding!"}]}],blocking:!1},grade:{xpAdjustment:0,xp:100,comments:`You open the Report Card, not knowing what to expect...

## WOW!
Amazing grasp of runes. We can now move on to the next assignment.

<br/>

Robot Dog: \`woof\`

You look at the display of the robot dog.

    FEED ME
1. Bread
2. Water

<br/>

* I am hungry.
* I am thirsty.

<br/>
<br/>

New message from **Avenger**!

> _Cadet, please meet me at Level X-05, outside the pod bay doors. There is an important mission awaiting us._

> _May the [Source](https://sourceacademy.nus.edu.sg) be with you._

> Best regards, Avocado A. Avenger

#### Upcoming Tasks
- [] Meet Avenger Avenger at Level X-05
- [] Open the Pod Bay Doors
      `},student:{name:"Al Gorithm",username:"E0000000",id:0}},{question:{prepend:"",postpend:"",testcases:[],answer:3,lastModifiedAt:"2023-08-05T17:48:24.000000Z",solution:2,content:"Hello and welcome to this assessment! This is the 2nd question. Oddly enough, it is an MCQ question!",choices:[{content:"A",hint:"hint A"},{content:"B",hint:"hint B"},{content:"C",hint:"hint C"},{content:"D",hint:"hint D"}],id:2,library:eF,type:"mcq",maxXp:100,grader:{name:"avenger",id:1},gradedAt:"2038-06-18T05:24:26.026Z",xp:1,autogradingResults:[{resultType:"pass"},{resultType:"fail",expected:"8",actual:"5"},{resultType:"error",errors:[{errorType:"timeout"},{errorType:"syntax",line:1,location:"student",errorLine:"function fibonacci(n) {",errorExplanation:"Just kidding!"}]}],blocking:!1},grade:{xpAdjustment:0,xp:50},student:{name:"Al Gorithm",username:"E0000000",id:0}}],assessment:{coverPicture:"https://i.imgur.com/dR7zBPI.jpeg",id:1,number:"10",reading:"This is for you to read. Read it carefully. Perhaps you will find the answer to life here.",story:`Story:
Start of story.
End of story.
The End.

Credits
Starring: Source Academy`,summaryLong:"This is the long summary of the assessment. It is a very very very very long summary",summaryShort:"This is short summary",title:"Assessment 1: Some Title"}},eq={cols:["group","avenger","ungradedMissions","submittedMissions","ungradedQuests","submittedQuests"],rows:[{group:"Mock Group 1",avenger:"John",ungradedMissions:123,submittedMissions:200,ungradedQuests:100,submittedQuests:117},{group:"Mock Group 2",avenger:"Molly",ungradedMissions:1232,submittedMissions:205430,ungradedQuests:345,submittedQuests:11547},{group:"Mock Group 3",avenger:"Lenny",ungradedMissions:1532,submittedMissions:22200,ungradedQuests:134500,submittedQuests:6777}]},eQ=a(67063),eK=[{teamId:1,assessmentId:1,assessmentName:"An Odessey to Runes",assessmentType:"Missions",studentIds:[106,107,108,109],studentNames:["Lolita Sim","Lim Jun Ming","Tobias Gray","Lenard Toh See Ming"]},{teamId:2,assessmentId:2,assessmentName:"An Odessey to Runes",assessmentType:"Missions",studentIds:[110,111,112,113],studentNames:["Richard Gray","Benedict Lim","Harshvathini Tharman","James Cook"]},{teamId:3,assessmentId:2,assessmentName:"An Odessey to Runes",assessmentType:"Missions",studentIds:[114,115,116,117],studentNames:["Mike Chang","Giyu Tomioka","Oliver Sandy","Muthu Valakrishnan"]}],e0=async(e,t,a,i,s)=>{let n=[p.Xh.Admin,p.Xh.Staff],r=((e,t=p.Xh.Staff)=>t)(0);if(null===r||!n.includes(r))return null;{let e=await e1(s),n=eQ.read(e,{type:"array"}),r=n.SheetNames[0],o=n.Sheets[r],l=eQ.utils.sheet_to_json(o,{header:1}),d=[],c=eK.length>0?eK[eK.length-1].teamId+1:1;for(let e=0;e<l.length;e++){let s=l[e],n=[];s.forEach(e=>{let t=eV?.find(t=>t.username.trim()===e.trim());t&&n.push({label:t.name,value:t})});let r=[],o=[];n.forEach(e=>{e&&e.value&&"number"==typeof e.value.userId&&(r.push(e.value.name),o.push(e.value.userId))}),d.push({teamId:c++,assessmentId:t,assessmentName:a,assessmentType:i,studentIds:o,studentNames:r})}return eK.push(...d),eK.sort((e,t)=>t.assessmentId-e.assessmentId)}},e1=async e=>new Promise((t,a)=>{let i=new FileReader;i.onload=e=>{e.target?t(e.target.result):a(Error("Error reading file"))},i.onerror=e=>{a(Error("Error reading file"))},i.readAsArrayBuffer(e)});function*e2(){yield(0,en.jP)(ee.A.fetchAuth.type,function*(t){yield(0,en.yJ)(eS.o.setTokens({accessToken:"accessToken",refreshToken:"refreshToken"})),yield e();let a=yield(0,en.Lt)(e=>e.session.courseId);yield e_(`/courses/${a}`)});let e=function*(){let e={...eH},t={...eJ["0"]},a={...eW["0"]},i=[...eD["0"]],s={chapter:a.sourceChapter,variant:a.sourceVariant,displayName:(0,p.Kl)(a.sourceChapter,a.sourceVariant),mainLanguage:"JavaScript",supports:{}};yield(0,en.yJ)(eS.o.setUser(e)),yield(0,en.yJ)(eS.o.setCourseRegistration(t)),yield(0,en.yJ)(eS.o.setCourseConfiguration(a)),yield(0,en.yJ)(eS.o.setAssessmentConfigurations(i)),yield(0,en.yJ)(eS.o.updateSublanguage(s))};yield(0,en.jP)(ee.A.fetchUserAndCourse.type,e),yield(0,en.jP)(ee.A.fetchCourseConfig.type,function*(){let e={...eW["0"]};yield(0,en.yJ)(eS.o.setCourseConfiguration(e))}),yield(0,en.jP)(ee.A.fetchAssessmentOverviews.type,function*(){yield(0,en.yJ)(eS.o.updateAssessmentOverviews([...eU]))}),yield(0,en.jP)(ee.A.fetchAssessment.type,function*(e){let{assessmentId:t}=e.payload,a=eB[t-1];yield(0,en.yJ)(eS.o.updateAssessment({...a}))}),yield(0,en.jP)(ee.A.submitAnswer.type,function*(e){let t=e.payload.id,a=e.payload.answer,i=yield(0,en.Lt)(e=>e.workspaces.assessment.currentAssessment),s=yield(0,en.Lt)(e=>e.session.assessments[i]),n=s.questions.slice().map(e=>(e.id===t&&(e.answer=a),e)),r={...s,questions:n};return yield(0,en.yJ)(eS.o.updateAssessment(r)),yield(0,en.T1)(ed.uT,"Saved!",1e3),yield(0,en.yJ)(eS.o.updateHasUnsavedChanges("assessment",!1))}),yield(0,en.jP)(ee.A.submitAssessment.type,function*(e){let t=e.payload,a=(yield(0,en.Lt)(e=>e.session.assessmentOverviews)).map(e=>e.id===t?{...e,status:"submitted"}:e);return yield(0,en.T1)(ed.uT,"Submitted!",2e3),yield(0,en.yJ)(eS.o.updateAssessmentOverviews(a))}),yield(0,en.jP)(ee.A.fetchGradingOverviews.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),{filterToGroup:a,pageParams:i,filterParams:s,allColsSortStates:n}=e.payload,r={sortBy:n.sortBy,sortDirection:""};Object.keys(n.currentState).forEach(e=>{n.sortBy===e&&e&&("sort"!==n.currentState[e]?r.sortDirection=n.currentState[e]:(r.sortBy="",r.sortDirection=""))});let o=yield(0,en.T1)(()=>{let e,t;return e=[p.Xh.Admin,p.Xh.Staff],null!==(t=((e,t=p.Xh.Staff)=>t)(0))&&e.includes(t)?a?[e$[0]]:e$.sort((e,t)=>e.assessmentId!==t.assessmentId?t.assessmentId-e.assessmentId:t.submissionId-e.submissionId):null});null!==o&&(yield(0,en.yJ)(eS.o.updateGradingOverviews(o)))}),yield(0,en.jP)(ee.A.fetchTeamFormationOverviews.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),a=e.payload,i=yield(0,en.T1)(()=>{let e,t;return e=[p.Xh.Admin,p.Xh.Staff],null!==(t=((e,t=p.Xh.Staff)=>t)(0))&&e.includes(t)?a?[eK[0]]:eK.sort((e,t)=>t.assessmentId-e.assessmentId):null});null!==i&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews([...i])))}),yield(0,en.jP)(ee.A.createTeam.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),{assessment:a,teams:i}=e.payload,s=yield(0,en.T1)(()=>((e,t,a,i,s)=>{let n=[p.Xh.Admin,p.Xh.Staff],r=((e,t=p.Xh.Staff)=>t)(0);if(null===r||!n.includes(r))return null;{let e=eK[eK.length-1],n=e?.teamId+1,r=s.map(e=>{let s=[],r=[];return e.forEach(e=>{e&&e.value&&"number"==typeof e.value.userId&&(s.push(e.value.name),r.push(e.value.userId))}),{teamId:n++,assessmentId:t,assessmentName:a,assessmentType:i,studentIds:r,studentNames:s}});return eK.push(...r),eK.sort((e,t)=>t.assessmentId-e.assessmentId)}})(0,a.id,a.title,a.type,i));null!==s&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews([...s])))}),yield(0,en.jP)(ee.A.bulkUploadTeam.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),{assessment:a,file:i}=e.payload,s=yield(0,en.T1)(()=>e0(t,a.id,a.title,a.type,i));null!==s&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews([...s])))}),yield(0,en.jP)(ee.A.updateTeam.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),{teamId:a,assessment:i,teams:s}=e.payload,n=yield(0,en.T1)(()=>((e,t,a,i,s,n)=>{let r=[p.Xh.Admin,p.Xh.Staff],o=((e,t=p.Xh.Staff)=>t)(0);if(null===o||!r.includes(o))return null;{let e=eK.findIndex(e=>e.teamId===t);if(-1!==e){eK[e].assessmentId=a,eK[e].assessmentName=i,eK[e].assessmentType=s;let t=[],r=[];n.forEach(e=>{e.forEach(e=>{e&&e.value&&"number"==typeof e.value.userId&&(t.push(e.value.userId),r.push(e.value.name))})}),eK[e].studentIds=t,eK[e].studentNames=r}return eK.sort((e,t)=>t.assessmentId-e.assessmentId)}})(0,a,i.id,i.title,i.type,s));null!==n&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews([...n])))}),yield(0,en.jP)(ee.A.deleteTeam.type,function*(e){let t=yield(0,en.Lt)(e=>e.session.accessToken),{teamId:a}=e.payload,i=yield(0,en.T1)(()=>((e,t)=>{let a=[p.Xh.Admin,p.Xh.Staff],i=((e,t=p.Xh.Staff)=>t)(0);if(null===i||!a.includes(i))return null;let s=eK.findIndex(e=>e.teamId===t);return -1!==s&&eK.splice(s,1),eK})(0,a));null!==i&&(yield(0,en.yJ)(eS.o.updateTeamFormationOverviews([...i])))}),yield(0,en.jP)(ee.A.fetchStudents.type,function*(e){yield(0,en.Lt)(e=>e.session.accessToken);let t=yield(0,en.T1)(()=>eV);null!==t&&(yield(0,en.yJ)(eS.o.updateStudents([...t])))}),yield(0,en.jP)(ee.A.fetchGrading.type,function*(e){let t=e.payload,a=yield(0,en.Lt)(e=>e.session.accessToken),i=yield(0,en.T1)(()=>{let e,t;return e=[p.Xh.Admin,p.Xh.Staff],null!==(t=((e,t=p.Xh.Staff)=>t)(0))&&e.includes(t)?eZ:null});null!==i&&(yield(0,en.yJ)(eS.o.updateGrading(t,i)))}),yield(0,en.jP)(ee.A.unsubmitSubmission.type,function*(e){let{submissionId:t}=e.payload,a=yield(0,en.Lt)(e=>e.session.gradingOverviews||{count:0,data:[]});if(-1===a.data.findIndex(e=>e.submissionId===t&&"submitted"===e.progress))return void(yield(0,en.T1)(ed.JB,"400: Bad Request"));let i=a.data.map(e=>(e.submissionId===t&&(e.progress="attempted"),e));yield(0,en.T1)(ed.uT,"Unsubmit successful!",1e3),yield(0,en.yJ)(eS.o.updateGradingOverviews({...a,data:i}))});let t=function*(e){if((yield(0,en.Lt)(e=>e.session.role))===p.Xh.Student)return yield(0,en.T1)(ed.JB,"Only staff can submit answers.");let{submissionId:t,questionId:a,xpAdjustment:i,comments:s}=e.payload,n=yield(0,en.Lt)(e=>e.session.gradings[t]),r=n.answers.slice().map(e=>(e.question.id===a&&(e.grade={xpAdjustment:i,xp:e.grade.xp,comments:s,gradedAt:new Date().toISOString()}),e));yield(0,en.yJ)(eS.o.updateGrading(t,{answers:r,assessment:n.assessment})),yield(0,en.T1)(ed.uT,"Submitted!",1e3)},a=function*(e){let{submissionId:a}=e.payload;yield*t(e);let[i,s]=yield(0,en.Lt)(e=>[e.workspaces.grading.currentQuestion,e.session.courseId]);yield e_(`/courses/${s}/grading/${a}/${(i||0)+1}`)};yield(0,en.jP)(ee.A.submitGrading.type,t),yield(0,en.jP)(ee.A.submitGradingAndContinue.type,a),yield(0,en.jP)(ee.A.fetchNotifications.type,function*(e){yield(0,en.yJ)(eS.o.updateNotifications([...eX]))}),yield(0,en.jP)(ee.A.acknowledgeNotifications.type,function*(e){let t=e.payload.withFilter,a=yield(0,en.Lt)(e=>e.session.notifications),i=a;if(t&&(i=t(a)),0===i.length)return;let s=i.map(e=>e.id),n=a.filter(e=>!s.includes(e.id));yield(0,en.yJ)(eS.o.updateNotifications(n))}),yield(0,en.jP)(ee.A.updateLatestViewedCourse.type,function*(e){let{courseId:t}=e.payload,a=t-1,i={...eW[a]};yield(0,en.yJ)(eS.o.setCourseConfiguration(i)),yield(0,en.yJ)(eS.o.setAssessmentConfigurations([...eD[a]])),yield(0,en.yJ)(eS.o.setCourseRegistration({...eJ[a]})),yield(0,en.yJ)(eS.o.updateSublanguage({chapter:i.sourceChapter,variant:i.sourceVariant,displayName:(0,p.Kl)(i.sourceChapter,i.sourceVariant),mainLanguage:"JavaScript",supports:{}})),yield(0,en.T1)(ed.uT,`Switched to ${i.courseName}!`,5e3)}),yield(0,en.jP)(ee.A.updateCourseConfig.type,function*(e){let t=e.payload;yield(0,en.yJ)(eS.o.setCourseConfiguration(t)),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)}),yield(0,en.jP)(ee.A.updateAssessmentConfigs.type,function*(e){let t=e.payload;yield(0,en.yJ)(eS.o.setAssessmentConfigurations(t)),yield(0,en.T1)(ed.uT,"Updated successfully!",1e3)}),yield(0,en.jP)(ee.A.fetchAdminPanelCourseRegistrations.type,function*(e){let t=[...eY];yield(0,en.yJ)(eS.o.setAdminPanelCourseRegistrations(t))}),yield(0,en.jP)(b.Ay.fetchGroupGradingSummary.type,function*(){yield(0,en.yJ)(eS.o.updateGroupGradingSummary({...eq}))})}var e3=a(53455),e4=a(31062),e8=a(86520),e5=a(57142);let e6=(0,ew.zA)({[y.A.bulkUpdateAchievements.type]:function*(e){let t=yield eE(),a=e.payload;if(!(yield(0,en.T1)(el.WC,a,t)))return},[y.A.bulkUpdateGoals.type]:function*(e){let t=yield eE(),a=e.payload;if(!(yield(0,en.T1)(el.YR,a,t)))return},[y.A.getAchievements.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.$_,e);t&&(yield(0,en.yJ)(eS.o.saveAchievements(t)))},[y.A.getGoals.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.T1)(el.DX,t,a);i&&(yield(0,en.yJ)(eS.o.saveGoals(i)))},[y.A.getOwnGoals.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.XS,e);t&&(yield(0,en.yJ)(eS.o.saveGoals(t)))},[y.A.getUsers.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.CF,e);t&&(yield(0,en.yJ)(eS.o.saveUsers(t)))},[y.A.removeAchievement.type]:function*(e){let t=yield eE(),a=e.payload;if(!(yield(0,en.T1)(el.qW,a,t)))return},[y.A.removeGoal.type]:function*(e){let t=yield eE(),a=e.payload;if(!(yield(0,en.T1)(el.Qi,a,t)))return},[y.A.updateOwnGoalProgress.type]:function*(e){let t=yield eE(),a=e.payload;if(!(yield(0,en.T1)(el.Kk,a,t)))return},[y.A.updateGoalProgress.type]:function*(e){let t=yield eE(),{studentCourseRegId:a,progress:i}=e.payload,s=yield(0,en.T1)(el.Q5,a,i,t);s&&s.ok&&(yield(0,en.yJ)(eS.o.getGoals(a)),yield(0,en.T1)(e4.j))},[y.A.addEvent.type]:function*({payload:{eventNames:e,workspaceLocation:t}}){let a=[],i=!1,s=yield(0,en.Lt)(e=>e.session.role),n=yield(0,en.Lt)(e=>e.session.enableAchievements);if(void 0!==t&&e.find(e=>e===e3.Bx.ERROR)){let e=yield(0,en.Lt)(e=>{let[a,i]=(0,U.g$)(t);return"stories"===a?e.sideContent.stories[i].selectedTab:e.sideContent[a].selectedTab});("cse_machine"===e||"subst_visualiser"===e)&&(yield(0,en.yJ)(D.Ay.beginAlertSideContent("introduction",t)))}s&&n&&!$.A.playgroundOnly&&(a.push(e),!i&&s&&(i=!0,yield(0,en.cb)(3e3),i=!1,yield(0,en.yJ)(eS.o.handleEvent(a)),a=[]))},[y.A.handleEvent.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(el.$_,t);a&&(yield(0,en.yJ)(eS.o.saveAchievements(a)));let i=yield(0,en.T1)(el.XS,t);if(!i)return;yield(0,en.yJ)(eS.o.saveGoals(i));let s=yield(0,en.Lt)(e=>e.achievement.achievements),n=yield(0,en.Lt)(e=>e.achievement.goals),r=new e8.A(s,n),o=e.payload,l=new Set;for(let e of(o.forEach(e=>{n.filter(t=>(function(e,t){var a;if(e.meta.type===e3.IW.EVENT&&(a=e.meta,!(0,e5._d)(a.deadline)&&(0,e5.OZ)(a.release)&&((0,e5.GG)(a.observeFrom,a.observeTo)||0))){for(let a=0;a<e.meta.eventNames.length;a++)for(let i=0;i<t.length;i++)if(e.meta.eventNames[a]===t[i])return!0}return!1})(t,e)).map(e=>e.uuid).forEach(e=>{let t={...r.getGoalProgress(e)};t.count=t.count+1;let a=t.completed;t.completed=t.count>=t.targetCount;let i=[];if(!a&&t.completed)for(let t of r.getAchievementsByGoal(e))r.isCompleted(r.getAchievement(t))||i.push(t);for(let e of(r.modifyGoalProgress(t),i)){let t=r.getAchievement(e);r.isCompleted(t)&&(0,ed.uT)("Completed acheivement: "+t.title)}l.add(e)})}),l))if(!(yield(0,en.T1)(el.Kk,r.getGoalProgress(e),t)))return},[y.A.getUserAssessmentOverviews.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(el.aL,e.payload,t);a&&(yield(0,en.yJ)(eS.o.saveUserAssessmentOverviews(a)))}}),e9=(0,ew.zA)({[g.xb.setFlag.type]:function*({payload:{featureFlag:e,value:t}}){yield(0,en.T1)([e,"onChange"],t)},[g.xb.resetFlag.type]:function*({payload:{featureFlag:e}}){yield(0,en.T1)([e,"onChange"],e.defaultValue)}});var e7=a(79289),te=a(38457),tt=a(74848),ta=a(45111),ti=a(53991),ts=a(31643),tn=a(62047),tr=a(58270),to=a(5960),tl=a(79642),td=a(31365),tc=a(53978),tu=a.n(tc),th=a(96540);class tp{childrenRetrieved=!1;filePath="dummy_path";fileType="unset";constructor(e,t){this.filePath=e,this.fileType=t}}class tm{static fileIndex=0;static currentRepoName="";static async getFirstLayerRepoFileNodes(e){return""===e?[]:(tm.fileIndex=0,tm.currentRepoName=e,await tm.getChildNodes(e,""))}static async getChildNodes(e,t){let a=[];if(e!==tm.currentRepoName)return a;let i=(0,te.oq)();if(void 0===i)return a;try{let s=(await i.users.getAuthenticated()).data.login,n=(await i.repos.getContent({owner:s,repo:e,path:t})).data;Array.isArray(n)&&n.forEach(e=>{a.push(this.createNode(e))})}catch(e){console.error(e)}return a}static createNode(e){let t=tm.fileIndex,a={id:t,label:"dummy file"};return"file"===e.type&&(a={id:t,nodeData:new tp(e.path,"file"),icon:"document",label:e.name}),"dir"===e.type&&(a={id:t,nodeData:new tp(e.path,"dir"),icon:"folder-close",label:e.name,childNodes:[]}),tm.fileIndex++,a}}let tg=e=>{let[t,a]=(0,th.useState)([]),[i,s]=(0,th.useState)(""),[n,r]=(0,th.useState)("");return(0,th.useEffect)(()=>{o(e.repoName,a)},[e.repoName]),(0,tt.jsxs)(ta.l,{className:"githubDialog",isOpen:!0,onClose:l,children:[(0,tt.jsx)("div",{className:tu()("githubDialogHeader",ti.DIALOG_HEADER),children:(0,tt.jsx)("h3",{children:"Select a File"})}),(0,tt.jsxs)(ts.R,{children:[(0,tt.jsx)(tn.P,{contents:t,onNodeClick:c,onNodeCollapse:u,onNodeExpand:h,className:tu()("FileTree",ti.ELEVATION_0)}),"Save"===e.pickerType&&(0,tt.jsxs)("div",{children:[(0,tt.jsx)(tr.M,{id:"FileNameTextBox",onChange:function(e){s(e.target.value)},onClick:function(e){""===i&&s(".js")},placeholder:"Enter File Name",value:i}),(0,tt.jsx)(tr.M,{onChange:function(e){r(e.target.value)},placeholder:"Enter Commit Message",value:n})]})]}),(0,tt.jsx)(to.E,{actions:(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(tl.$,{onClick:l,children:"Close"}),(0,tt.jsx)(tl.A,{onClick:d,intent:td.J.PRIMARY,text:e.pickerType})]})})]});async function o(e,t){try{let a=await tm.getFirstLayerRepoFileNodes(e);t(a)}catch(e){console.error(e)}}function l(){e.onSubmit("")}async function d(){let t=await e.octokit.users.getAuthenticated(),a=t.data.login,s=t.data.name,r=t.data.email;if("Open"===e.pickerType&&await (0,te.i_)(e.octokit,a,e.repoName,i)&&await (0,te.jp)()&&(0,te.Z_)(e.octokit,a,e.repoName,i),"Save"===e.pickerType){let{canBeSaved:t,saveType:o}=await (0,te.ku)(e.octokit,a,e.repoName,i);t&&("Overwrite"===o&&await (0,te.XI)()&&(0,te.R2)(e.octokit,a,e.repoName,i,s,r,n,e.editorContent),"Create"===o&&(0,te.SW)(e.octokit,a,e.repoName,i,s,r,n,e.editorContent))}e.onSubmit("")}async function c(e,i,n){let r=e.isSelected,o=await p(t,e,e=>e.isSelected=!1,e=>{e.isSelected=null===r||!r,s(void 0!==e.nodeData&&e.isSelected?e.nodeData.filePath:"")});null!==o&&a(o)}async function u(e){let i=await p(t,e,e=>{},e=>e.isExpanded=!1);null!==i&&a(i)}async function h(i){let s=await p(t,i,e=>{},async t=>{t.isExpanded=!0,void 0===t.nodeData||t.nodeData.childrenRetrieved||(t.childNodes=await tm.getChildNodes(e.repoName,t.nodeData.filePath),t.nodeData.childrenRetrieved=!0)});null!==s&&a(s)}async function p(e,t,a,i){if(null===e)return null;let s=[];for(let n=0;n<e.length;n++){let r=e[n],o=Object.assign({},r);if(await a(o),t.id===r.id&&await i(o),void 0!==o.childNodes){let e=await p(o.childNodes,t,a,i);null!==e&&(o.childNodes=e)}s.push(o)}return s}};var ty=a(49258),tf=a(11678);let tb=e=>{let[t,a]=(0,th.useState)("");return(0,tt.jsxs)(ta.l,{className:"githubDialog",isOpen:!0,onClose:i,children:[(0,tt.jsx)("div",{className:tu()("githubDialogHeader",ti.DIALOG_HEADER),children:(0,tt.jsx)("h3",{children:"Select a Repository"})}),(0,tt.jsx)(ts.R,{children:(0,tt.jsx)(ty.z,{className:"RepositoryRadioGroup",onChange:function(e){a(e.target.value)},selectedValue:t,children:e.userRepos.map(e=>(0,tt.jsx)(tf.sx,{label:e.name,value:e.name},e.id))})}),(0,tt.jsx)(to.E,{actions:(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(tl.$,{onClick:i,children:"Close"}),(0,tt.jsx)(tl.A,{onClick:function(){""===t?(0,ed.JB)("No repository selected!",1e3):e.onSubmit(t)},intent:td.J.PRIMARY,children:"Select"})]})})]});function i(){e.onSubmit("")}};var tx=a(69096);let tv=(0,ew.zA)({[ee.A.loginGitHub.type]:function*(){let e=`https://github.com/login/oauth/authorize?client_id=${$.A.githubClientId}&scope=repo`,t="Connect With OAuth",a="height=600,width=400";new BroadcastChannel("GitHubOAuthAccessToken").onmessage=e=>{a$.dispatch(eS.o.setGitHubOctokitObject(e.data)),a$.dispatch(eS.o.setGitHubAccessToken(e.data)),(0,ed.uT)("Logged in to GitHub",1e3)},$.A.githubClientId?yield(0,en.T1)(window.open,e,t,a):yield(0,en.T1)(window.open,"/callback/github",t,a)},[ee.A.logoutGitHub.type]:function*(){yield(0,en.yJ)(eS.o.removeGitHubOctokitObjectAndAccessToken()),yield(0,en.T1)(ed.uT,"Logged out from GitHub",1e3)},[e7.A.githubOpenFile.type]:function*(){let e=te.oq();if(void 0===e)return;let t=yield(0,en.T1)(async()=>await e.paginate(e.repos.listForAuthenticatedUser,{per_page:100})),a=async()=>await (0,tx.P_)(tb,e=>({userRepos:t,onSubmit:e})),i=yield(0,en.T1)(a);if(""!==i){let t=async()=>await (0,tx.P_)(tg,t=>({repoName:i,pickerType:"Open",octokit:e,editorContent:"",onSubmit:t}));yield(0,en.T1)(t)}},[e7.A.githubSaveFile.type]:function*(){let e=(0,te.oq)();if(void 0===e)return;let t=yield(0,en.T1)(e.users.getAuthenticated),a=t.data.login,i=a$.getState().playground.githubSaveInfo.repoName,s=a$.getState().playground.githubSaveInfo.filePath,n=t.data.email,r=t.data.name,o=yield(0,en.Lt)(e=>e.workspaces.playground.activeEditorTabIndex);if(null===o)throw Error("No active editor tab found.");let l=(yield(0,en.Lt)(e=>e.workspaces.playground.editorTabs))[o].value;te.R2(e,a,i,s,n,r,"Changes made from Source Academy",l)},[e7.A.githubSaveFileAs.type]:function*(){let e=te.oq();if(void 0===e)return;let t=yield(0,en.T1)(async()=>await e.paginate(e.repos.listForAuthenticatedUser,{per_page:100})),a=async()=>await (0,tx.P_)(tb,e=>({userRepos:t,onSubmit:e})),i=yield(0,en.T1)(a),s=yield(0,en.Lt)(e=>e.workspaces.playground.activeEditorTabIndex);if(null===s)throw Error("No active editor tab found.");let n=(yield(0,en.Lt)(e=>e.workspaces.playground.editorTabs))[s].value;if(""!==i){let t=async()=>await (0,tx.P_)(tg,t=>({repoName:i,pickerType:"Save",octokit:e,editorContent:n,onSubmit:t}));yield(0,en.T1)(t)}}});var tT=a(27915);function*tA(){let e=yield(0,en.Lt)(e=>e.languageDirectory);if(e.selectedLanguageId)return e.languageMap[e.selectedLanguageId]}function*tw(){let e=yield(0,en.Lt)(e=>e.languageDirectory);if(!e.selectedEvaluatorId)return;let t=yield(0,en.T1)(tA);if(t)return(0,v.JI)(t,e.selectedEvaluatorId)}let tS=(0,ew.zA)({[T.A.setLanguages.type]:function*(){let e=yield(0,en.Lt)(e=>e.languageDirectory);e.languages.length>0&&(yield(0,en.yJ)(T.A.setSelectedLanguage(e.languages[0].id)))},[T.A.fetchLanguages.type]:function*(){let e=yield(0,en.Lt)(tT.f),t=yield(0,en.T1)(fetch,e);if(!t.ok)throw Error(`Can't retrieve language directory: ${t.status}`);let a=yield(0,en.T1)([t,"json"]);yield(0,en.yJ)(T.A.setLanguages(a))},[T.A.setSelectedLanguage.type]:function*(){let e=yield(0,en.T1)(tA);e&&e.evaluators.length>0&&(yield(0,en.yJ)(T.A.setSelectedEvaluator(e.evaluators[0].id)))}}),tC=function*(){yield(0,en.Zy)(tS),yield(0,en.yJ)(T.A.fetchLanguages())},tI=(0,ew.zA)({[I.A.getOverallLeaderboardXP.type]:function*(e){let t=yield eE(),{page:a,pageSize:i}=e.payload,s=yield(0,en.T1)(el.NJ,a,i,t);s&&(yield(0,en.yJ)(eS.o.saveOverallLeaderboardXP(s)))},[I.A.getAllContestScores.type]:function*(e){let t=yield eE(),{assessmentId:a,visibleEntries:i}=e.payload,s=yield(0,en.T1)(el.Qh,a,i,t);s&&(yield(0,en.yJ)(eS.o.saveAllContestScores(s)))},[I.A.getAllContestPopularVotes.type]:function*(e){let t=yield eE(),{assessmentId:a,visibleEntries:i}=e.payload,s=yield(0,en.T1)(el.HL,a,i,t);s&&(yield(0,en.yJ)(eS.o.saveAllContestPopularVotes(s)))},[I.A.getContests.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(el.F1,e);t&&(yield(0,en.yJ)(eS.o.saveContests(t)))}});var tE=a(43571),t_=a(11888);let tj=(0,ew.zA)({[ee.A.login.type]:function*({payload:e}){let t=yield(0,en.Lt)(e=>e.vscode.isVscode),a=(0,eC.mI)(e,t);a?t?(0,t_.h0)(t_.Ay.LoginWithBrowser(a)):window.location.href=a:yield(0,en.T1)(ed.JB,"Could not log in; invalid provider name provided.")},[ee.A.setUser.type]:function*(e){yield(0,en.T1)(tE.gV,{id:e.payload.userId.toString()})},[k.Ay.logOut.type]:function*(){yield(0,en.T1)(tE.gV,null)}}),tk=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],tN="https://www.googleapis.com/upload/drive/v3/files",tP="text/plain",tR=(0,ew.zA)({[eS.o.logoutGoogle.type]:{takeLatest:function*(){yield(0,en.yJ)(eS.o.playgroundUpdatePersistenceFile(void 0)),yield(0,en.T1)(tD),yield(0,en.T1)([gapi.auth2.getAuthInstance(),"signOut"])}},[eS.o.persistenceOpenPicker.type]:{takeLatest:function*(){let e;try{yield(0,en.T1)(tU);let{id:t,name:a,picked:i}=yield(0,en.T1)(tF,"Pick a file to open");if(!i||!(yield(0,en.T1)(tx.cu,{title:"Opening from Google Drive",contents:(0,tt.jsxs)("p",{children:["Opening ",(0,tt.jsx)("strong",{children:a})," will overwrite the current contents of your workspace. Are you sure?"]}),positiveLabel:"Open",negativeLabel:"Cancel"})))return;e=yield(0,en.T1)(ed.rG,{message:"Opening file...",timeout:0,intent:td.J.PRIMARY});let{result:s}=yield(0,en.T1)([gapi.client.drive.files,"get"],{fileId:t,fields:"appProperties"}),n=yield(0,en.T1)([gapi.client.drive.files,"get"],{fileId:t,alt:"media"}),r=yield(0,en.Lt)(e=>e.workspaces.playground.activeEditorTabIndex);if(null===r)throw Error("No active editor tab found.");yield(0,en.yJ)(eS.o.updateEditorValue("playground",r,n.body)),yield(0,en.yJ)(eS.o.playgroundUpdatePersistenceFile({id:t,name:a,lastSaved:new Date})),s&&s.appProperties&&(yield(0,en.yJ)(eS.o.chapterSelect(parseInt(s.appProperties.chapter||"4",10),s.appProperties.variant||eM.Variant.DEFAULT,"playground")),yield(0,en.yJ)(eS.o.externalLibrarySelect(Object.values(eO.O).find(e=>e===s.appProperties.external)||eO.O.NONE,"playground"))),yield(0,en.T1)(ed.uT,`Loaded ${a}.`,1e3)}catch(e){console.error(e),yield(0,en.T1)(ed.JB,"Error while opening file.",1e3)}finally{e&&(0,ed.X8)(e)}}},[eS.o.persistenceSaveFileAs.type]:{takeLatest:function*(){let e;try{yield(0,en.T1)(tU);let[t,a,i,s,n]=yield(0,en.Lt)(e=>[e.workspaces.playground.activeEditorTabIndex,e.workspaces.playground.editorTabs,e.workspaces.playground.context.chapter,e.workspaces.playground.context.variant,e.workspaces.playground.externalLibrary]);if(null===t)throw Error("No active editor tab found.");let r=a[t].value,o=yield(0,en.T1)(tF,"Pick a folder, or cancel to pick the root folder",{pickFolders:!0,showFolders:!0,showFiles:!1}),l=o.picked?o:{id:"root",name:"My Drive"},d=yield(0,en.T1)(tF,`Saving to ${l.name}; pick a file to overwrite, or cancel to save as a new file`,{pickFolders:!1,showFolders:!1,showFiles:!0,rootFolder:l.id});if(d.picked){if(!(yield(0,en.T1)(tx.cu,{title:"Saving to Google Drive",contents:(0,tt.jsxs)("span",{children:["Really overwrite ",(0,tt.jsx)("strong",{children:d.name}),"?"]})})))return;yield(0,en.yJ)(eS.o.playgroundUpdatePersistenceFile(d)),yield(0,en.yJ)(eS.o.persistenceSaveFile(d))}else{let t=yield(0,en.T1)(tx.Yp,{title:"Saving to Google Drive",contents:(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("p",{children:["Saving to folder ",(0,tt.jsx)("strong",{children:l.name}),"."]}),(0,tt.jsx)("p",{children:"Save as name?"})]}),positiveLabel:"Save as new file",negativeLabel:"Cancel",props:{validationFunction:e=>!!e}});if(!t.buttonResponse)return;e=yield(0,en.T1)(ed.rG,{message:`Saving as ${t.value}...`,timeout:0,intent:td.J.PRIMARY});let a=yield(0,en.T1)(tG,t.value,l.id,tP,r,{chapter:i,variant:s,external:n});yield(0,en.yJ)(eS.o.playgroundUpdatePersistenceFile({...a,lastSaved:new Date})),yield(0,en.T1)(ed.uT,`${t.value} successfully saved to Google Drive.`,1e3)}}catch(e){console.error(e),yield(0,en.T1)(ed.JB,"Error while saving file.",1e3)}finally{e&&(0,ed.X8)(e)}}},[eS.o.persistenceSaveFile.type]:function*({payload:{id:e,name:t}}){let a;try{a=yield(0,en.T1)(ed.rG,{message:`Saving as ${t}...`,timeout:0,intent:td.J.PRIMARY}),yield(0,en.T1)(tU);let{activeEditorTabIndex:i,editorTabs:s,context:{chapter:n,variant:r},externalLibrary:o}=yield*(0,eI.Iu)("playground");if(null===i)throw Error("No active editor tab found.");let l=s[i].value;yield(0,en.T1)(tz,e,t,tP,l,{chapter:n,variant:r,external:o}),yield(0,en.yJ)(eS.o.playgroundUpdatePersistenceFile({id:e,name:t,lastSaved:new Date})),yield(0,en.T1)(ed.uT,`${t} successfully saved to Google Drive.`,1e3)}catch(e){console.error(e),yield(0,en.T1)(ed.JB,"Error while saving file.",1e3)}finally{a&&(0,ed.X8)(a)}},[eS.o.persistenceInitialise.type]:tD}),tL=new Promise(e=>{i=e}).then(tO);function tM(e){a$.dispatch(eS.o.setGoogleUser(e.isSignedIn()?e.getBasicProfile().getEmail():void 0))}async function tO(){await new Promise((e,t)=>gapi.load("client:auth2",{callback:e,onerror:t})),await gapi.client.init({apiKey:$.A.googleApiKey,clientId:$.A.googleClientId,discoveryDocs:tk,scope:"profile https://www.googleapis.com/auth/drive.file"}),gapi.auth2.getAuthInstance().currentUser.listen(tM),tM(gapi.auth2.getAuthInstance().currentUser.get())}function*tD(){i(),yield tL}function*tU(){yield(0,en.T1)(tD),gapi.auth2.getAuthInstance().isSignedIn.get()||(yield gapi.auth2.getAuthInstance().signIn())}function tF(e,t){let a=void 0!==t?.pickFolders&&t?.pickFolders,i=void 0===t?.showFolders||t?.showFolders,s=void 0===t?.showFiles||t?.showFiles;return new Promise(n=>{gapi.load("picker",()=>{let r=new google.picker.DocsView(s?google.picker.ViewId.DOCS:google.picker.ViewId.FOLDERS);t?.rootFolder&&r.setParent(t.rootFolder),r.setOwnedByMe(!0),r.setIncludeFolders(i),r.setSelectFolderEnabled(a),r.setMode(google.picker.DocsViewMode.LIST),new google.picker.PickerBuilder().setTitle(e).enableFeature(google.picker.Feature.NAV_HIDDEN).addView(r).setOAuthToken(gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token).setAppId($.A.googleAppId).setDeveloperKey($.A.googleApiKey).setCallback(e=>{switch(e[google.picker.Response.ACTION]){case google.picker.Action.PICKED:{let{id:t,name:a,mimeType:i,parentId:s}=e.docs[0];n({id:t,name:a,mimeType:i,parentId:s,picked:!0});break}case google.picker.Action.CANCEL:n({picked:!1})}}).build().setVisible(!0)})})}async function tG(e,t,a,i="",s){let{body:n,headers:r}=tB({name:e,mimeType:a,parents:[t],appProperties:{source:!0,...s}},i,a),{result:o}=await gapi.client.request({path:tN,method:"POST",params:{uploadType:"multipart"},headers:r,body:n});return{id:o.id,name:o.name}}function tz(e,t,a,i="",s){let{body:n,headers:r}=tB({name:t,mimeType:a,appProperties:{source:!0,...s}},i,a);return gapi.client.request({path:tN+"/"+e,method:"PATCH",params:{uploadType:"multipart"},headers:r,body:n})}function tB(e,t,a){let i,s=JSON.stringify(e);do i=function(){let e="--------------------------";for(let t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);return e}();while(s.includes(i)||t.includes(i));return{body:`--${i}
Content-Type: application/json; charset=utf-8

${JSON.stringify(e)}
--${i}
Content-Type: ${a}

${t}
--${i}--
`,boundary:i,headers:{"Content-Type":`multipart/related; boundary=${i}`}}}var tH=a(32992),tV=a(53833),tJ=a(74970),tY=a(3778),tW=a(73989);let tX=(0,ew.zA)({[_.Ay.generateLzString.type]:function*(){let e=yield(0,en.Lt)(e=>e.fileSystem.inBrowserFileSystem),t=yield(0,en.T1)(tW.xe,"playground",e),{activeEditorTabIndex:a,context:{chapter:i,variant:s},editorTabs:n,execTime:r,externalLibrary:o,isFolderModeEnabled:l}=yield*(0,eI.Iu)("playground"),d=n.map(e=>e.filePath).filter(e=>void 0!==e),c=tV.A.stringify({isFolder:l,files:(0,tH.compressToEncodedURIComponent)(tV.A.stringify(t)),tabs:d.map(tH.compressToEncodedURIComponent),tabIdx:a,chap:i,variant:s,ext:o,exec:r});yield(0,en.yJ)(_.Ay.changeQueryString(c))},[_.Ay.shortenURL.type]:function*({payload:e}){let t,a,i=yield(0,en.Lt)(e=>e.playground.queryString),s="ERROR";try{let{result:s,hasTimedOut:n}=yield(0,en.O4)({result:(0,en.T1)(t$,i,e),hasTimedOut:(0,en.cb)(1e4)});t=s,a=n}catch(e){}return!t||a?(yield(0,en.yJ)(_.Ay.updateShortURL(s)),yield(0,en.T1)(ed.JB,"Something went wrong trying to create the link.")):"success"===t.status||t.shorturl?void("success"!==t.status&&(yield(0,en.T1)(ed.uT,t.message)),yield(0,en.yJ)(_.Ay.updateShortURL($.A.urlShortenerBase+t.url.keyword))):(yield(0,en.yJ)(_.Ay.updateShortURL(s)),yield(0,en.T1)(ed.JB,t.message))},[D.Ay.visitSideContent.type]:function*({payload:{newId:e,prevId:t,workspaceLocation:a}}){if("playground"!==a||e===t||"subst_visualiser"===t&&"mobile_editor_run"===e)return;let{context:{chapter:i},editorTabs:s}=yield*(0,eI.Iu)("playground");if("subst_visualiser"===t){if("mobile_editor_run"===e)return;s.find(({breakpoints:e})=>e.find(e=>!!e))||(yield(0,en.yJ)(W.A.toggleUsingSubst(!1,a)),yield(0,en.yJ)(W.A.clearReplOutput(a)))}"cse_machine"!==e&&(yield(0,en.yJ)(W.A.toggleUsingCse(!1,a)),yield(0,en.T1)([tJ.A,tJ.A.clearCse]),yield(0,en.T1)([tY.L,tY.L.clearCse]),yield(0,en.yJ)(W.A.updateCurrentStep(-1,a)),yield(0,en.yJ)(W.A.updateStepsTotal(0,a)),yield(0,en.yJ)(W.A.toggleUpdateCse(!0,a)),yield(0,en.yJ)(W.A.setEditorHighlightedLines(a,0,[]))),i===eM.Chapter.FULL_JAVA&&"cse_machine"===e&&(yield(0,en.yJ)(W.A.toggleUsingCse(!0,a))),(0,p.Kd)(i)&&("subst_visualiser"===e||"cse_machine"===e)&&(i<=eM.Chapter.SOURCE_2?yield(0,en.yJ)(W.A.toggleUsingSubst(!0,a)):yield(0,en.yJ)(W.A.toggleUsingCse(!0,a))),"upload"===e?yield(0,en.yJ)(W.A.toggleUsingUpload(!0,a)):yield(0,en.yJ)(W.A.toggleUsingUpload(!1,a)),(0,p.qq)(i)&&"cse_machine"===e&&(yield(0,en.yJ)(W.A.toggleUsingCse(!0,a)))}});async function t$(e,t){let a=`${window.location.protocol}//${window.location.host}/playground#${e}`,i={method:"POST",body:Object.entries({signature:$.A.urlShortenerSignature,action:"shorturl",format:"json",keyword:t,url:a}).reduce((e,[t,a])=>(e.append(t,a),e),new FormData)},s=await fetch(`${$.A.urlShortenerBase}yourls-api.php`,i);return s&&s.ok?await s.json():null}a(73372);var tZ=a(24148);let tq=(0,ew.zA)({[S.A.fetchPlugins.type]:function*(){let e=yield(0,en.Lt)(tZ.a),t=yield(0,en.T1)(fetch,e);if(!t.ok)throw Error(`Can't retrieve plugin directory: ${t.status}`);let a=yield(0,en.T1)([t,"json"]);yield(0,en.yJ)(S.A.setPlugins(a))}}),tQ=function*(){yield(0,en.Zy)(tq),yield(0,en.yJ)(S.A.fetchPlugins())};var tK=a(71223),t0=a(57415),t1=a(58800),t2=a(41255),t3=a(49705).Buffer;let t4={start:{line:0,column:0},end:{line:0,column:0}},t8=(0,ew.zA)({[K.A.remoteExecFetchDevices.type]:{takeLatest:function*(){let[e,t]=yield(0,en.Lt)(e=>[{accessToken:e.session.accessToken,refreshToken:e.session.refreshToken},e.session.remoteExecutionSession]),a=yield(0,en.T1)(el.Uc,e);if(yield(0,en.yJ)(eS.o.remoteExecUpdateDevices(a)),!t)return;let i=a.find(({id:e})=>e===t.device.id);i&&(yield(0,en.yJ)(eS.o.remoteExecUpdateSession({...t,device:i})))}},[K.A.remoteExecConnect.type]:function*(e){let[t,a]=yield(0,en.Lt)(e=>[{accessToken:e.session.accessToken,refreshToken:e.session.refreshToken},e.session.remoteExecutionSession]),{device:i,workspace:s}=e.payload;yield(0,en.yJ)(eS.o.remoteExecUpdateSession({device:i,workspace:s,connection:{status:"CONNECTING"}}));let n=yield(0,en.T1)(el.EG,i,t);if(!n)return void(yield(0,en.yJ)(eS.o.remoteExecUpdateSession({...e.payload,connection:{status:"FAILED",error:"Could not retrieve MQTT endpoint"}})));let r=a?.connection.client;if(r)try{r.disconnect()}catch{}let o=new tK.SlingClient({clientId:`${n.clientNamePrefix}${t6()}`,deviceId:n.thingName,websocketEndpoint:n.endpoint});o.on("statusChange",e=>{a$.dispatch(eS.o.updateWorkspace(s,{isRunning:e}))}),o.on("monitor",e=>{let t=e[0].split(":")[1],a=`port${t.substring(t.length-1)}`,i=a$.getState().session.remoteExecutionSession,s=e=>a$.dispatch(eS.o.remoteExecUpdateSession({...i,device:{...i.device,peripherals:{...u().pickBy(i.device.peripherals,e=>Date.now()-e.lastUpdated<3e3),[a]:{...e,lastUpdated:Date.now()}}}}));if(e[1].endsWith("motor")){let t=e[1],a=parseInt(e[2]);s({type:t,position:a,speed:parseInt(e[3])})}else{let t=e[1],a=e[2];s({type:t,mode:a,value:parseInt(e[3])})}}),o.on("display",(e,t)=>{switch(t){case"output":a$.dispatch(eS.o.handleConsoleLog(s,`${e}`));break;case"error":{let t=new t1.ExceptionError(Error(`${e}`),t4);a$.dispatch(eS.o.evalInterpreterError([t],s));break}case"result":a$.dispatch(eS.o.evalInterpreterSuccess(e,s))}});let l=t2._.get(i.type);yield(0,en.yJ)(eS.o.remoteExecUpdateSession({device:i,workspace:s,connection:{status:"CONNECTING",client:o,endpoint:n}})),yield(0,en.yJ)(eS.o.updateWorkspace(s,{isRunning:!1,isEditorAutorun:!1,isDebugging:!1,externalLibrary:l?.deviceLibraryName,output:[]})),yield(0,en.yJ)(eS.o.beginClearContext(s,{chapter:l?.languageChapter||eM.Chapter.SOURCE_3,variant:eM.Variant.DEFAULT,external:{name:l?.deviceLibraryName||eO.O.NONE,symbols:l?.internalFunctions||[]},globals:[]},!1));try{let t=new Promise((e,t)=>{try{o.once("connect",()=>e(!0)),o.once("error",t),o.connect()}catch{t()}});(yield(0,en.O4)({connect:t,reconnect:(0,en.s)(K.A.remoteExecConnect.type),disconnect:(0,en.s)(K.A.remoteExecDisconnect.type)})).connect?yield(0,en.yJ)(eS.o.remoteExecUpdateSession({...e.payload,connection:{status:"CONNECTED",client:o,endpoint:n}})):o.disconnect()}catch(t){o.disconnect(),yield(0,en.yJ)(eS.o.remoteExecUpdateSession({...e.payload,connection:{status:"FAILED",client:o,error:t.toString()}}))}},[K.A.remoteExecDisconnect.type]:function*(e){let t=yield(0,en.Lt)(e=>e.session.remoteExecutionSession);if(!t)return;let a=t.connection.client;a&&a.disconnect(),yield(0,en.yJ)(eS.o.remoteExecUpdateSession(void 0)),yield(0,en.yJ)(eS.o.externalLibrarySelect(eO.O.NONE,t.workspace,!0))},[K.A.remoteExecRun.type]:function*(e){let{files:t,entrypointFilePath:a}=e.payload,i=yield(0,en.Lt)(e=>e.session.remoteExecutionSession);if(!i)return;if("CONNECTED"!==i.connection.status)return void(yield(0,en.yJ)(eS.o.updateWorkspace(i.workspace,{isRunning:!1})));yield(0,en.yJ)(eS.o.clearReplOutput(i.workspace));let s=i.connection.client,n=yield(0,en.Lt)(e=>e.workspaces[i.workspace].context);n.errors.length=0;let r=yield(0,en.T1)(t0.compileFiles,t,a,n,t2._.get(i.device.type)?.internalFunctions);if(!r)return void(yield(0,en.yJ)(eS.o.evalInterpreterError(n.errors,i.workspace)));let o=(0,t0.assemble)(r);s.sendRun(t3.from(o))},[V.A.beginInterruptExecution.type]:function*(){let e=yield(0,en.Lt)(e=>e.session.remoteExecutionSession);e&&"CONNECTED"===e.connection.status&&e.connection.client.sendStop()}}),t5="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t6=()=>Array(16).fill(void 0).map(e=>t5[Math.floor(Math.random()*t5.length)]).join(""),t9=(0,ew.zA)({[D.Ay.beginAlertSideContent.type]:function*({payload:{id:e,workspaceLocation:t}}){yield(0,en.s)(e=>(e.type===D.Ay.spawnSideContent.type||e.payload?.id!=="session_management")&&e.payload.workspaceLocation===t),yield(0,en.yJ)(D.Ay.endAlertSideContent(e,t))},[W.A.notifyProgramEvaluated.type]:function*(e){if(!e.payload.workspaceLocation||"stories"===e.payload.workspaceLocation)return;let t={result:e.payload.result,lastDebuggerResult:e.payload.lastDebuggerResult,code:e.payload.code,context:e.payload.context,workspaceLocation:e.payload.workspaceLocation};yield(0,en.yJ)(D.Ay.spawnSideContent(e.payload.workspaceLocation,t))},[N.A.notifyStoriesEvaluated.type]:function*(e){yield(0,en.yJ)(D.Ay.spawnSideContent(`stories.${e.payload.env}`,e.payload))}});var t7=a(74818),ae=a(58050),at=a(19922),aa=a(74922),ai=a(82772),as=a(17913);async function an(e,t){return{printFunction:e=>{void 0!==window.__REDUX_STORE__&&window.__REDUX_STORE__.dispatch(V.A.handleConsoleLog(t.externalContext,e))},externalFunctions:await al(e,t)}}let ar=new Set(["pix_n_flix","sound","plotly"]),ao=null;async function al(e,t){let a={},i=e.match(/<[a-z0-9_]+>/g);if(!i)return a;let s=new Set(i.map(e=>e.slice(1,e.length-1)).filter(e=>ar.has(e)));Object.values(await (0,as.default)(s,t,!0)).forEach(e=>{Object.entries(e).forEach(([e,t])=>{a[e]=t})});let n=a.start;return a.start=()=>{ao=n()},a}var ad=a(28746),ac=a(48753),au=a(88274),ah=a(77034),ap=a(69967),am=a(49705).Buffer;async function ag(e,t,i,s,n){let r={},o=(e,a)=>{t.errors.push({type:e,severity:"Error",location:{start:{line:-1,column:-1},end:{line:-1,column:-1}},explain:()=>a,elaborate:()=>a})},l={},d=[],c=e=>{let t=l[e];if(!t&&e){let a=e.split("/");a.pop();let i=a.join("_"),s=new XMLHttpRequest;if(s.open("GET",`${$.A.javaPackagesUrl}${i}.json`,!1),s.send(null),200!==s.status)throw Error("File not found: "+e);let n=JSON.parse(s.responseText);if(!(l={...l,...n})[e])throw Error("File not found: "+e);t=l[e]}let a=atob(t),i=new Uint8Array(a.length);for(let e=0;e<a.length;e++)i[e]=a.charCodeAt(e);return(0,au.parseBin)(new DataView(i.buffer))},u=async e=>{if(e.startsWith("modules")){let a=e.split("/")[1],i=await (0,as.default)(new Set([a]),t,!0),{proxy:s}=(0,ah.createModuleProxy)(a,i[a]);return{default:s}}return await a(3764)(`./${e}.js`)},h=e=>{if(e.endsWith("\n")){d.push(e);let a=d.join("").split("\n");a.pop(),a.forEach(e=>ap.A.push(e,t.externalContext)),d=[]}else d.push(e)};if(n?.uploadIsActive){if(r=n.uploads??{},!n.uploads)return o("Compile","No files uploaded"),Promise.resolve({status:"error"})}else{let a=(0,ad.typeCheck)(e);if(a.hasTypeErrors)return o("TypeCheck",a.errorMsgs.join("\n")),Promise.resolve({status:"error"});if(s)return await ay(e,i,t);try{let t=(0,ad.compileFromSource)(e);r={"Main.class":am.from(new ac.BinaryWriter().generateBinary(t)).toString("base64")}}catch(e){return o("Compile",e),Promise.resolve({status:"error"})}}return(0,ah.loadCachedFiles)(()=>fetch($.A.javaPackagesUrl+"_base.json").then(e=>e.json()).then(e=>e)).then(e=>(l={...e,...r},new Promise((e,a)=>{(0,au.default)({javaClassPath:"",nativesPath:"",callbacks:{readFileSync:c,readFile:u,stdout:h,stderr:e=>o("Runtime",e),onFinish:()=>{e(t.errors.length?{status:"error"}:{status:"finished",context:t,value:new class{toString(){return" "}}})}},natives:{}})()}))).catch(()=>({status:"error"}))}async function ay(e,t,a){return a.executionMethod="cse-machine",ad.ECE.runECEvaluator(e,t).then(e=>(a.runtime.envStepsTotal=e.context.totalSteps,"error"===e.status&&(a.errors=e.context.errors.map(e=>({type:eM.ErrorType.RUNTIME,severity:eM.ErrorSeverity.ERROR,location:{start:{line:0,column:0},end:{line:0,column:0}},explain:()=>e.explain(),elaborate:()=>e.explain()}))),e)).catch(e=>(console.error(e),{status:"error"}))}var af=a(45615),ab=a(29368);class ax extends ab.K{requestFile(e){return this.__onRequestFile(e)}requestLoadPlugin(e){return this.__onRequestLoadPlugin(e)}__onRequestFile;__onRequestLoadPlugin;static channelAttach=super.channelAttach;constructor(e,t,a,i){super(e,t),this.__onRequestFile=a,this.__onRequestLoadPlugin=i}}function av(e,t,a){let i=new Worker(e),s=new af.H9(i,!0);return{hostPlugin:s.registerPlugin(ax,t,a),conduit:s}}var aT=a(73329),aA=a(43036),aw=a(20659);let aS="EVAL_SILENT";function*aC(e,t=!1,a){t?yield(0,en.yJ)(eS.o.handleStoriesConsoleLog(a,...ap.A.dump())):yield(0,en.yJ)(eS.o.handleConsoleLog(e,...ap.A.dump()))}function*aI(e){try{let[t,a]=yield(0,en.Lt)(t=>[t.workspaces[e].lastDebuggerResult,t.workspaces[e].context.chapter]);if(a===eM.Chapter.FULL_JAVA){let a=t.context.control.peek(),i=-1,s=-1;if(a?.srcNode?.location){let e=a.srcNode;i=e.location.startLine-1,s=e.location.endLine?e.location.endLine-1:i}yield(0,en.yJ)(eS.o.setEditorHighlightedLines(e,0,[])),yield(0,en.yJ)(eS.o.setEditorHighlightedLines(e,0,[[i,s]])),function({context:e}){try{tY.L.drawCse(e)}catch(e){throw Error("Java CSE machine is not enabled")}}(t)}else{let a=t.context.runtime.nodes[0].loc.start.line-1;yield(0,en.yJ)(eS.o.setEditorHighlightedLines(e,0,[])),yield(0,en.yJ)(eS.o.setEditorHighlightedLines(e,0,[[a,a]])),(0,Y.Pc)(t)}}catch(t){yield(0,en.yJ)(eS.o.setEditorHighlightedLines(e,0,[]))}}async function aE(e,t,a){try{let i=await ai.compile(e,t,a),s=new ai.Transcoder,n=await ai.run(i,ai.makePlatformImports({display:e=>{void 0!==window.__REDUX_STORE__&&window.__REDUX_STORE__.dispatch(V.A.handleConsoleLog(t.externalContext,e))}},s),s,t,a);return{status:"finished",context:t,value:n}}catch(e){return console.log(e),{status:"error"}}}async function a_(e,t){var a,i;let s=await an(e,t);try{let i=await (0,ae.s9)(e,s);if("failure"===i.status)return a=`Compilation failed with the following error(s):

${i.errorMessage}`,t.errors.push({type:eM.ErrorType.SYNTAX,severity:eM.ErrorSeverity.ERROR,location:{start:{line:0,column:0},end:{line:0,column:0}},explain:()=>a,elaborate:()=>""}),{status:"error",context:t};if(i.warnings.length>0)return{status:"finished",context:t,value:{toReplString:()=>`Compilation and program execution successful with the following warning(s):
${i.warnings.join("\n")}`}};if(null===ao)return{status:"finished",context:t,value:{toReplString:()=>"Compilation and program execution successful."}};return{status:"finished",context:t,value:ao}}catch(e){return console.log(e),i=e.message,t.errors.push({type:eM.ErrorType.RUNTIME,severity:eM.ErrorSeverity.ERROR,location:{start:{line:0,column:0},end:{line:0,column:0}},explain:()=>i,elaborate:()=>""}),{status:"error"}}}function*aj(e,t,a,i,s,n,r){if(yield(0,en.Lt)(aT.n))return yield(0,en.T1)(aN,e,t,a,i,n,s,r);a.runtime.debuggerOn=(s===W.A.evalEditor.type||s===V.A.debuggerResume.type)&&a.chapter>2;let o=s===eS.o.evalStory.type||"stories"===n,l=e[t],{currentStep:d,cseIsActive:u,isFolderModeEnabled:h,needUpdateCse:m,stepLimit:g,substIsActive:y}=yield*function*(){let e=yield*(0,eI.Iu)(n),t=(0,c.pick)(e,["isFolderModeEnabled","stepLimit"]);if("sicp"===n||"playground"===n){let{currentStep:e,updateCse:a,usingCse:i,usingSubst:s}=yield*(0,eI.Iu)(n);return{...t,currentStep:a?-1:e,cseIsActive:i,needUpdateCse:a,substIsActive:s}}if(o){let{usingSubst:e}=yield*(0,eI.BI)(r);return{...t,currentStep:-1,cseIsActive:!1,needUpdateCse:!1,substIsActive:e}}return{...t,currentStep:-1,cseIsActive:!1,needUpdateCse:!1,substIsActive:!1}}(),f=((0,p.qq)(a.chapter)||a.chapter>=eM.Chapter.SOURCE_3)&&u;f&&(a.executionMethod="cse-machine"),(a.chapter===eM.Chapter.FULL_JS||a.chapter===eM.Chapter.FULL_TS)&&(yield(0,en.T1)([ap.A,ap.A.attachConsole],n));let{result:b,interrupted:x,paused:v}=yield(0,en.O4)({result:yield*function*(){if(s===V.A.debuggerResume.type){let{lastDebuggerResult:e}=yield*(0,eI.Iu)(n);return(0,en.T1)(t0.resume,e)}if(a.variant===eM.Variant.WASM)return(0,en.T1)(aE,l,a,s===W.A.evalRepl.type);switch(a.chapter){case eM.Chapter.FULL_C:return(0,en.T1)(a_,l,a);case eM.Chapter.FULL_JAVA:{let{usingCse:e,usingUpload:t,files:i}=yield*(0,eI.Iu)("playground");return(0,en.T1)(ag,l,a,d,e,{uploadIsActive:t,uploads:i})}}let r=a.chapter<=eM.Chapter.SOURCE_2&&y;return(0,en.T1)(t0.runFilesInContext,h?e:{[t]:e[t]},t,a,{originalMaxExecTime:i,stepLimit:g,throwInfiniteLoops:!0,useSubst:r,envSteps:d,executionMethod:f?"cse-machine":"auto"})}(),interrupted:(0,en.s)(V.A.beginInterruptExecution.type),paused:(0,en.s)(V.A.beginDebuggerPause.type)});if(x){(0,t0.interrupt)(a),a.errors.push(new t1.InterruptedError(a.runtime.nodes[0])),yield(0,en.yJ)(eS.o.debuggerReset(n)),yield(0,en.yJ)(eS.o.endInterruptExecution(n)),yield(0,en.T1)(ed.JB,"Execution aborted",750);return}if(v){yield(0,en.yJ)(eS.o.endDebuggerPause(n)),yield(0,en.T1)(aI,n),yield(0,en.T1)(ed.JB,"Execution paused",750);return}if(s===W.A.evalEditor.type&&(yield(0,en.yJ)(eS.o.updateLastDebuggerResult(b,n))),o||(yield(0,en.T1)(aI,n)),"suspended-cse-eval"===b.status){yield(0,en.yJ)(eS.o.endDebuggerPause(n)),yield(0,en.yJ)(eS.o.evalInterpreterSuccess("Breakpoint hit!",n));return}if("finished"!==b.status){if(yield*aC(n,o,r),o)yield(0,en.yJ)(eS.o.evalStoryError(a.errors,r));else{let e=function(e){if(1!==e.length)return null;let t=e[0];return"string"==typeof t.error&&aP.includes(t.error)?t.error:null}(a.errors);null!==e?"source_academy_interrupt"===e?yield*function*(e,t,a){yield(0,en.yJ)(eS.o.evalInterpreterSuccess("Program has been interrupted by module",a)),e.errors=[],yield(0,en.yJ)(eS.o.notifyProgramEvaluated(null,null,t,e,a))}(a,l,n):yield(0,en.yJ)(eS.o.evalInterpreterError(a.errors,n)):(yield(0,en.yJ)(eS.o.evalInterpreterError(a.errors,n)),"cse-machine"===a.executionMethod&&m&&(yield(0,en.yJ)(eS.o.updateStepsTotal(a.runtime.envStepsTotal+1,n)),yield(0,en.yJ)(eS.o.toggleUpdateCse(!1,n)),yield(0,en.yJ)(eS.o.updateBreakpointSteps(a.runtime.breakpointSteps,n)),yield(0,en.yJ)(eS.o.updateChangePointSteps(a.runtime.changepointSteps,n))))}let e=a.errors.length>0?[e3.Bx.ERROR]:[];yield(0,en.yJ)(eS.o.addEvent(e));return}if(yield*aC(n,o,r),s===W.A.evalEditor.type&&"assessment"===n){let e=[...(0,at.OH)(l,aa.ACORN_PARSE_OPTIONS)].length;yield(0,en.yJ)(eS.o.setTokenCount(n,e))}s!==aS&&(o?yield(0,en.yJ)(eS.o.evalStorySuccess(b.value,r)):yield(0,en.yJ)(eS.o.evalInterpreterSuccess(b.value,n)));let T=yield(0,en.Lt)(e=>e.workspaces[n].lastDebuggerResult);(s===W.A.evalEditor.type||s===W.A.evalRepl.type||s===V.A.debuggerResume.type)&&(a.errors.length>0&&(yield(0,en.yJ)(eS.o.addEvent([e3.Bx.ERROR]))),yield(0,en.yJ)(W.A.notifyProgramEvaluated(b,T,l,a,n))),o&&(yield(0,en.yJ)(N.A.notifyStoriesEvaluated(b,T,l,a,r))),"cse-machine"===a.executionMethod&&m&&(yield(0,en.yJ)(eS.o.updateStepsTotal(a.runtime.envStepsTotal,n)),yield(0,en.yJ)(eS.o.toggleUpdateCse(!1,n)),yield(0,en.yJ)(eS.o.updateBreakpointSteps(a.runtime.breakpointSteps,n)),yield(0,en.yJ)(eS.o.updateChangePointSteps(a.runtime.changepointSteps,n))),"cse-machine"===a.executionMethod&&("stories"!==n?yield(0,en.yJ)(eS.o.removeSideContentAlert("introduction",n)):yield(0,en.yJ)(eS.o.removeSideContentAlert("introduction",`stories.${r}`)))}function*ak(e,t){let a=(0,h.Od)(t=>(e.receiveOutput=t,()=>{e.receiveOutput===t&&delete e.receiveOutput}));try{for(;;){let e=yield(0,en.s)(a);yield(0,en.yJ)(eS.o.handleConsoleLog(t,e))}}finally{(yield(0,en.KW)())&&a.close()}}function*aN(e,t,a,i,s,n,r){let o;if(yield(0,en.Lt)(aw.n)){let e=yield(0,en.T1)(tw);if(!e?.path)throw Error("no evaluator");o=e.path}else o=yield(0,en.Lt)(aA.Q);let l=yield(0,en.T1)(fetch,o);if(!l.ok)throw Error("can't get evaluator");let d=yield(0,en.T1)([l,"blob"]),c=yield(0,en.T1)(URL.createObjectURL,d),{hostPlugin:u,conduit:h}=yield(0,en.T1)(av,c,async t=>e[t],e=>{}),p=yield(0,en.Zy)(ak,u,s);for(yield(0,en.T1)([u,"startEvaluator"],t);;){let{stop:e}=yield(0,en.O4)({repl:(0,en.s)(eS.o.evalRepl.type),stop:(0,en.s)(eS.o.beginInterruptExecution.type)});if(e)break;let t=yield(0,en.Lt)(e=>e.workspaces[s].replValue);yield(0,en.yJ)(eS.o.sendReplInputToOutput(t,s)),yield(0,en.yJ)(eS.o.clearReplInput(s)),yield(0,en.T1)([u,"sendChunk"],t)}yield(0,en.T1)([h,"terminate"]),yield(0,en.ZT)(p),yield(0,en.yJ)(eS.o.endInterruptExecution(s)),console.log("killed"),yield(0,en.T1)(URL.revokeObjectURL,c)}let aP=["source_academy_interrupt"],aR=(0,ew.zA)({[N.A.getStoriesList.type]:{takeLatest:function*(){let e=yield eE(),t=yield(0,en.T1)(async()=>await eg(e)??[]);yield(0,en.yJ)(eS.o.updateStoriesList(t))}},[N.A.setCurrentStoryId.type]:function*(e){let t=yield eE(),a=e.payload;if(a){let e=yield(0,en.T1)(ey,t,a);yield(0,en.yJ)(eS.o.setCurrentStory(e))}else{let e={title:"",content:t7.kp,pinOrder:null};yield(0,en.yJ)(eS.o.setCurrentStory(e))}},[N.A.createStory.type]:function*(e){let t=yield eE(),a=e.payload,i=yield(0,en.Lt)(e=>e.stories.userId);if(void 0===i)return void(yield(0,en.T1)(ed.JB,"Failed to create story: Invalid user"));let s=yield(0,en.T1)(ef,t,i,a.title,a.content,a.pinOrder);s&&(yield(0,en.yJ)(eS.o.setCurrentStoryId(s.id))),yield(0,en.yJ)(eS.o.getStoriesList())},[N.A.saveStory.type]:function*(e){let t=yield eE(),{story:a,id:i}=e.payload,s=yield(0,en.T1)(eb,t,i,a.title,a.content,a.pinOrder);s&&(yield(0,en.yJ)(eS.o.setCurrentStory(s))),yield(0,en.yJ)(eS.o.getStoriesList())},[N.A.deleteStory.type]:function*(e){let t=yield eE(),a=e.payload;yield(0,en.T1)(ex,t,a),yield(0,en.yJ)(eS.o.getStoriesList())},[N.A.getStoriesUser.type]:function*(){let e=yield eE(),t=yield(0,en.T1)(ep,e);if(!t){yield(0,en.yJ)(eS.o.setCurrentStoriesUser(void 0,void 0)),yield(0,en.yJ)(eS.o.setCurrentStoriesGroup(void 0,void 0,void 0));return}yield(0,en.yJ)(eS.o.setCurrentStoriesUser(t.id,t.name)),yield(0,en.yJ)(eS.o.setCurrentStoriesGroup(t.groupId,t.groupName,t.role))},[N.A.evalStory.type]:function*(e){let t=e.payload.env,a=e.payload.code,i=yield(0,en.Lt)(e=>e.stories.envs[t].execTime),s=yield(0,en.Lt)(e=>e.stories.envs[t].context),n="/code.js";yield(0,en.yJ)((0,D.SS)(`stories.${t}`)),yield(0,en.T1)(aj,{[n]:a},n,s,i,e.type,"stories",t)},[N.A.fetchAdminPanelStoriesUsers.type]:function*(e){let t=yield eE(),a=yield(0,en.T1)(ev,t);a&&(yield(0,en.yJ)(eS.o.setAdminPanelStoriesUsers(a)))},[ee.A.updateStoriesUserRole.type]:function*(e){let t=yield eE(),{userId:a,role:i}=e.payload;(yield(0,en.T1)(eT,t,a,i))&&(yield(0,en.yJ)(eS.o.fetchAdminPanelStoriesUsers()),yield(0,en.T1)(ed.uT,"Role updated!"))},[ee.A.deleteStoriesUserUserGroups.type]:function*(e){let t=yield eE(),{userId:a}=e.payload;(yield(0,en.T1)(eA,t,a))&&(yield(0,en.yJ)(eS.o.fetchAdminPanelStoriesUsers()),yield(0,en.T1)(ed.uT,"Stories user deleted!"))}});var aL=a(4440),aM=a.n(aL),aO=a(4874),aD=a(98876),aU=a(96249),aF=a(49900);function*aG(e,t,a,i,s){let n=(0,Y.FX)(e,t);if(s){let t=(0,Y.$L)(n,s),r="/storeValues.js";yield(0,en.T1)(aj,{[r]:t},r,e,a,aS,i)}let r=(0,Y.rh)(n),o="/nullifier.js";yield(0,en.T1)(aj,{[o]:r},o,e,a,aS,i)}var az=a(72712);function*aB(e,t){let{context:{chapter:a,externalSymbols:i,variant:s},externalLibrary:n,globals:r}=yield*(0,eI.Iu)(e);yield(0,en.yJ)(eS.o.beginClearContext(e,{chapter:a,variant:s,external:{name:n,symbols:i},globals:r},!1)),yield(0,en.s)(W.A.endClearContext.type);let o=yield(0,en.Lt)(t=>t.workspaces[e].context);(0,az.defineSymbol)(o,"__PROGRAM__",t)}var aH=a(32256);function*aV(e){let t,{activeEditorTabIndex:a,programPrependValue:i,editorTabs:s,execTime:n,isFolderModeEnabled:r}=yield*(0,eI.Iu)(e),[o,l]=yield(0,en.Lt)(e=>[e.fileSystem.inBrowserFileSystem,e.session.remoteExecutionSession]);if(null===a)throw Error("Cannot evaluate program without an entrypoint file.");let d=`${aD.V[e]}/program.js`;t=r?yield(0,en.T1)(tW.xe,e,o):{[d]:s[a].value};let c=s[a].filePath??d;if(yield(0,en.yJ)(eS.o.addEvent([e3.Bx.RUN_CODE])),l&&l.workspace===e)yield(0,en.yJ)(eS.o.remoteExecRun(t,c));else{yield(0,en.yJ)(eS.o.beginInterruptExecution(e));let a=t[c];yield*aB(e,a),yield(0,en.yJ)(eS.o.clearReplOutput(e));let r=yield(0,en.Lt)(t=>t.workspaces[e].context);for(let a of s){let i=a.filePath??d,s=a.value,n=a.breakpoints;t[i]=yield*function*(e,t,a,i){if((0,p.Kd)(i.chapter)&&(0,aH.parse)(t,i),i.errors.length>0)return i.errors=[],t;let s=t.split("\n"),n=t;for(let r=0;r<a.length;r++)if(a[r]&&(s[r]="debugger;"+s[r],n=s.join("\n"),(0,p.Kd)(i.chapter)&&(0,aH.parse)(n,i),i.errors.length>0)){let a=`Hint: Misplaced breakpoint at line ${r+1}.`;return yield(0,en.yJ)(eS.o.sendReplInputToOutput(a,e)),t}return n}(e,s,n,r)}if(i.length){let t=(0,Y.ms)(r),a="/prepend.js";yield(0,en.T1)(aj,{[a]:i},a,t,n,aS,e),yield*aG(t,r,n,e)}yield(0,en.T1)(aj,t,c,r,n,W.A.evalEditor.type,e)}}function*aJ(e,t){let{editorTabs:{0:{value:a}},editorTestcases:{[t]:{program:i,type:s}},execTime:n,programPrependValue:r,programPostpendValue:o}=yield*(0,eI.Iu)(e);yield*aB(e,a);let l=yield(0,en.Lt)(t=>t.workspaces[e].context),d=(0,Y.ms)(l),u="/prepend.js";yield(0,en.T1)(aj,{[u]:r},u,d,n,aS,e);let h=String((0,c.random)(1048576,0x1000000000));yield*aG(d,l,n,e,h);let p="/value.js";if(yield(0,en.T1)(aj,{[p]:a},p,l,n,aS,e),l.errors.length)return yield(0,en.yJ)(eS.o.evalTestcaseFailure(l.errors,e,t)),!1;if(o){yield*function*(e,t,a,i,s){let n=(0,Y.FX)(e,t),r=(0,Y.wA)(n,s),o="/restorer.js";yield(0,en.T1)(aj,{[o]:r},o,e,a,aS,i)}(d,l,n,e,h);let t="/postpend.js";yield(0,en.T1)(aj,{[t]:o},t,d,n,aS,e),yield*aG(d,l,n,e,h)}return yield*function*(e,t,a,i,s,n){yield(0,en.yJ)(eS.o.resetTestcase(i,s));let{result:r,interrupted:o}=yield(0,en.O4)({result:(0,en.T1)(t0.runInContext,e,t,{originalMaxExecTime:a,throwInfiniteLoops:!0}),interrupted:(0,en.s)(V.A.beginInterruptExecution.type)});if(o){(0,t0.interrupt)(t),yield*aC(i),t.errors.push(new t1.InterruptedError(t.runtime.nodes[0])),yield(0,en.yJ)(eS.o.endInterruptExecution(i)),yield(0,en.T1)(ed.JB,`Execution of testcase ${s} aborted`,750);return}yield*aC(i),"error"===r.status?(yield(0,en.yJ)(eS.o.evalInterpreterError(t.errors,i)),yield(0,en.yJ)(eS.o.evalTestcaseFailure(t.errors,i,s))):"finished"===r.status&&(yield(0,en.yJ)(eS.o.evalInterpreterSuccess(r.value,i)),yield(0,en.yJ)(eS.o.evalTestcaseSuccess(r.value,i,s))),"opaque"===n&&(yield(0,en.yJ)(eS.o.clearReplOutputLast(i)))}(i,d,n,e,t,s),!0}let aY=(0,ew.zA)({[W.A.addHtmlConsoleError.type]:function*(e){e.payload.storyEnv?yield(0,en.yJ)(eS.o.handleStoriesConsoleLog(e.payload.storyEnv,e.payload.errorMsg)):yield(0,en.yJ)(eS.o.handleConsoleLog(e.payload.workspaceLocation,e.payload.errorMsg))},[W.A.toggleFolderMode.type]:function*(e){let t=e.payload.workspaceLocation,a=yield(0,en.Lt)(e=>e.workspaces[t].isFolderModeEnabled);yield(0,en.yJ)(eS.o.setFolderMode(t,!a));let i=`Folder mode ${!a?"enabled":"disabled"}`;yield(0,en.T1)(ed.JB,i,750)},[W.A.setFolderMode.type]:function*(e){let t=e.payload.workspaceLocation,{editorTabs:a,isFolderModeEnabled:i}=yield*(0,eI.Iu)(t);if(!i&&0===a.length){let e=`${aD.V[t]}/program.js`,a=yield(0,en.Lt)(e=>e.fileSystem.inBrowserFileSystem);if(null===a)return void(yield(0,en.yJ)(eS.o.addEditorTab(t,e,p.MP)));let i=yield new Promise((t,i)=>{a.exists(e,s=>{s?a.readFile(e,"utf-8",(e,a)=>{e?i(e):void 0===a?i(Error("File exists but has no contents.")):t(a)}):(0,tW.Xz)(a,e,p.MP).then(()=>t(p.MP)).catch(e=>i(e))})});yield(0,en.yJ)(eS.o.addEditorTab(t,e,i))}},[W.A.updateEditorValue.type]:function*(e){let t=e.payload.workspaceLocation,a=e.payload.editorTabIndex,i=yield(0,en.Lt)(e=>e.workspaces[t].editorTabs[a].filePath);if(void 0===i)return;let s=yield(0,en.Lt)(e=>e.fileSystem.inBrowserFileSystem);null!==s&&s.writeFile(i,e.payload.newEditorValue,e=>{e&&console.error(e)})},[W.A.evalEditor.type]:({payload:{workspaceLocation:e}})=>aV(e),[W.A.promptAutocomplete.type]:function*(e){let t,a=e.payload.workspaceLocation,{activeEditorTabIndex:i,editorTabs:s,context:n,externalLibrary:r,programPrependValue:o}=yield*(0,eI.Iu)(a),l=s[i??0].value,d=0;o?(d=o.split("\n").length,t=o+"\n"+l):t=l;let[c,u]=yield(0,en.T1)(t0.getNames,t,e.payload.row+d,e.payload.column,n);if(!u)return void(yield(0,en.T1)(e.payload.callback));let h=c.map(e=>({...e,caption:e.name,value:e.name,score:e.score?e.score+1e3:1e3,name:void 0})),p=n.chapter.toString(),m=n.variant??eM.Variant.DEFAULT;m!==eM.Variant.DEFAULT&&(p+="_"+m);let g=aU.H.builtins[p]||[],y=aU.H.externalLibraries[r]||[];yield(0,en.T1)(e.payload.callback,null,h.concat(g,y))},[W.A.toggleEditorAutorun.type]:function*(e){let t=e.payload.workspaceLocation,a=yield(0,en.Lt)(e=>e.workspaces[t].isEditorAutorun);yield(0,en.T1)(ed.JB,"Autorun "+(a?"Started":"Stopped"),750)},[W.A.evalRepl.type]:function*(e){if(yield(0,en.Lt)(aT.n))return;let t=e.payload.workspaceLocation,{replValue:a,execTime:i}=yield*(0,eI.Iu)(t);yield(0,en.yJ)(eS.o.beginInterruptExecution(t)),yield(0,en.yJ)(eS.o.clearReplInput(t)),yield(0,en.yJ)(eS.o.sendReplInputToOutput(a,t));let s=yield(0,en.Lt)(e=>e.workspaces[t].context);s.errors=[];let n="/code.js";yield(0,en.T1)(aj,{[n]:a},n,s,i,W.A.evalRepl.type,t)},[V.A.debuggerResume.type]:function*(e){let t=e.payload.workspaceLocation,a=yield(0,en.Lt)(e=>e.workspaces[t].editorTabs[0].value),i=yield(0,en.Lt)(e=>e.workspaces[t].execTime);yield(0,en.yJ)(eS.o.beginInterruptExecution(t)),yield(0,en.yJ)(eS.o.clearReplOutput(t));let s=yield(0,en.Lt)(e=>e.workspaces[t].context);yield(0,en.yJ)(eS.o.setEditorHighlightedLines(t,0,[]));let n="/code.js";yield(0,en.T1)(aj,{[n]:a},n,s,i,V.A.debuggerResume.type,t)},[V.A.debuggerReset.type]:function*(e){let t=e.payload.workspaceLocation,a=yield(0,en.Lt)(e=>e.workspaces[t].context);yield(0,en.yJ)(eS.o.clearReplOutput(t)),yield(0,en.yJ)(eS.o.setEditorHighlightedLines(t,0,[])),a.runtime.break=!1,yield(0,en.yJ)(eS.o.updateLastDebuggerResult(void 0,t))},[W.A.setEditorHighlightedLines.type]:function*({payload:{newHighlightedLines:e}}){if(0===e.length)yield(0,en.T1)(Y.eq);else try{for(let[t,a]of e)for(let e=t;e<=a;e++)yield(0,en.T1)(Y.NK,e)}catch(e){}},[W.A.setEditorHighlightedLinesControl.type]:function*({payload:{newHighlightedLines:e}}){if(0===e.length)yield(0,en.T1)(Y.kd);else try{for(let[t,a]of e)for(let e=t;e<=a;e++)yield(0,en.T1)(Y.jP,e)}catch(e){}},[W.A.evalTestcase.type]:function*(e){let t=e.payload.workspaceLocation;if("stories"===t)return;yield(0,en.yJ)(eS.o.addEvent([e3.Bx.RUN_TESTCASE],t));let a=e.payload.testcaseId;yield*aJ(t,a)},[W.A.chapterSelect.type]:function*(e){let{workspaceLocation:t,chapter:a,variant:i}=e.payload,[s,n,r,o,l]=yield(0,en.Lt)(e=>[e.workspaces[t].context.variant,e.workspaces[t].context.chapter,e.workspaces[t].context.externalSymbols,e.workspaces[t].globals,e.workspaces[t].externalLibrary]),d=a!==n||i!==s;(a===eM.Chapter.FULL_JS?d&&(yield(0,en.T1)(aF.fn)):a===eM.Chapter.FULL_TS?d&&(yield(0,en.T1)(aF.x7)):d)&&(yield(0,en.yJ)(eS.o.beginClearContext(t,{chapter:a,variant:i,external:{name:l,symbols:r},globals:o},!1)),yield(0,en.yJ)(eS.o.clearReplOutput(t)),yield(0,en.yJ)(eS.o.debuggerReset(t)),"stories"!==t&&(yield(0,en.yJ)(eS.o.resetSideContent(t))),yield(0,en.T1)(ed.uT,`Switched to ${(0,p.Kl)(a,i)}`,1e3))},[W.A.externalLibrarySelect.type]:function*(e){let{workspaceLocation:t,externalLibraryName:a}=e.payload,[i,s,n]=yield(0,en.Lt)(e=>[e.workspaces[t].context.chapter,e.workspaces[t].globals,e.workspaces[t].externalLibrary]),r=eO.r.get(a);(a!==n||e.payload.initialise)&&(yield(0,en.yJ)(eS.o.changeExternalLibrary(a,t)),yield(0,en.yJ)(eS.o.beginClearContext(t,{chapter:i,external:{name:a,symbols:r},globals:s},!0)),yield(0,en.yJ)(eS.o.clearReplOutput(t)),e.payload.initialise||(yield(0,en.T1)(ed.uT,`Switched to ${a} library`,1e3)))},[W.A.beginClearContext.type]:function*(e){for(let[t,a]of(yield(0,en.T1)([aO.A,aO.A.clear]),yield(0,en.T1)([tJ.A,tJ.A.clear]),e.payload.library.globals))window[t]=a;yield(0,en.yJ)(eS.o.endClearContext({...e.payload.library,moduleParams:{runes:{},phaser:aM()}},e.payload.workspaceLocation)),yield},[W.A.navigateToDeclaration.type]:function*(e){let t=e.payload.workspaceLocation,a=yield(0,en.Lt)(e=>e.workspaces[t].editorTabs[0].value),i=yield(0,en.Lt)(e=>e.workspaces[t].context),s=(0,t0.findDeclaration)(a,i,{line:e.payload.cursorPosition.row+1,column:e.payload.cursorPosition.column});s&&(yield(0,en.yJ)(eS.o.moveCursor(e.payload.workspaceLocation,0,{row:s.start.line-1,column:s.start.column})))},[W.A.runAllTestcases.type]:{takeLeading:function*(e){let{workspaceLocation:t}=e.payload;yield(0,en.T1)(aV,t);let a=yield(0,en.Lt)(e=>e.workspaces[t].editorTestcases);if(a.length>0){for(let e of(yield(0,en.T1)(ed.uT,"Running all testcases!",2e3),a.keys()))if(yield new Promise(e=>setTimeout(e,0)),!(yield(0,en.T1)(aJ,t,e)))return}}}});function*aW(){yield(0,en.Q7)([(0,en.Zy)($.A.useBackend?eL:e2),(0,en.Zy)(aY),(0,en.Zy)(tj),(0,en.Zy)(tX),(0,en.Zy)(e6),(0,en.Zy)(tI),(0,en.Zy)(tR),(0,en.Zy)(tv),(0,en.Zy)(t8),(0,en.Zy)(aR),(0,en.Zy)(t9),(0,en.Zy)(e9),(0,en.Zy)(tC),(0,en.Zy)(tQ)])}var aX=a(22326);(0,d.ht)(!1);let a$=(n=[s=(0,h.Ay)()],r=function(e){if(e)return{...p.n6,session:{...p.n6.session,...e.session?e.session:{},githubOctokitObject:{octokit:e.session.githubAccessToken?(0,aX.g)(e.session.githubAccessToken):void 0}},featureFlags:{modifiedFlags:{...p.n6.featureFlags.modifiedFlags,...e.featureFlags}},workspaces:{...p.n6.workspaces,playground:{...p.n6.workspaces.playground,isFolderModeEnabled:e.playgroundIsFolderModeEnabled?e.playgroundIsFolderModeEnabled:p.n6.workspaces.playground.isFolderModeEnabled,activeEditorTabIndex:e.playgroundActiveEditorTabIndex?e.playgroundActiveEditorTabIndex.value:p.n6.workspaces.playground.activeEditorTabIndex,editorTabs:e.playgroundEditorTabs?e.playgroundEditorTabs:p.n6.workspaces.playground.editorTabs,isEditorAutorun:e.playgroundIsEditorAutorun?e.playgroundIsEditorAutorun:p.n6.workspaces.playground.isEditorAutorun,externalLibrary:e.playgroundExternalLibrary?e.playgroundExternalLibrary:p.n6.workspaces.playground.externalLibrary,context:{...p.n6.workspaces.playground.context,chapter:e.playgroundSourceChapter?e.playgroundSourceChapter:p.n6.workspaces.playground.context.chapter,variant:e.playgroundSourceVariant?e.playgroundSourceVariant:p.n6.workspaces.playground.context.variant}}},stories:{...p.n6.stories,...e.stories}}}((()=>{try{let e=localStorage.getItem("storedState");if(!e)return;let t=(0,tH.decompressFromUTF16)(e);if(!t)return;return JSON.parse(t)}catch(e){(0,ed.JB)("Error loading from local storage");return}})())||p.n6,o=(0,l.U1)({reducer:es,middleware:n,devTools:{serialize:!0,maxAge:300},preloadedState:r}),s.run(aW),o.subscribe((0,c.throttle)(()=>{var e=o.getState();try{let t={session:{accessToken:e.session.accessToken,refreshToken:e.session.refreshToken,courseRegId:e.session.courseRegId,role:e.session.role,group:e.session.group,name:e.session.name,userId:e.session.userId,courses:e.session.courses,courseId:e.session.courseId,courseName:e.session.courseName,courseShortName:e.session.courseShortName,viewable:e.session.viewable,enableGame:e.session.enableGame,enableAchievements:e.session.enableAchievements,enableOverallLeaderboard:e.session.enableContestLeaderboard,enableContestLeaderboard:e.session.enableOverallLeaderboard,topLeaderboardDisplay:e.session.topLeaderboardDisplay,topContestLeaderboardDisplay:e.session.topContestLeaderboardDisplay,enableSourcecast:e.session.enableSourcecast,enableStories:e.session.enableStories,moduleHelpText:e.session.moduleHelpText,assetsPrefix:e.session.assetsPrefix,assessmentConfigurations:e.session.assessmentConfigurations,githubAccessToken:e.session.githubAccessToken},achievements:e.achievement.achievements,featureFlags:e.featureFlags.modifiedFlags,playgroundIsFolderModeEnabled:e.workspaces.playground.isFolderModeEnabled,playgroundActiveEditorTabIndex:{value:e.workspaces.playground.activeEditorTabIndex},playgroundEditorTabs:e.workspaces.playground.editorTabs,playgroundIsEditorAutorun:e.workspaces.playground.isEditorAutorun,playgroundSourceChapter:e.workspaces.playground.context.chapter,playgroundSourceVariant:e.workspaces.playground.context.variant,playgroundLanguage:e.playground.languageConfig,playgroundExternalLibrary:e.workspaces.playground.externalLibrary,stories:{userId:e.stories.userId,groupId:e.stories.groupId,role:e.stories.role}},a=(0,tH.compressToUTF16)(JSON.stringify(t));localStorage.setItem("storedState",a)}catch(e){(0,ed.JB)("Error saving to local storage")}},1e3)),o)},98876:function(e,t,a){"use strict";a.d(t,{V:()=>r,x:()=>o});var i=a(99658),s=a(29924),n=a(73989);let r={assessment:"",grading:"",playground:"/playground",sicp:"/sicp",sourcecast:"",sourcereel:"",stories:""},o=e=>new Promise((t,a)=>{(0,i.configure)({fs:"MountableFileSystem",options:{[r.playground]:{fs:"IndexedDB",options:{storeName:"playground"}},[r.sicp]:{fs:"IndexedDB",options:{storeName:"sicp"}}}},n=>{if(n)return void a(n);let r=(0,i.BFSRequire)("fs");e.dispatch((0,s.setInBrowserFileSystem)(r));let o=e.getState().workspaces,d=[];for(let[,e]of Object.entries(o)){let t=e.editorTabs;d.push(l(r,t))}Promise.all(d).then(()=>t()).catch(e=>a(e))})}),l=async(e,t)=>{let a=t.filter(e=>void 0!==e.filePath).map(t=>new Promise((a,i)=>{e.exists(t.filePath,s=>{s?a():(0,n.Xz)(e,t.filePath,t.value).then(()=>a()).catch(e=>i(e))})}));await Promise.all(a)}},79931:function(e,t,a){"use strict";a.d(t,{wY:()=>eP,ik:()=>eL,fM:()=>eM,sA:()=>ek,mv:()=>eN,Lf:()=>eR});var i=a(74848),s=a(66314),n=a(48299),r=a(64907),o=a(35505),l=a(40249),d=a(87497),c=a(53991),u=a(39798),h=a(52344),p=a(53978),m=a.n(p),g=a(96540),y=a(83509),f=a(94894);let b=()=>(0,i.jsx)("div",{style:{margin:"2em 1em"},children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"board-Layer_1","data-name":"Layer 1",viewBox:"0 0 110.73 170.04",width:"138.92260644554224",height:"213.33333333333334",children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"board-linear-gradient",x1:"-374.89",y1:"432.9",x2:"-374.89",y2:"432.82",gradientTransform:"matrix(110.73 0 0 -106.94 41567.45 46425.3)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#f1f1f1"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#7a7a7a"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-2",x1:"-376",y1:"450.74",x2:"-376",y2:"450.72",gradientTransform:"matrix(100.11 0 0 -79.18 37697.19 35762.28)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#a8aaa8"}),(0,i.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-3",x1:"-376.21",y1:"614.94",x2:"-376.21",y2:"614.75",gradientTransform:"matrix(98.29 0 0 -23.36 37033.43 14529.9)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#a8aaa8"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#535453"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-black",x1:"-382.07",y1:"493.36",x2:"-382.07",y2:"494.25",gradientTransform:"matrix(65.53 0 0 -48.84 25091.11 24228.69)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#6a6a6a"}),(0,i.jsx)("stop",{offset:".52",stopColor:"#6a6a6a"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#6a6a6a"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-green",x2:"145",y2:"48",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#6a6a6a"}),(0,i.jsx)("stop",{offset:".52",stopColor:"#8CE300"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#6a6a6a"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-red",x2:"145",y2:"48",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#6a6a6a"}),(0,i.jsx)("stop",{offset:".52",stopColor:"#D02E26"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#6a6a6a"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-orange",x2:"145",y2:"48",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#6a6a6a"}),(0,i.jsx)("stop",{offset:".52",stopColor:"#F8D039"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#6a6a6a"})]}),(0,i.jsxs)("linearGradient",{id:"board-linear-gradient-5",x1:"-743.87",y1:"1256.85",x2:"-743.87",y2:"1257.21",gradientTransform:"matrix(3.03 0 0 -6.22 2312.41 7891.56)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#757575"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#393939"})]}),(0,i.jsx)("clipPath",{id:"board-clip-path",children:(0,i.jsx)("path",{fill:"none",d:"M86.48 149.58h12.38v12.38H86.48z"})})]}),(0,i.jsxs)("g",{id:"board-EV3",children:[(0,i.jsxs)("g",{id:"board-brick",children:[(0,i.jsx)("path",{id:"board-ev3_body_2","data-name":"ev3 body 2",d:"M2 31.7h106.76a2 2 0 0 1 2 2v103a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-103a2 2 0 0 1 2-2z",fill:"url(#board-linear-gradient)"}),(0,i.jsx)("path",{id:"board-ev3_body_1","data-name":"ev3 body 1",d:"M8.19 127.57h94.35a2 2 0 0 1 2 2v38.53a2 2 0 0 1-2 2H8.19a2 2 0 0 1-2-2v-38.56a2 2 0 0 1 2-2z",fill:"#f1f1f1"}),(0,i.jsx)("path",{id:"board-ev3_screen_grey","data-name":"ev3 screen grey",d:"M7.28 0h96.17a2 2 0 0 1 2 2v75.21a2 2 0 0 1-2 2H7.28a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z",fill:"url(#board-linear-gradient-2)"}),(0,i.jsx)("path",{id:"board-ev3_screenborder","data-name":"ev3 screenborder",d:"M18.2 10.47h74.48a3.79 3.79 0 0 1 3.79 3.79v41.86a3.8 3.8 0 0 1-3.79 3.8H18.2a3.8 3.8 0 0 1-3.79-3.8V14.26a3.79 3.79 0 0 1 3.79-3.79z",fill:"#393939"}),(0,i.jsx)("path",{id:"board-ev3_screen","data-name":"ev3 screen",d:"M24 12.44h63.22A2.73 2.73 0 0 1 90 15.17v40.35a2.73 2.73 0 0 1-2.73 2.73H24a2.73 2.73 0 0 1-2.73-2.73V15.17A2.73 2.73 0 0 1 24 12.44z",fill:"#97b5a6"}),(0,i.jsx)("path",{id:"board-ev3_grey_buttom","data-name":"ev3 grey buttom",d:"M6.22 146.68h98.29v21.39a2 2 0 0 1-2 2H8.19a2 2 0 0 1-2-2z",fill:"url(#board-linear-gradient-3)"})]}),(0,i.jsxs)("g",{id:"board-buttons",children:[(0,i.jsx)("path",{id:"board-btn_grey","data-name":"btn grey",d:"M48.69 133.94c-5.58-5.39-14.26-14.26-14.26-14.26v-1.82H31a8.27 8.27 0 1 1 0-16.53h3.41V99.5l14.13-14.41h14.11C69 91.61 76.75 99.2 76.75 99.2v2.13H80a8.27 8.27 0 1 1 0 16.53h-3.25v1.82c-7.51 7.73-14 14.26-14 14.26z",fill:"#6a6a6a"}),(0,i.jsx)("path",{id:"board-btn_color","data-name":"btn color",d:"M48.69 133.94c-5.58-5.39-14.26-14.26-14.26-14.26v-1.82H31a8.27 8.27 0 1 1 0-16.53h3.41V99.5l14.13-14.41h14.11C69 91.61 76.75 99.2 76.75 99.2v2.13H80a8.27 8.27 0 1 1 0 16.53h-3.25v1.82c-7.51 7.73-14 14.26-14 14.26z",fill:"url(#board-linear-gradient-black)",style:{fill:'url("#board-linear-gradient-black")'}}),(0,i.jsx)("path",{id:"board-btn_left","data-name":"btn left",d:"M30.87 103.3h10.39v12.28H30.87a6.14 6.14 0 0 1-6.14-6.14 6.14 6.14 0 0 1 6.14-6.14z",fill:"#a8aaa8",className:"sim-button"}),(0,i.jsx)("path",{id:"board-btn_right","data-name":"btn right",d:"M80 115.58H69.62V103.3H80a6.14 6.14 0 0 1 6.15 6.14 6.14 6.14 0 0 1-6.15 6.14z",fill:"#a8aaa8",className:"sim-button"}),(0,i.jsx)("path",{id:"board-btn_enter","data-name":"btn enter",d:"M49.45 103.3h12a.46.46 0 0 1 .46.45v11.38a.46.46 0 0 1-.46.45h-12a.46.46 0 0 1-.46-.45v-11.38a.46.46 0 0 1 .46-.45z",fill:"#393939",className:"sim-button"}),(0,i.jsx)("path",{id:"board-btn_up","data-name":"btn up",d:"M49.15 87.37l12.74-.15 9.55 9.86L67.5 101v7.13h-3.64v-4.1a3 3 0 0 0-3-3H49.78a2.47 2.47 0 0 0-2.58 2.35v4.77h-3.67V101l-3.94-4z",fill:"#a8aaa8",className:"sim-button"}),(0,i.jsx)("path",{id:"board-btn_down","data-name":"btn down",d:"M61.83 131.54l-12.66.1-9.58-9.85 4-3.91v-7.17h3.6v4.11a3.06 3.06 0 0 0 3 3.06c3 .05 11 0 11 0a2.6 2.6 0 0 0 2.65-2.55v-4.62h3.67v7.17l3.91 3.91z",fill:"#a8aaa8",className:"sim-button"}),(0,i.jsx)("path",{id:"board-btn_part_4","data-name":"btn part 4",fill:"#393939",d:"M54 59.76h3.03v13.8H54z"}),(0,i.jsx)("path",{id:"board-btn_part_3","data-name":"btn part 3",fill:"#9a9a9a",d:"M54 72.96h3.03v6.07H54z"}),(0,i.jsx)("path",{id:"board-btn_part_2","data-name":"btn part 2",fill:"url(#board-linear-gradient-5)",d:"M54 72.96h3.03v6.22H54z"}),(0,i.jsx)("path",{id:"board-btn_part_1","data-name":"btn part 1",fill:"gray",d:"M54 79.18h3.03v5.92H54z"}),(0,i.jsx)("path",{id:"board-btn_back","data-name":"btn back",d:"M13.2 79.18h23.66v5.71c-2.62 2.64-6 6-6 6H15.17a2 2 0 0 1-2-2z",fill:"#a8aaa8",className:"sim-button"})]}),(0,i.jsxs)("g",{id:"board-LEGO_logo","data-name":"LEGO logo",children:[(0,i.jsx)("path",{id:"board-logo_white_bg","data-name":"logo white bg",fill:"#fff",d:"M86.56 149.66h12.21v12.21H86.56z"}),(0,i.jsxs)("g",{id:"board-lego",children:[(0,i.jsx)("g",{clipPath:"url(#board-clip-path)",children:(0,i.jsx)("g",{id:"board-logo_part_5","data-name":"logo part 5",children:(0,i.jsx)("path",{id:"board-Path_18","data-name":"Path 18",d:"M86.56 161.87h12.21v-12.21H86.56zM98 154.73a4.76 4.76 0 0 1-.24 1.18c-.43 1.27-.91 2.07-2.07 2.07a1.12 1.12 0 0 1-1.16-.7v-.15l-.09.11a1.86 1.86 0 0 1-1.46.72 1.29 1.29 0 0 1-1-.43l-.07-.09-.06.06a1.6 1.6 0 0 1-1.16.42 1.32 1.32 0 0 1-1-.37h-.09l-.07.07a1.55 1.55 0 0 1-1.11.37.87.87 0 0 1-.95-.79.37.37 0 0 1 0-.11 8.15 8.15 0 0 1 1.09-3.1 1 1 0 0 1 .92-.52.78.78 0 0 1 .57.17c.11.11.11.2.13.42v.28l.16-.24a1.6 1.6 0 0 1 1.52-.65 1 1 0 0 1 .9.37v.09l.06-.07a1.8 1.8 0 0 1 1.2-.39 1.53 1.53 0 0 1 1.12.37.69.69 0 0 1 .13.2l.07.11.08-.11a1.59 1.59 0 0 1 1.31-.57 1.27 1.27 0 0 1 1 .35 1.37 1.37 0 0 1 .26 1",fill:"#ffed00"})})}),(0,i.jsx)("g",{clipPath:"url(#board-clip-path)",children:(0,i.jsx)("g",{id:"board-logo_part_4","data-name":"logo part 4",children:(0,i.jsx)("path",{id:"board-Path_19","data-name":"Path 19",d:"M86.56 161.87h12.21v-12.21H86.56zm11.75-6.66a6.73 6.73 0 0 1-.52 1.59 2.28 2.28 0 0 1-2.1 1.55 1.67 1.67 0 0 1-1.36-.54 2.18 2.18 0 0 1-1.48.54 1.73 1.73 0 0 1-1.09-.35 2.12 2.12 0 0 1-1.22.35 1.8 1.8 0 0 1-1-.3 2.19 2.19 0 0 1-1.18.3 1.28 1.28 0 0 1-1.36-1.21 8.26 8.26 0 0 1 1.18-3.34 1.37 1.37 0 0 1 1.22-.8c.59 0 .79.17.9.37a2.24 2.24 0 0 1 1.46-.4 1.51 1.51 0 0 1 1 .33A2.4 2.4 0 0 1 94 153a1.74 1.74 0 0 1 1.36.45 2 2 0 0 1 1.33-.43 1.53 1.53 0 0 1 1.37.61 1.79 1.79 0 0 1 .29 1.55",fill:"#d42715"})})}),(0,i.jsx)("g",{clipPath:"url(#board-clip-path)",children:(0,i.jsx)("g",{id:"board-logo_part_3","data-name":"logo part 3",children:(0,i.jsx)("path",{id:"board-Path_20","data-name":"Path 20",d:"M86.48 162h12.38v-12.42H86.48zm12.2-.18h-12v-12h12z",fill:"#171714"})})}),(0,i.jsx)("g",{clipPath:"url(#board-clip-path)",children:(0,i.jsx)("g",{id:"board-logo_part_2","data-name":"logo part 2",children:(0,i.jsx)("path",{id:"board-Path_21","data-name":"Path 21",d:"M98.25 153.29v-.09h.06s.07 0 .07.05 0 0-.07 0zm.2.17v-.06c0-.05 0-.07-.06-.07a.09.09 0 0 0 .08-.09.07.07 0 0 0-.07-.08h-.17v.3h.07v-.13.07zm-.16-.39a.24.24 0 0 1 0 .48.24.24 0 0 1-.24-.24.26.26 0 0 1 .24-.24m0-.07a.31.31 0 0 0 0 .62.31.31 0 0 0 .31-.31.32.32 0 0 0-.31-.31",fill:"#171714"})})}),(0,i.jsx)("g",{clipPath:"url(#board-clip-path)",children:(0,i.jsx)("g",{id:"board-logo_part_1","data-name":"logo part 1",children:(0,i.jsx)("path",{id:"board-Path_22","data-name":"Path 22",d:"M96.7 153.33a1.73 1.73 0 0 0-1.38.61.66.66 0 0 0-.15-.22 1.47 1.47 0 0 0-1.16-.41 1.87 1.87 0 0 0-1.25.41 1.1 1.1 0 0 0-1-.41 1.7 1.7 0 0 0-1.6.7.52.52 0 0 0-.15-.46.87.87 0 0 0-.63-.2 1.1 1.1 0 0 0-1 .57 8.73 8.73 0 0 0-1.13 3.17 1 1 0 0 0 1 1h.08a1.53 1.53 0 0 0 1.18-.39 1.35 1.35 0 0 0 1 .39 1.61 1.61 0 0 0 1.23-.46 1.36 1.36 0 0 0 1.09.46 1.92 1.92 0 0 0 1.53-.77 1.2 1.2 0 0 0 1.24.75c1.2 0 1.73-.83 2.16-2.12a4.54 4.54 0 0 0 .27-1.2 1.21 1.21 0 0 0-1-1.37 1.29 1.29 0 0 0-.34 0m-8 3.28c.62-.11.79.11.77.33-.07.61-.63.76-1.12.74a.62.62 0 0 1-.69-.55 8.47 8.47 0 0 1 1.07-3 .72.72 0 0 1 .68-.39c.31 0 .37.15.37.33a14.2 14.2 0 0 1-1.07 2.55m2-.57c0 .11-.11.35-.17.59a3.1 3.1 0 0 1 .61-.09c.31 0 .48.14.48.38 0 .59-.66.76-1.11.76a.85.85 0 0 1-.94-.75v-.08a6 6 0 0 1 .67-2.27 1.36 1.36 0 0 1 1.53-.9c.31 0 .68.13.68.44s-.35.56-.68.59h-.5a3.58 3.58 0 0 0-.24.48c.64-.09.9 0 .79.41s-.59.52-1.12.44m3.13-1.55a.46.46 0 0 0-.37.21 6.33 6.33 0 0 0-.64 1.73c0 .28.09.35.22.35s.46-.24.55-.61c0 0-.42 0-.31-.37s.33-.44.68-.46c.7 0 .63.48.57.76a1.81 1.81 0 0 1-1.7 1.6.9.9 0 0 1-1-.79v-.18a5 5 0 0 1 .4-1.55c.37-.87.76-1.48 1.77-1.48.59 0 1.07.22 1 .76a.67.67 0 0 1-.64.68c-.11 0-.52 0-.39-.42 0-.13 0-.24-.15-.24m3.75.75a7.06 7.06 0 0 1-.59 1.61 1.41 1.41 0 0 1-1.37.86.82.82 0 0 1-.94-.86 5.11 5.11 0 0 1 .39-1.63c.31-.83.63-1.51 1.66-1.49s.94 1.05.85 1.51m-.85-.52a9.84 9.84 0 0 1-.63 1.85.33.33 0 0 1-.31.22c-.13 0-.17-.09-.2-.2a7.75 7.75 0 0 1 .7-1.94c.09-.13.18-.16.26-.13s.18.11.18.2",fill:"#171714"})})})]})]}),(0,i.jsxs)("g",{id:"board-EV3_logo","data-name":"EV3 logo",fill:"#f1f1f1",children:[(0,i.jsx)("path",{id:"board-ev3_3","data-name":"ev3 3",d:"M36 155a.18.18 0 0 1 .2.16v.84a.16.16 0 0 1-.17.14H34a.36.36 0 0 0-.38.33v1.14a.34.34 0 0 0 .38.3h2c.19 0 .17.14.17.14v.82c0 .08-.06.14-.17.14h-3.43a.2.2 0 0 1-.2-.19v-.05a.38.38 0 0 0-.38-.38h-1.12a.38.38 0 0 0-.38.38v1.64a.37.37 0 0 0 .38.33h6.75a.36.36 0 0 0 .39-.3v-6.89a.36.36 0 0 0-.39-.3H30.9a.34.34 0 0 0-.38.3v1.67a.38.38 0 0 0 .35.38H32a.36.36 0 0 0 .35-.36v-.05a.17.17 0 0 1 .16-.19H36z"}),(0,i.jsx)("path",{id:"board-ev3_v","data-name":"ev3 v",d:"M29.29 153.2H27.7c-.24 0-.33.17-.44.38L25.32 158a.27.27 0 0 1-.19.11.23.23 0 0 1-.19-.14L23 153.58c-.11-.21-.22-.38-.46-.38h-1.62c-.35 0-.41.19-.3.41l3.2 6.73c.17.32.28.38.58.38h1.42a.55.55 0 0 0 .57-.38l3.22-6.73c.11-.22 0-.41-.32-.41"}),(0,i.jsx)("path",{id:"board-ev3_e","data-name":"ev3 e",d:"M19.39 156.1a.34.34 0 0 1 .38.3v1.17a.33.33 0 0 1-.38.3h-5.05c-.11 0-.2.06-.2.14v.82c0 .08.09.14.2.14h5.05a.33.33 0 0 1 .38.3v1.15a.33.33 0 0 1-.35.3h-6.75a.35.35 0 0 1-.38-.3v-6.89a.34.34 0 0 1 .38-.3h6.75a.31.31 0 0 1 .35.28v1.17a.31.31 0 0 1-.33.3h-5.08c-.11 0-.22 0-.22.13v.89c0 .08.09.14.19.14z"})]})]})]})}),x=({port:e})=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"port-svg6348",viewBox:"0 0 49.96 58.93",children:(0,i.jsxs)("g",{id:"port-icn_port","data-name":"icn port",children:[(0,i.jsx)("path",{id:"port-port_2","data-name":"port 2",d:"M4.48 0h50v58.93h-50z",transform:"translate(-4.48)",fill:"#eaeaea"}),(0,i.jsx)("path",{id:"port-port_1","data-name":"port 1",d:"M9.74 46.49V18.66h17.11v-6.91h4.72V2.59h12.92v8.82h5.06v35.08h-8v7.43H38.9v-7.51h-2v7.5h-2.19v-7.5h-2.16v7.5h-2.1v-7.5H28.6v7.5h-2.1v-7.5h-1.82v7.5h-2.46v-7.5h-1.68v7.5H18v-7.45z",transform:"translate(-4.48)",fill:"#a8aaa8"}),(0,i.jsx)("g",{id:"port-text10060",style:{isolation:"isolate"},children:(0,i.jsx)("text",{id:"port-port_text",transform:"translate(22.21 40.2)",style:{isolation:"isolate",userSelect:"none"},fontSize:"16",fill:"#fff",fontFamily:"ArialMT,Arial",children:e})})]})});var v=a(13971),T=a(69096),A=a(41397);let w=({src:e,alt:t="Image",text:a})=>(0,i.jsx)("div",{className:"col-xs-3",children:(0,i.jsxs)("div",{className:m()(c.ELEVATION_0),style:{textAlign:"center",padding:12,backgroundColor:"#2f343c"},children:["string"==typeof e?(0,i.jsx)("img",{style:{maxWidth:72},src:e,alt:t}):e,(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:a})]})});var S=a(92473),C=a(79642),I=a(45111),E=a(31643),_=a(19551),j=a(12316),k=a(58270),N=a(5960),P=a(13489),R=a(6047);function L(e){let t=g.useRef(null),[a,i]=g.useState(!0),s=g.useCallback(()=>{let s=!e||e(t.current?.value);return a!==s&&i(s),s},[a,e]),n=g.useCallback(()=>void s(),[s]);return{ref:t,isValid:a,setIsValid:i,validate:s,onChange:n}}function M(e){return"string"==typeof e&&e.length>0}var O=a(41255);let D=({isOpen:e,onClose:t,deviceToEdit:a,defaultSecret:s})=>{let n=(0,y.wA)(),r=L(M),o=L(),d=L(M),[u,h]=g.useState(!1),[p,f]=g.useState(),[b,x]=g.useState(!1),[T,A]=g.useState("environment"),w=async()=>{let e=function(...e){let t=!0,a=[];for(let i of e)if(i.ref.current){let e=i.validate();t=t&&e,a.push(i.ref.current?.value)}else t=!1;return t?a:null}(r,o,d);if(!e)return;let[i,s,l]=e;try{f(void 0),h(!0),a?await (0,v.dh)({id:a.id,title:i}):await (0,v.MC)({title:i,type:s,secret:l})}catch(e){f(e?.message||"Unknown error occurred."),h(!1);return}n(R.o.remoteExecFetchDevices()),t(),h(!1)},D=(0,i.jsx)(S.m,{content:"Scan QR Code",children:(0,i.jsx)(C.$,{minimal:!0,icon:"clip",onClick:()=>x(()=>!b)})});return(0,i.jsxs)(I.l,{icon:a?"edit":"add",title:a?`Edit ${a.title} (${a.type})`:"Add new device",isOpen:e,className:c.DARK,onClose:t,canEscapeKeyClose:!u,canOutsideClickClose:!u,isCloseButtonShown:!u,onOpening:()=>{f(void 0),r.setIsValid(!0),d.setIsValid(!0)},children:[(0,i.jsxs)(E.R,{children:[(0,i.jsx)(_.g,{label:"Name",labelFor:"sa-remote-execution-name",helperText:"Shown to you only. You can key in a different name from other users.",children:(0,i.jsx)("input",{id:"sa-remote-execution-name",className:m()(c.INPUT,c.FILL,r.isValid||c.INTENT_DANGER),type:"text",ref:r.ref,onChange:r.onChange,disabled:u,...a?{defaultValue:a.title}:void 0})}),(0,i.jsx)(_.g,{label:"Type",labelFor:"sa-remote-execution-type",children:(0,i.jsx)(j.g,{id:"sa-remote-execution-type",className:m()(c.FILL),ref:e=>void(o.ref.current=e),disabled:u||!!a,...a?{value:a.type}:void 0,children:O.I.map(({id:e,name:t})=>(0,i.jsx)("option",{value:e,children:t},e))})}),(0,i.jsx)(_.g,{label:"Secret",labelFor:"sa-remote-execution-secret",children:(0,i.jsx)(k.M,{id:"sa-remote-execution-secret",className:m()(c.FILL,d.isValid||c.INTENT_DANGER),type:"text",inputRef:d.ref,onChange:d.onChange,disabled:u,readOnly:!!a,defaultValue:s,...a?{value:a.secret}:{rightElement:D}})}),b&&(0,i.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",rowGap:"0.5rem"},children:[(0,i.jsx)(P.f,{onResult:e=>{if(e){x(!1);let t=d.ref.current;t&&(t.value=e.getText())}},constraints:{aspectRatio:1,frameRate:{ideal:12},deviceId:{ideal:"0"},facingMode:{ideal:T}},containerStyle:{width:"50%",marginInline:"auto"},videoStyle:{borderRadius:"0.3em"}}),(0,i.jsx)(C.$,{style:{margin:"auto"},icon:"refresh",onClick:()=>{x(!1),A(()=>"user"===T?"environment":"user"),setTimeout(()=>x(!0),1)},children:"Change Camera"})]}),p&&(0,i.jsx)(l.P,{intent:"danger",children:p})]}),(0,i.jsx)(N.E,{actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.$,{onClick:t,disabled:u,children:"Cancel"}),(0,i.jsx)(C.$,{intent:"primary",onClick:w,disabled:u||!function(...e){return -1===e.findIndex(({isValid:e})=>!e)}(r,d),children:a?"Edit":"Add"})]})})]})},U=a.p+"static/svg/motorL.e4c8e91f.svg",F=a.p+"static/svg/sGyro.7d8f200e.svg",G=a.p+"static/svg/sUltrasonic.58e41f90.svg",z=Object.freeze({0:"None",1:"Black",2:"Blue",3:"Green",4:"Yellow",5:"Red",6:"White",7:"Brown"}),B=Object.freeze({"COL-AMBIENT":e=>`Ambient Light: ${e}`,"COL-COLOR":e=>`Color: ${z[e]}`,"COL-REFLECT":e=>`Reflected Light: ${e}`,"GYRO-ANG":e=>`Angle: ${e}\xb0`,"GYRO-RATE":e=>`Rate: ${e}\xb0/s`,TOUCH:e=>`Touch: ${e?"Yes":"No"}`,"US-DIST-CM":e=>`Dist: ${e/10}cm`}),H=Object.freeze({"lego-ev3-color":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJzdmc0MSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIxOTI1LjM1OCA2MTgzLjQzOCAzNi4xMDEgMzYuMTAxIj48ZGVmcyBpZD0iZGVmczIyIj48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjE2LjM3OSIgeDI9IjE2LjM3OSIgeTE9IjI5LjUxNSIgeTI9IjM0Ljk4NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKC45ODE2NiAxLjAxODY5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIGlkPSJzdG9wNiIgb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYThhOWE4Ii8+PHN0b3AgaWQ9InN0b3A4IiBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NDU1NTQiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj48cGF0aCBpZD0iVW5pb25fNSIgZmlsbD0iI2E4YTlhOCIgZD0iTTMuOTA3IDMzLjM3Yy0xLjA2OSAwLTEuOTM1LS42MTctMS45MzUtMS4zNzd2LTQuMzg3SC43NThBLjc1OC43NTggMCAwIDEgMCAyNi44NDhWNy4xMjlhLjc1OC43NTggMCAwIDEgLjc1OC0uNzU4aDEuMjE0VjEuMzc3QzEuOTcyLjYxNyAyLjgzOCAwIDMuOTA3IDBoMjguMjg3YzEuMDY5IDAgMS45MzUuNjE3IDEuOTM1IDEuMzc3djQuOTk0aDEuMjEzYS43NTguNzU4IDAgMCAxIC43NTkuNzU4djE5LjcxOWEuNzU4Ljc1OCAwIDAgMS0uNzU5Ljc1OGgtMS4yMTN2NC4zODdjMCAuNzYxLS44NjcgMS4zNzctMS45MzUgMS4zNzd6IiBjbGFzcz0iY2xzLTEiIGRhdGEtbmFtZT0iVW5pb24gNSIvPjwvY2xpcFBhdGg+PGZpbHRlciBpZD0iUGF0aF8xIiB3aWR0aD0iNTAuMTU3IiBoZWlnaHQ9IjUxLjM3MSIgeD0iMTkxOC4zMyIgeT0iNjE3Ny40MzgiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlT2Zmc2V0IGlkPSJmZU9mZnNldDExIiBkeT0iMyIvPjxmZUdhdXNzaWFuQmx1ciBpZD0iZmVHYXVzc2lhbkJsdXIxMyIgcmVzdWx0PSJibHVyIiBzdGREZXZpYXRpb249IjMiLz48ZmVGbG9vZCBpZD0iZmVGbG9vZDE1IiBmbG9vZC1vcGFjaXR5PSIuNTAyIi8+PGZlQ29tcG9zaXRlIGlkPSJmZUNvbXBvc2l0ZTE3IiBpbjI9ImJsdXIiIG9wZXJhdG9yPSJpbiIgcmVzdWx0PSJyZXN1bHQxIi8+PGZlQ29tcG9zaXRlIGlkPSJmZUNvbXBvc2l0ZTE5IiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJyZXN1bHQxIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGlkPSJDb2xvcl9TZW5zb3IiIGRhdGEtbmFtZT0iQ29sb3IgU2Vuc29yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ2IDU1NTUuMzY0KSI+PGcgaWQ9Ik1hc2tfR3JvdXBfNSIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0iTWFzayBHcm91cCA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NzkuMzU4IDYyOS40MzkpIj48ZyBpZD0iR3JvdXBfNCIgZGF0YS1uYW1lPSJHcm91cCA0Ij48ZyBpZD0iR3JvdXBfMiIgZGF0YS1uYW1lPSJHcm91cCAyIj48cGF0aCBpZD0iUGF0aF8yOCIgZmlsbD0iI2E4YTlhOCIgZD0iTS43NTggMGgzNC41ODRhLjc1OC43NTggMCAwIDEgLjc1OC43NTh2MTkuNzE5YS43NTguNzU4IDAgMCAxLS43NTguNzU4SC43NThBLjc1OC43NTggMCAwIDEgMCAyMC40NzdWLjc1OEEuNzU4Ljc1OCAwIDAgMSAuNzU4IDBaIiBjbGFzcz0iY2xzLTEiIGRhdGEtbmFtZT0iUGF0aCAyOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2LjM3MSkiLz48ZyBpZD0iZzI2IiBmaWx0ZXI9InVybCgjUGF0aF8xKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5MjUuMzYgLTYxODMuNDQpIj48cGF0aCBpZD0iUGF0aF8xLTIiIGZpbGw9InVybCgjbGluZWFyLWdyYWRpZW50KSIgZD0iTTEuOTM1IDBoMjguMjg3YzEuMDY5IDAgMS45MzUuNjE3IDEuOTM1IDEuMzc3djMwLjYxNmMwIC43NjEtLjg2NiAxLjM3Ny0xLjkzNSAxLjM3N0gxLjkzNUMuODY2IDMzLjM3MSAwIDMyLjc1NCAwIDMxLjk5M1YxLjM3N0MwIC42MTcuODY2IDAgMS45MzUgMFoiIGRhdGEtbmFtZT0iUGF0aCAxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTI3LjMzIDYxODMuNDQpIi8+PC9nPjxwYXRoIGlkPSJSZWN0YW5nbGVfMiIgZD0iTTAgMGguNzU4djYuMDY3SDB6IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNC41ODQgOS40MDQpIi8+PHBhdGggaWQ9IlJlY3RhbmdsZV81IiBkPSJNMCAwaC43NTh2Ni4wNjdIMHoiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC45MSA5LjQwNCkiLz48cGF0aCBpZD0iUmVjdGFuZ2xlXzMiIGQ9Ik0wIDBoLjc1OHY2LjA2N0gweiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQuNTg0IDE4LjA1KSIvPjxwYXRoIGlkPSJSZWN0YW5nbGVfNCIgZD0iTTAgMGguNzU4djYuMDY3SDB6IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguOTEgMTguMDUpIi8+PC9nPjxwYXRoIGlkPSJVbmlvbl8xIiBmaWxsPSIjYjcyYjFjIiBkPSJNMi41NzkgMTcuNzQ3YTcgNyAwIDAgMSAuMTYtMS40OTQgOS41NTYgOS41NTYgMCAxIDEgMTMuNjM0IDAgNi45NzggNi45NzggMCAxIDEtMTMuNzk0IDEuNDk0eiIgZGF0YS1uYW1lPSJVbmlvbiAxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjQ5NCA0LjA5NikiLz48cGF0aCBpZD0iVW5pb25fMiIgZD0iTTIuNjcgMTYuMzA4YTUuMzc0IDUuMzc0IDAgMCAxIC4zNzItMS45NzEgOC4wMzkgOC4wMzkgMCAxIDEgMTAuMDIyLS4wMjJBNS4zODggNS4zODggMCAxIDEgMi42NyAxNi4zMDhaIiBkYXRhLW5hbWU9IlVuaW9uIDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwLjAxMSA1LjUzNCkiLz48ZyBpZD0iR3JvdXBfMyIgZGF0YS1uYW1lPSJHcm91cCAzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNC40MSAxMC4xNjMpIj48Y2lyY2xlIGlkPSJFbGxpcHNlXzUiIGN4PSIzLjY0IiBjeT0iMy42NCIgcj0iMy42NCIgZmlsbD0iI2YyZjJmMiIgY2xhc3M9ImNscy01IiBkYXRhLW5hbWU9IkVsbGlwc2UgNSIvPjxjaXJjbGUgaWQ9IkVsbGlwc2VfNiIgY3g9IjEuOTcyIiBjeT0iMS45NzIiIHI9IjEuOTcyIiBmaWxsPSIjZjJmMmYyIiBjbGFzcz0iY2xzLTUiIGRhdGEtbmFtZT0iRWxsaXBzZSA2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjY2OSA5LjU1NikiLz48L2c+PC9nPjwvZz48L2c+PC9zdmc+","lego-ev3-gyro":F,"lego-ev3-touch":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIxODI3LjM5MSA2MTgzLjY2NCAzNi4xMDEgMzYuMTAxIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSIxNi4zNzkiIHgyPSIxNi4zNzkiIHkxPSIyOS44MSIgeTI9IjM0LjI2NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKC45ODE2NiAxLjAxODY5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2E4YTlhOCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzU0NTU1NCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjk0OSIgeDI9Ii4wNTYiIHkxPSIuNSIgeTI9Ii41IiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYjcyYjFjIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOGIxMTA0Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2EiIGlkPSJlIiB4MT0iNy4zMTYiIHgyPSIuNDMyIiB5MT0iMy44NTUiIHkyPSIzLjg1NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKDEuMjM5NTkgLjgwNjcyKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiLz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2EiIGlkPSJmIiB4MT0iNy4zMTYiIHgyPSIuNDMyIiB5MT0iMy44NTUiIHkyPSIzLjg1NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKDEuMjM5NTkgLjgwNjcyKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiLz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2EiIGlkPSJnIiB4MT0iNy4zMTYiIHgyPSIuNDMyIiB5MT0iMy44NTUiIHkyPSIzLjg1NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKDEuMjM5NTkgLjgwNjcyKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiLz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI2EiIGlkPSJoIiB4MT0iNy4zMTYiIHgyPSIuNDMyIiB5MT0iMy44NTUiIHkyPSIzLjg1NSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKDEuMjM5NTkgLjgwNjcyKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiLz48Y2xpcFBhdGggaWQ9ImIiPjxwYXRoIGZpbGw9IiNhOGE5YTgiIGQ9Ik0zLjk0NCAzMy4zN2MtMS4wNjkgMC0xLjk3Mi0uNi0xLjk3Mi0xLjM2NXYtNC40SDFhMSAxIDAgMCAxLTEtMVY3LjM3MWExIDEgMCAwIDEgMS0xaC45NzJWMS4zNjVDMS45NzIuNiAyLjg3NSAwIDMuOTQ0IDBoMTAuNzY5djEuMzY1aDYuMzcxVjBoMTEuMDczYzEuMDY5IDAgMS45NzIuNiAxLjk3MiAxLjM2NXY1LjAwNmguOTcxYTEgMSAwIDAgMSAxIDF2MTkuMjM2YTEgMSAwIDAgMS0xIDFoLS45NzJWMzJjMCAuNzYxLS45IDEuMzY1LTEuOTcyIDEuMzY1eiIgY2xhc3M9ImNscy0xIiBkYXRhLW5hbWU9IlVuaW9uIDMiLz48L2NsaXBQYXRoPjxmaWx0ZXIgaWQ9ImMiIHdpZHRoPSIzOC4xNTciIGhlaWdodD0iMzkuMzcxIiB4PSIxODI2LjM2MyIgeT0iNjE4MC42NjQiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlT2Zmc2V0Lz48ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJibHVyIiBzdGREZXZpYXRpb249IjEiLz48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIuNTAyIi8+PGZlQ29tcG9zaXRlIGluMj0iYmx1ciIgb3BlcmF0b3I9ImluIiByZXN1bHQ9InJlc3VsdDEiLz48ZmVDb21wb3NpdGUgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0icmVzdWx0MSIvPjwvZmlsdGVyPjwvZGVmcz48ZyBkYXRhLW5hbWU9IlRvdWNoIHNlbnNvciI+PGcgZGF0YS1uYW1lPSJHcm91cCA4Ij48ZyBjbGlwLXBhdGg9InVybCgjYikiIGRhdGEtbmFtZT0iTWFzayBHcm91cCAzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODI3LjM5MSA2MTg1LjAyOSkiPjxnIGRhdGEtbmFtZT0iR3JvdXAgMiI+PHBhdGggZmlsbD0iI2E4YTlhOCIgZD0iTS43NTggNi4zNzFoMzQuNTg0YS43NTguNzU4IDAgMCAxIC43NTguNzU4djE5LjcxOWEuNzU4Ljc1OCAwIDAgMS0uNzU4Ljc1OEguNzU4QS43NTguNzU4IDAgMCAxIDAgMjYuODQ4VjcuMTI5YS43NTguNzU4IDAgMCAxIC43NTgtLjc1OFoiIGNsYXNzPSJjbHMtMSIgZGF0YS1uYW1lPSJQYXRoIDI3Ii8+PGcgZmlsdGVyPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgyNy4zOSAtNjE4My42NikiPjxwYXRoIGZpbGw9InVybCgjZCkiIGQ9Ik0xLjk3MiAwaDEwLjc3djEuMzY1aDYuMzcxVjBoMTEuMDcyYzEuMDY5IDAgMS45NzIuNiAxLjk3MiAxLjM2NXYzMC42NGMwIC43NjEtLjkgMS4zNjUtMS45NzIgMS4zNjVIMS45NzJDLjkgMzMuMzcxIDAgMzIuNzY2IDAgMzIuMDA1VjEuMzY1QzAgLjYuOSAwIDEuOTcyIDBaIiBkYXRhLW5hbWU9IlBhdGggMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgyOS4zNiA2MTgzLjY2KSIvPjwvZz48cGF0aCBkPSJNMzQuNTg0IDkuNDA0aC43NTh2Ni4wNjdoLS43NTh6IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyIi8+PHBhdGggZD0iTS45MSA5LjQwNGguNzU4djYuMDY3SC45MXoiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDUiLz48cGF0aCBkPSJNMzQuNTg0IDE4LjA1aC43NTh2Ni4wNjdoLS43NTh6IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzIi8+PHBhdGggZD0iTS45MSAxOC4wNWguNzU4djYuMDY3SC45MXoiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDQiLz48L2c+PC9nPjwvZz48ZyBkYXRhLW5hbWU9Ikdyb3VwIDUiPjxwYXRoIGZpbGw9InVybCgjZSkiIGQ9Ik0wIDBoOS41NTZ2Ni4yMTlIMHoiIGNsYXNzPSJjbHMtNCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgzMS45NDIgNjE5OS43NDIpIi8+PHBhdGggZmlsbD0idXJsKCNmKSIgZD0iTTAgMGg5LjU1NnY2LjIxOUgweiIgY2xhc3M9ImNscy00IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA5IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCAtMjE3MC4zMjQgNDAxOC44NzYpIi8+PHBhdGggZmlsbD0idXJsKCNnKSIgZD0iTTAgMGg5LjU1NnY2LjIxOUgweiIgY2xhc3M9ImNscy00IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA3IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOTI5LjQ3MSAzMTAyLjk4KSIvPjxwYXRoIGZpbGw9InVybCgjaCkiIGQ9Ik0wIDBoOS41NTZ2Ni4yMTlIMHoiIGNsYXNzPSJjbHMtNCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgOCIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDQwMjkuMjY2IDIxODYuOTM0KSIvPjxnIGZpbGw9IiNiNzJiMWMiIHN0cm9rZT0iIzhiMTEwNCIgc3Ryb2tlLXdpZHRoPSIuMjUiIGRhdGEtbmFtZT0iRWxsaXBzZSAxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODM5LjM3NSA2MTk2LjcwOCkiPjxjaXJjbGUgY3g9IjYuMDY3IiBjeT0iNi4wNjciIHI9IjYuMDY3IiBzdHJva2U9Im5vbmUiLz48Y2lyY2xlIGN4PSI2LjA2NyIgY3k9IjYuMDY3IiByPSI1Ljk0MiIgZmlsbD0ibm9uZSIvPjwvZz48cGF0aCBkPSJNMTg0My45MTEgNjIwMC4zNTRzLS4wNDguOTE3LS42OS45MjVjLS42NDIuMDA4LTEuMzEyIDAtMS4zMTIgMGEyLjEyMyAyLjEyMyAwIDAgMC0uNDA5IDEuNTJjMCAxLjEzOC4zMjEgMS40NDIuMzIxIDEuNDQyaDEuNDYzYS41OC41OCAwIDAgMSAuNjI4LjYyOHYxLjVhMy40ODcgMy40ODcgMCAwIDAgMS41ODYuMjU4IDUuOCA1LjggMCAwIDAgMS41MDctLjI1OHYtMS41YS42NTUuNjU1IDAgMCAxIC42Ni0uNjI4IDkuNTk0IDkuNTk0IDAgMCAwIDEuMy0uMTI2cy4zNTYtLjMzNi4zOS0xLjQ2N2MuMDM0LTEuMTMxLS4zMTctMS40NzctLjMxNy0xLjQ3N2gtMS41MjJhLjU3Ni41NzYgMCAwIDEtLjY4NS0uNjA5IDEwLjE2OCAxMC4xNjggMCAwIDEgMC0xLjQ3NiA0LjMyNiA0LjMyNiAwIDAgMC0yLjkxNyAwYy0uMDE5LjYyNyAwIDEuMjY4IDAgMS4yNjh6Ii8+PC9nPjwvZz48L3N2Zz4=","lego-ev3-us":G,"lego-ev3-l-motor":U,"lego-ev3-m-motor":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJzdmc3NjEwIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjE3MTkuODU4IDYxNzcuMjc2IDQ3LjE0IDQ3LjE0Ij48ZGVmcyBpZD0iZGVmczc1OTEiPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iLjUiIHgyPSIuNSIgeTE9Ii45MTkiIHkyPSIxLjA3NyIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIGlkPSJzdG9wNzU3NSIgb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYThhOWE4Ii8+PHN0b3AgaWQ9InN0b3A3NTc3IiBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NDU1NTQiLz48L2xpbmVhckdyYWRpZW50PjxmaWx0ZXIgaWQ9IlVuaW9uXzEiIHdpZHRoPSI0Ny4xNCIgaGVpZ2h0PSI0Ny4xNCIgeD0iMTcxOS44NTgiIHk9IjYxNzcuMjc2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZU9mZnNldCBpZD0iZmVPZmZzZXQ3NTgwIi8+PGZlR2F1c3NpYW5CbHVyIGlkPSJmZUdhdXNzaWFuQmx1cjc1ODIiIHJlc3VsdD0iYmx1ciIgc3RkRGV2aWF0aW9uPSIuNSIvPjxmZUZsb29kIGlkPSJmZUZsb29kNzU4NCIgZmxvb2Qtb3BhY2l0eT0iLjMyMiIvPjxmZUNvbXBvc2l0ZSBpZD0iZmVDb21wb3NpdGU3NTg2IiBpbjI9ImJsdXIiIG9wZXJhdG9yPSJpbiIgcmVzdWx0PSJyZXN1bHQxIi8+PGZlQ29tcG9zaXRlIGlkPSJmZUNvbXBvc2l0ZTc1ODgiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9InJlc3VsdDEiLz48L2ZpbHRlcj48c3R5bGUgaWQ9InN0eWxlNzU3MyI+LmNscy0ze2ZpbGw6IzNjM2MzY308L3N0eWxlPjwvZGVmcz48ZyBpZD0iTWVkaXVtX01vdG9yIiBkYXRhLW5hbWU9Ik1lZGl1bSBNb3RvciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0NiA1NTU0KSI+PGcgaWQ9Ikdyb3VwXzQiIGRhdGEtbmFtZT0iR3JvdXAgNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzc1LjM1OCA2MjQuNzc2KSI+PHBhdGggaWQ9IlBhdGhfMSIgZmlsbD0idXJsKCNsaW5lYXItZ3JhZGllbnQpIiBkPSJNMy4yODEtLjI4N2gzOWEyLjM1NyAyLjM1NyAwIDAgMSAyLjU3IDEuOTcydjQwLjM0OGMwIDEtMS4xIDEuODItMi41NyAxLjgyaC0zOWMtMS40NzMgMC0yLjU3LS44MTUtMi41Ny0xLjgyVjEuNjg1YTIuMzU3IDIuMzU3IDAgMCAxIDIuNTctMS45NzJaIiBkYXRhLW5hbWU9IlBhdGggMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS43MTEgLjI4NykiLz48L2c+PGcgaWQ9Ikdyb3VwXzciIGRhdGEtbmFtZT0iR3JvdXAgNyIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgLTEwMi42MzkgNTIyLjEzNykiPjxnIGlkPSJnNzU5NiIgZmlsdGVyPSJ1cmwoI1VuaW9uXzEpIiB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgLTIyMDYuNjQgMzk3Mi4xNCkiPjxwYXRoIGlkPSJVbmlvbl8xLTIiIGZpbGw9IiNhOGE5YTgiIGQ9Ik0yMS4yMzYgNDQuMTRhNi4yMTkgNi4yMTkgMCAwIDEtNi4yMTktNi4yMTl2LTguOGgtOC44QTYuMjE5IDYuMjE5IDAgMCAxIDAgMjIuOXYtMS42NjRhNi4yMTkgNi4yMTkgMCAwIDEgNi4yMTktNi4yMTloOC44di04LjhBNi4yMTkgNi4yMTkgMCAwIDEgMjEuMjM2IDBIMjIuOWE2LjIxOSA2LjIxOSAwIDAgMSA2LjIxOSA2LjIxOXY4LjhoOC44YTYuMjE5IDYuMjE5IDAgMCAxIDYuMjE5IDYuMjE5VjIyLjlhNi4yMTkgNi4yMTkgMCAwIDEtNi4yMTkgNi4yMTloLTguOHY4LjhBNi4yMTkgNi4yMTkgMCAwIDEgMjIuOSA0NC4xNFoiIGRhdGEtbmFtZT0iVW5pb24gMSIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgLTIyMDYuNjQgMzk3Mi4xNCkiLz48L2c+PGNpcmNsZSBpZD0iRWxsaXBzZV8xIiBjeD0iNC44NTQiIGN5PSI0Ljg1NCIgcj0iNC44NTQiIGNsYXNzPSJjbHMtMyIgZGF0YS1uYW1lPSJFbGxpcHNlIDEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3LjI5MiAxLjUxNykiLz48Y2lyY2xlIGlkPSJFbGxpcHNlXzIiIGN4PSI0Ljg1NCIgY3k9IjQuODU0IiByPSI0Ljg1NCIgY2xhc3M9ImNscy0zIiBkYXRhLW5hbWU9IkVsbGlwc2UgMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcuMjkyIDMyLjkxNSkiLz48Y2lyY2xlIGlkPSJFbGxpcHNlXzEtMiIgY3g9IjQuODU0IiBjeT0iNC44NTQiIHI9IjQuODU0IiBjbGFzcz0iY2xzLTMiIGRhdGEtbmFtZT0iRWxsaXBzZSAxIiB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgMTQuMTgzIDEyLjY2NSkiLz48Y2lyY2xlIGlkPSJFbGxpcHNlXzItMiIgY3g9IjQuODU0IiBjeT0iNC44NTQiIHI9IjQuODU0IiBjbGFzcz0iY2xzLTMiIGRhdGEtbmFtZT0iRWxsaXBzZSAyIiB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgMjkuODgxIC0zLjAzNCkiLz48L2c+PGcgaWQ9IkVsbGlwc2VfNCIgZmlsbD0iI2I3MmIxYyIgc3Ryb2tlPSIjOGIxMTA0IiBzdHJva2Utd2lkdGg9Ii4yNSIgZGF0YS1uYW1lPSJFbGxpcHNlIDQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5MC45MDMgNjQwLjE3KSI+PGNpcmNsZSBpZD0iZWxsaXBzZTc2MDMiIGN4PSI2Ljc1MiIgY3k9IjYuNzUyIiByPSI2Ljc1MiIgc3Ryb2tlPSJub25lIi8+PGNpcmNsZSBpZD0iZWxsaXBzZTc2MDUiIGN4PSI2Ljc1MiIgY3k9IjYuNzUyIiByPSI2LjYyNyIgZmlsbD0ibm9uZSIvPjwvZz48cGF0aCBpZD0iSG9sZSIgZD0iTTU2MDYuNDM3IDk2Mi40MTNzLS4wNTQgMS4wMjEtLjc2OSAxLjAyOS0xLjQ2MSAwLTEuNDYxIDBhMi4zNjMgMi4zNjMgMCAwIDAtLjQ1NSAxLjY5MWMwIDEuMjY2LjM1NyAxLjYuMzU3IDEuNmgxLjYyOGEuNjQ1LjY0NSAwIDAgMSAuNy43djEuNjY3YTMuODgyIDMuODgyIDAgMCAwIDEuNzY2LjI4NyA2LjQ1OSA2LjQ1OSAwIDAgMCAxLjY3Ni0uMjg3di0xLjY2N2EuNzMuNzMgMCAwIDEgLjczNC0uNyAxMC42NzQgMTAuNjc0IDAgMCAwIDEuNDQ0LS4xNHMuNC0uMzc0LjQzNC0xLjYzMi0uMzUzLTEuNjQ0LS4zNTMtMS42NDRoLTEuNjkzYS42NDEuNjQxIDAgMCAxLS43NjItLjY3OCAxMS40MSAxMS40MSAwIDAgMSAwLTEuNjQzIDQuODE1IDQuODE1IDAgMCAwLTMuMjQ2IDBjLS4wMTcuNjk4IDAgMS40MTcgMCAxLjQxN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MjEwLjQ4NiAtMzE4LjE4NikiLz48L2c+PC9zdmc+"});var V=a(64088);let J=({text:e,handleDelete:t,handleEdit:a})=>(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsxs)("div",{className:"edit-buttons",children:[(0,i.jsx)(C.$,{small:!0,minimal:!0,icon:"edit",onClick:e=>{e.stopPropagation(),a(e)}}),(0,i.jsx)(C.$,{small:!0,minimal:!0,intent:"danger",icon:"trash",onClick:e=>{e.stopPropagation(),t(e)}})]})]}),Y=({session:e})=>{if(!e)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Not connected to a device—programs are run in your local browser."}),(0,i.jsx)("p",{children:"Select a device from the right."})]});let{device:t,connection:a}=e;switch(a.status){case"CONNECTED":return(0,i.jsxs)("p",{children:["Connected to ",t.title," (",t.type,")."]});case"CONNECTING":return(0,i.jsx)(r.I,{description:"Connecting...",icon:(0,i.jsx)(o.y,{})});default:return(0,i.jsxs)(l.P,{intent:"danger",children:["Could not connect to ",t.title,": ",a.error||"unknown error"]})}},W=["portA","portB","portC","portD"],X=["port1","port2","port3","port4"],$=e=>{let[t,a]=g.useState(!!e.secretParams||void 0),[s,n]=g.useState(e.secretParams),r=(0,V.N4)(e=>!!e.session.accessToken&&!!e.session.role),o=(0,V.N4)(e=>e.session.remoteExecutionDevices),p=(0,V.N4)(e=>e.session.remoteExecutionSession),S=(0,y.wA)(),C=p?.connection.status==="CONNECTED";g.useEffect(()=>{p&&p.workspace!==e.workspace&&S(R.o.remoteExecUpdateSession({...p,workspace:e.workspace}))},[p,S,e.workspace]),g.useEffect(()=>{!o&&r&&S(R.o.remoteExecFetchDevices())},[S,o,r]),g.useEffect(()=>()=>{S(R.o.remoteExecDisconnect())},[S]);let I=(0,g.useCallback)(async e=>{if(await (0,T.cu)({title:"Really delete device?",contents:`Are you sure you want to delete ${e.title} (${e.type})?`,positiveLabel:"Delete",positiveIntent:"danger",negativeLabel:"No",icon:"trash"})){try{await (0,v.Yl)(e)}catch(e){(0,A.JB)(e.message||"Unknown error occurred.");return}C&&S(R.o.remoteExecDisconnect()),S(R.o.remoteExecFetchDevices())}},[S,C]);if(!r)return(0,i.jsxs)(l.P,{intent:"danger",children:["Please ",(0,i.jsx)(f.k2,{to:"/login",children:"log in"})," to execute on a remote device."]});let E=p?.device;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sa-remote-execution row",children:[(0,i.jsx)("div",{className:"col-xs-6",children:(0,i.jsx)(Y,{session:p})}),(0,i.jsx)("div",{className:"col-xs-6 devices-menu-container",children:(0,i.jsxs)(d.W,{className:m()(c.ELEVATION_0),children:[(0,i.jsx)(u.D,{text:"Browser",onClick:()=>S(R.o.remoteExecDisconnect()),icon:E?void 0:"tick",intent:E?void 0:"success"}),o?.map(t=>{let{id:s,title:n,type:r}=t,o=E?.id===t.id;return(0,i.jsx)(u.D,{onClick:()=>S(R.o.remoteExecConnect(e.workspace,t)),text:`${n} (${r})`,icon:o&&"tick",labelElement:(0,i.jsx)(J,{text:o&&C?"Connected":void 0,handleEdit:()=>a(t),handleDelete:async()=>await I(t)}),intent:o&&C?"success":void 0},s)}),(0,i.jsx)(h.N,{}),(0,i.jsx)(u.D,{text:"Add new device...",icon:"add",onClick:()=>a(!0)})]})}),(0,i.jsx)(D,{isOpen:!!t,deviceToEdit:"object"==typeof t?t:void 0,defaultSecret:!0===t?s:void 0,onClose:()=>{a(void 0),n(void 0),e.callbackFunction&&e.callbackFunction(void 0)}})]}),C&&E&&E.peripherals&&(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{textAlign:"center",maxWidth:480,marginInline:"auto",marginBlock:"2rem"},children:[(0,i.jsx)("div",{className:"sa-remote-execution row",children:W.map(e=>{let t=E.peripherals?.[e];return t?(0,i.jsx)(w,{src:H[t.type],text:`Speed: ${t.speed}\xb0/s
Position: ${t.position}\xb0`}):(0,i.jsx)(w,{src:(0,i.jsx)(x,{port:e.substring(e.length-1)})})})}),(0,i.jsx)(b,{}),(0,i.jsx)("div",{className:"sa-remote-execution row",children:X.map(e=>{let t=E.peripherals?.[e];return t?(0,i.jsx)(w,{src:H[t.type],text:B[t.mode](t.value)}):(0,i.jsx)(w,{src:(0,i.jsx)(x,{port:e.substring(e.length-1)})})})})]})})]})};var Z=a(11678),q=a(89368),Q=a(28761),K=a(61300),ee=a(59399),et=a.n(ee),ea=a(81333),ei=a(80237);let es="span-HKZhdL",en="left-cell-S6a6Gb",er="right-cell-JYWx7u",eo="switch-pdgpl6",el="default-switch-dkkGzC",ed="table-ljR0Va",ec="user-icon-cPHoVe";var eu=a(97210);function eh({users:e,playgroundCode:t}){let{t:a}=(0,ea.Bd)("sideContent",{keyPrefix:"sessionManagement"}),[s,n]=(0,g.useState)(!0),[r,o]=(0,g.useState)(!0),[l,d]=(0,g.useState)(Object.fromEntries(Object.entries(e).map(([e])=>[e,!0]))),u=(0,V.N4)(e=>e.workspaces.playground.updateUserRoleCallback);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:es,children:["Toggle all roles in current session:",(0,i.jsx)(Z.dO,{labelElement:s?"Editor":"Viewer",alignIndicator:"left",checked:s,onChange:t=>(t=>{try{Object.keys(e).forEach(e=>{"all"!==e&&u(e,t?K.CollabEditingAccess.EDITOR:K.CollabEditingAccess.VIEWER)})}finally{n(t)}})(t.target.checked),className:m()(eo,el)})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:es,children:["Default role on join:",(0,i.jsx)(Z.dO,{labelElement:r?"Editor":"Viewer",alignIndicator:"left",checked:r,onChange:e=>{var a;return a=e.target.checked,void((0,ei.Iu)(t,!a),o(a))},className:m()(eo,el)})]}),(0,i.jsxs)(q._,{compact:!0,className:ed,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:a("name")}),(0,i.jsx)("th",{children:a("role")})]})}),(0,i.jsx)("tbody",{children:Object.entries(e).map(([e,t],a)=>(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{className:m()(c.INTERACTIVE,en),children:[(0,i.jsx)("div",{style:{backgroundColor:t.color},className:ec}),(0,i.jsx)("div",{children:t.name})]}),(0,i.jsx)("td",{className:er,children:t.role===K.CollabEditingAccess.OWNER?"Admin":(0,i.jsx)(Z.dO,{labelElement:t.role.charAt(0).toUpperCase()+t.role.slice(1),alignIndicator:"right",checked:t.role===K.CollabEditingAccess.EDITOR,onChange:t=>((e,t)=>{if(!l[t]){d(e=>({...e,[t]:!0}));try{u(t,e?K.CollabEditingAccess.EDITOR:K.CollabEditingAccess.VIEWER)}finally{d(e=>({...e,[t]:!1}))}}})(t.target.checked,e),className:eo})})]},e))})]})]})}let ep=({users:e,playgroundCode:t,readOnly:a,workspaceLocation:n})=>{let{t:r}=(0,ea.Bd)("sideContent",{keyPrefix:"sessionManagement"}),o=(0,y.wA)();if((0,g.useEffect)(()=>{o((0,eu.Qb)("session_management",n))},[o,n,e]),0===Object.values(e).length)return;let l=Object.values(e)[0];return(0,i.jsxs)("div",{className:"table-container-x0WGBi",children:[(0,i.jsx)("span",{className:es,children:"This is the session management tab. Add users by sharing the session code. If you are the owner of this session, you can manage users' access levels from the table below."}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:es,children:["Session code:",(0,i.jsx)(et(),{text:(0,ei.tT)(t),onCopy:()=>(0,A.uT)("Session url copied: "+(0,ei.tT)(t)),children:(0,i.jsxs)("div",{className:"session-code-gOG8uJ",children:[(0,ei.tT)(t),(0,i.jsx)(Q.I,{icon:s.W.DUPLICATE})]})})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:es,children:["Number of users in the session: ",Object.entries(e).length]}),(0,i.jsx)("div",{className:"session-management-table",children:l.role===K.CollabEditingAccess.OWNER?(0,i.jsx)(eh,{users:e,defaultReadOnly:a,playgroundCode:t}):(0,i.jsxs)(q._,{compact:!0,className:ed,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:r("name")}),(0,i.jsx)("th",{children:r("role")})]})}),(0,i.jsx)("tbody",{children:Object.values(e).map((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{className:m()(c.INTERACTIVE,en),children:[(0,i.jsx)("div",{style:{backgroundColor:e.color},className:ec}),(0,i.jsx)("div",{children:e.name})]}),(0,i.jsx)("td",{className:m()(c.INTERACTIVE,er),children:e.role===K.CollabEditingAccess.OWNER?"Admin":e.role.charAt(0).toUpperCase()+e.role.slice(1)})]},e.color))})]})})]})};a(50447);var em=a(5193),eg=a(51851),ey=a(35537),ef=a(2353),eb=a(7496),ex=a(81168),ev=a(38662),eT=a(24564),eA=a(23178);let ew=()=>{let{t:e}=(0,ea.Bd)("sideContent",{keyPrefix:"substVisualizer"});return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{id:"substituter-default-text",className:c.RUNNING_TEXT,children:[e("welcome"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),e("instructions"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),e("evaluationSteps"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(em.c,{}),e("shortcutsTitle"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),e("shortcuts.a"),(0,i.jsx)("br",{}),e("shortcuts.e"),(0,i.jsx)("br",{}),e("shortcuts.f"),(0,i.jsx)("br",{}),e("shortcuts.b"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),e("shortcutsNote")]})})},eS=e=>(0,i.jsx)(eg.Z,{children:(0,i.jsx)(ey.AC,{className:"result-output",children:e.content})});function eC(e){let t=(0,g.useCallback)(()=>(function e(t,a){let s=a.styleWrapper,n=t=>{let a=t.map(t=>e(t,{styleWrapper:s})),n=a.slice(1).reduce((e,t)=>(0,i.jsxs)("span",{children:[e,", ",t]}),a[0]);return(0,i.jsxs)("span",{children:["(",n,")"]})},r={Literal(e){let t;return(0,i.jsx)("span",{className:"stepper-literal",children:e.raw?e.raw:"string"==typeof(t=e.value)?'"'+t+'"':null!==t?t.toString():"null"})},Identifier:e=>(0,i.jsx)("span",{children:e.name}),UnaryExpression:t=>(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"stepper-operator",children:`${t.operator}`}),e(t.argument,{parentNode:t,styleWrapper:s})]}),BinaryExpression:t=>(0,i.jsxs)("span",{children:[e(t.left,{parentNode:t,isRight:!1,styleWrapper:s}),(0,i.jsx)("span",{className:"stepper-operator",children:` ${t.operator} `}),e(t.right,{parentNode:t,isRight:!0,styleWrapper:s})]}),LogicalExpression:t=>(0,i.jsxs)("span",{children:[e(t.left,{parentNode:t,isRight:!1,styleWrapper:s}),(0,i.jsx)("span",{className:"stepper-operator",children:` ${t.operator} `}),e(t.right,{parentNode:t,isRight:!0,styleWrapper:s})]}),ConditionalExpression:t=>(0,i.jsxs)("span",{children:[e(t.test,{styleWrapper:s}),(0,i.jsx)("span",{className:"stepper-operator",children:" ? "}),e(t.consequent,{styleWrapper:s}),(0,i.jsx)("span",{className:"stepper-operator",children:" : "}),e(t.alternate,{styleWrapper:s})]}),ArrayExpression(t){let a=t.elements.filter(e=>null!==e).map(t=>e(t,{styleWrapper:s})),n=a.slice(1).reduce((e,t)=>(0,i.jsxs)("span",{children:[e,", ",t]}),a[0]);return(0,i.jsxs)("span",{children:["[",n,"]"]})},ArrowFunctionExpression(t){var a;let n,r;return t.name?(0,i.jsx)("span",{className:"stepper-mu-term",children:(0,i.jsx)(ex.A,{interactionKind:"hover",placement:"bottom",content:(0,i.jsxs)("div",{children:[(0,i.jsx)(Q.I,{icon:"code"}),(0,i.jsx)("span",{children:" Function definition"}),(0,i.jsx)("pre",{className:c.CODE_BLOCK,children:(0,i.jsx)("code",{children:(0,eA.astToString)(t)})})]}),children:t.name})}):(0,i.jsxs)("span",{children:[(r=(n=t.params.map(t=>e(t,{styleWrapper:s}))).slice(1).reduce((e,t)=>(0,i.jsxs)("span",{children:[e,", ",t]}),n[0]),1!==n.length&&(r=(0,i.jsxs)("span",{children:["(",r,")"]})),r),(0,i.jsx)("span",{className:"stepper-identifier",children:" => "}),e(t.body,{styleWrapper:(a=function(e){return"Identifier"===e.type&&e.name===t.name?function(e){let a=(0,eA.astToString)(t);return(0,i.jsx)("span",{className:"stepper-mu-term",children:(0,i.jsx)(ex.A,{interactionKind:"hover",placement:"bottom",content:(0,i.jsxs)("div",{children:[(0,i.jsx)(Q.I,{icon:"code"}),(0,i.jsx)("span",{children:" Function definition"}),(0,i.jsx)("pre",{className:c.CODE_BLOCK,children:(0,i.jsx)("code",{children:a})})]}),children:e})})}:e=>e},void 0===s&&void 0===a?void 0:void 0===s?a:void 0===a?s:e=>t=>{let i=s(e)(t);return a(e)(i)})})]})},CallExpression(t){let a=e(t.callee,{styleWrapper:s});return"ArrowFunctionExpression"===t.callee.type&&void 0===t.callee.name&&(a=(0,i.jsxs)("span",{children:["(",a,")"]})),(0,i.jsxs)("span",{children:[a,n(t.arguments)]})},Program:t=>(0,i.jsx)("span",{children:t.body.map((t,a)=>(0,i.jsx)("div",{children:e(t,{styleWrapper:s})},a))}),IfStatement:t=>(0,i.jsxs)("span",{children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"stepper-identifier",children:"if "}),"(",(0,i.jsx)("span",{children:e(t.test,{styleWrapper:s})}),") "]}),(0,i.jsx)("span",{children:e(t.consequent,{styleWrapper:s})}),t.alternate&&(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"stepper-identifier",children:" else "}),e(t.alternate,{styleWrapper:s})]})]}),ReturnStatement:t=>(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"stepper-operator",children:"return "}),t.argument&&e(t.argument,{styleWrapper:s}),";"]}),BlockStatement:t=>(0,i.jsxs)("span",{children:["{",t.body.map((t,a)=>(0,i.jsx)("div",{style:{marginLeft:"15px"},children:e(t,{styleWrapper:s})},a)),"}"]}),ExpressionStatement:t=>(0,i.jsxs)("span",{children:[e(t.expression,{styleWrapper:s}),";"]}),FunctionDeclaration:t=>(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"stepper-identifier",children:`function ${t.id.name}`}),(0,i.jsx)("span",{children:n(t.params)}),(0,i.jsxs)("span",{children:[" ",e(t.body,{styleWrapper:s})]})]}),VariableDeclaration:t=>(0,i.jsxs)("span",{children:[(0,i.jsxs)("span",{className:"stepper-identifier",children:[t.kind," "]}),t.declarations.map((t,a)=>(0,i.jsxs)("span",{children:[0!==a&&", ",e(t,{styleWrapper:s})]},a)),";"]}),VariableDeclarator:t=>(0,i.jsxs)("span",{children:[e(t.id,{styleWrapper:s})," = ",t.init?e(t.init,{styleWrapper:s}):"undefined"]})}[t.type],o=function(e,t,a){if(void 0===t)return!1;let i=e_[e.type];if(i===eE)return!0;let s=e_[t.type];return void 0!==i&&void 0!==s&&(i!==s?!a&&15===i&&14===s||i<s:"operator"in e&&"operator"in t&&(13===i||14===i)&&("**"===e.operator&&"**"===t.operator?!a:13===i&&13===s&&("??"===e.operator||"??"===t.operator)||eI[e.operator]<=eI[t.operator]))}(t,a.parentNode,a.isRight),l=r?r(t):`<${t.type}>`;return o&&(l=(0,i.jsxs)("span",{children:["(",l,")"]})),s&&(l=s(t)(l)),l})(e.ast,{styleWrapper:function(t){return a=>{if(void 0===e.markers)return a;let s=(0,i.jsx)("span",{children:a});return e.markers.forEach(e=>{e.redex===t&&(s=(0,i.jsx)("span",{className:e.redexType,children:s}))}),s}}}),[e]);return(0,i.jsx)("div",{className:"stepper-display",children:t()})}let eI={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},eE=17,e_={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:17,ClassExpression:17,FunctionExpression:17,ObjectExpression:17,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1},ej=e=>{let[t,a]=(0,g.useState)(1),s=e.content.length,n=0!==s,r=(0,y.wA)(),o=(0,g.useCallback)(()=>r((0,eu.Qb)("subst_visualiser",e.workspaceLocation)),[e.workspaceLocation,r]);(0,g.useEffect)(()=>{(0,eT.HighlightRulesSelector)(2),(0,eT.ModeSelector)(2)},[]),(0,g.useEffect)(()=>{a(1),e.content.length>0&&o()},[e.content,a,o]);let l=()=>a(1),d=()=>a(s),u=()=>a(Math.max(1,t-1)),h=()=>a(Math.min(e.content.length,t+1)),p=(0,ev.vA)(n?[["a",l],["f",h],["b",u],["e",d]]:[["a",()=>{}],["f",()=>{}],["b",()=>{}],["e",()=>{}]]),f=(0,g.useCallback)(t=>{let a=t<=s?t-1:0,i=e.content[a].markers;return void 0===i||void 0===i[0]?"...":i[0].explanation??"..."},[s,e.content]),b=(0,g.useCallback)(t=>{let a=t<=s?t-1:0;return e.content[a]},[s,e.content]);return(0,i.jsxs)("div",{className:m()("sa-substituter",c.DARK),onKeyDown:p,tabIndex:-1,children:[(0,i.jsx)(ef.A,{disabled:!n,min:1,max:s,onChange:a,value:t<=s?t:1}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsxs)(eb.e,{children:[(0,i.jsx)(C.$,{disabled:!n,icon:"double-chevron-left",onClick:l}),(0,i.jsx)(C.$,{disabled:!n||1===t,icon:"chevron-left",onClick:u}),(0,i.jsx)(C.$,{disabled:!n||t===s,icon:"chevron-right",onClick:h}),(0,i.jsx)(C.$,{disabled:!n,icon:"double-chevron-right",onClick:d})]})})," ",(0,i.jsx)("br",{}),n?(0,i.jsx)(eC,{...b(t)}):(0,i.jsx)(ew,{}),n?(0,i.jsx)(eS,{content:f(t)}):null]})},ek=["mobile_editor","mobile_editor_run"],eN=["introduction"],eP=e=>({label:"Introduction",iconName:s.W.HOME,body:(0,i.jsx)(n.A,{content:e,openLinksInNewWindow:!0}),id:"introduction"}),eR=(e,t,a)=>({label:"Session Management",iconName:s.W.PEOPLE,body:(0,i.jsx)(ep,{users:e,playgroundCode:t,readOnly:a,workspaceLocation:"playground"}),id:"session_management"}),eL=(e,t)=>({label:"Remote Execution",iconName:s.W.SATELLITE,body:(0,i.jsx)($,{workspace:"playground",secretParams:e||void 0,callbackFunction:t}),id:"remote_execution"}),eM=(e,t)=>{let a;return{label:"Stepper",iconName:s.W.FLOW_REVIEW,body:(0,i.jsx)(ej,{workspaceLocation:e,content:(a=t[0])&&"result"===a.type&&a.value instanceof Array&&a.value[0]===Object(a.value[0])&&"ast"in a.value[0]?a.value:[]}),id:"subst_visualiser"}}},18122:function(e,t,a){"use strict";a.d(t,{M:()=>n});var i=a(94894),s=a(32112);class n{route;filters;constructor(e,t){this.route=e,this.filters=t,this.route=e,this.filters=t??[]}check(e,t="/"){return this.filters.push([e,t]),this}build(){return((e,t=[])=>{let a=t.map(([e,t="/"])=>["boolean"==typeof e?()=>e:e,t]);return{...e,loader:t=>{let n=s.M.getState();for(let[e,t]of a)if(!e(n))return(0,i.V2)(t);return e.loader&&"function"==typeof e.loader?e.loader(t):null}}})(this.route,this.filters)}}},38783:function(e,t,a){"use strict";a.d(t,{hK:()=>A,uE:()=>S,zG:()=>w});var i=a(14169),s=a(94894),n=a(15145),r=a(18122);let o=()=>Promise.all([a.e("16663"),a.e("55244"),a.e("62020")]).then(a.bind(a,94447)),l=()=>a.e("66830").then(a.bind(a,26109)),d=()=>a.e("92493").then(a.bind(a,97148)),c=()=>a.e("73712").then(a.bind(a,32211)),u=()=>a.e("99899").then(a.bind(a,25942)),h=()=>a.e("99043").then(a.bind(a,73710)),p=()=>Promise.all([a.e("28270"),a.e("37854"),a.e("32145"),a.e("48540"),a.e("9318"),a.e("37759"),a.e("80829")]).then(a.bind(a,50626)),m=()=>a.e("84362").then(a.bind(a,95633)),g=()=>a.e("50968").then(a.bind(a,98955)),y=()=>a.e("84198").then(a.bind(a,94117)),f=()=>Promise.all([a.e("28270"),a.e("18247"),a.e("48540"),a.e("41391")]).then(a.bind(a,3713)),b=async()=>{let{EditStoryComponent:e}=await a.e("42602").then(a.bind(a,75953));return{Component:e}},x=async()=>{let{ViewStoryComponent:e}=await a.e("42602").then(a.bind(a,75953));return{Component:e}},v=()=>a.e("25210").then(a.bind(a,14017)),T=[{path:"contributors",lazy:()=>a.e("53842").then(a.bind(a,97897))},{path:"callback/github",lazy:()=>a.e("30672").then(a.bind(a,75763))},{path:"sicpjs/:section?",lazy:()=>Promise.all([a.e("28270"),a.e("37854"),a.e("16663"),a.e("32145"),a.e("35436"),a.e("48540"),a.e("9318"),a.e("37759"),a.e("55244"),a.e("32659")]).then(a.bind(a,73950))},{path:"features",lazy:()=>a.e("36417").then(a.bind(a,76120))}],A=[{path:"*",lazy:o,children:[{path:"",loader:()=>(0,s.HC)("/playground")},{path:"playground",lazy:p},...T,{path:"*",lazy:m}]}],w=({name:e,isLoggedIn:t,courseId:a,academyRoutes:i=[]})=>{let A=e=>new r.M(e).check(e=>void 0!==e.session.name,"/login").check(e=>void 0!==e.session.role,"/welcome").build();return[{path:"nus_login",lazy:l,loader:()=>n.A.hasNusAuthProviders?null:(0,s.V2)("/login"),children:[{path:"",lazy:h}]},{path:"*",lazy:o,children:[{path:"",loader:()=>(t?null===a?(0,s.V2)("/welcome"):null:(0,s.V2)("/login"))||(0,s.HC)(`/courses/${a}`)},{path:"login",lazy:l,loader:()=>n.A.hasOtherAuthProviders?null:(0,s.V2)("/nus_login"),children:[{path:"",lazy:d}]},{path:"login",lazy:l,children:[{path:"callback",lazy:c}]},{path:"login",children:[{path:"vscode_callback",lazy:u}]},{path:"welcome",lazy:g,loader:()=>void 0===e?(0,s.V2)("/login"):null!=a?(0,s.V2)(`/courses/${a}`):null},{path:"courses",loader:()=>(0,s.V2)("/")},A({path:"courses/:courseId/*",lazy:y,children:i}),A({path:"playground/:playgroundCode?",lazy:p}),{path:"mission-control/:assessmentId?/:questionId?",lazy:f},A({path:"courses/:courseId/stories/new",lazy:b}),A({path:"courses/:courseId/stories/view/:id",lazy:x}),A({path:"courses/:courseId/stories/edit/:id",lazy:b}),A({path:"courses/:courseId/stories",lazy:v}),...T,{path:"*",lazy:m}]}]},S=i.PU(s.BV)},81611:function(){},53897:function(){},21720:function(){},30956:function(){},56066:function(){},99890:function(){},94048:function(){},78317:function(){},36442:function(){},82535:function(){},57848:function(){},91746:function(){},64184:function(){},61522:function(){},67601:function(){},20619:function(){},15185:function(){},41604:function(){},95353:function(){}},p={};function m(e){var t=p[e];if(void 0!==t)return t.exports;var a=p[e]={id:e,loaded:!1,exports:{}};return h[e].call(a.exports,a,a.exports,m),a.loaded=!0,a.exports}if(m.m=h,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},m.a=(s,n,r)=>{r&&((o=[]).d=-1);var o,l,d,c,u=new Set,h=s.exports,p=new Promise((e,t)=>{c=t,d=e});p[t]=h,p[e]=e=>{o&&e(o),u.forEach(e),p.catch(function(){})},s.exports=p,n(s=>{l=s.map(s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var n=[];n.d=0,s.then(e=>{r[t]=e,i(n)},e=>{r[a]=e,i(n)});var r={};return r[e]=e=>e(n),r}}var o={};return o[e]=function(){},o[t]=s,o});var n,r=()=>l.map(e=>{if(e[a])throw e[a];return e[t]}),d=new Promise(t=>{(n=()=>t(r)).r=0;var a=e=>e!==o&&!u.has(e)&&(u.add(e),e&&!e.d&&(n.r++,e.push(n)));l.map(t=>t[e](a))});return n.r?d:r()},e=>(e?c(p[a]=e):d(h),i(o))),o&&o.d<0&&(o.d=0)},m.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return m.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,m.t=function(e,t){if(1&t&&(e=this(e)),8&t||"object"==typeof e&&e&&(4&t&&e.__esModule||16&t&&"function"==typeof e.then))return e;var a=Object.create(null);m.r(a);var i={};s=s||[null,n({}),n([]),n(n)];for(var r=2&t&&e;"object"==typeof r&&!~s.indexOf(r);r=n(r))Object.getOwnPropertyNames(r).forEach(t=>{i[t]=()=>e[t]});return i.default=()=>e,m.d(a,i),a},m.d=(e,t)=>{for(var a in t)m.o(t,a)&&!m.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},m.f={},m.e=e=>Promise.all(Object.keys(m.f).reduce((t,a)=>(m.f[a](e,t),t),[])),m.u=e=>"static/js/async/"+(({10042:"date-fns-locale-pl-_lib-localize-index-js",1015:"date-fns-locale-da-_lib-localize-index-js",10289:"date-fns-locale-cy-index-js",1034:"date-fns-locale-ht-_lib-formatRelative-index-js",10466:"date-fns-locale-nb-_lib-match-index-js",10677:"date-fns-locale-ru-_lib-formatRelative-index-js",10848:"date-fns-locale-lv-_lib-match-index-js",11059:"date-fns-locale-be-_lib-formatLong-index-js",11165:"date-fns-locale-km-index-js",12117:"date-fns-locale-fy-_lib-formatRelative-index-js",1218:"date-fns-locale-zh-CN-_lib-formatLong-index-js",12297:"date-fns-locale-ar-_lib-match-index-js",12405:"date-fns-locale-sr-Latn-_lib-match-index-js",12535:"date-fns-locale-it-_lib-match-index-js",12928:"date-fns-locale-en-CA-_lib-formatLong-index-js",1315:"date-fns-locale-fi-_lib-formatLong-index-js",13326:"date-fns-locale-hi-_lib-formatDistance-index-js",13431:"date-fns-locale-bg-_lib-localize-index-js",13587:"date-fns-locale-vi-_lib-formatLong-index-js",14013:"date-fns-locale-sr-_lib-localize-index-js",14166:"date-fns-locale-de-_lib-formatDistance-index-js",14841:"date-fns-locale-ro-_lib-formatLong-index-js",14976:"date-fns-locale-zh-TW-_lib-formatRelative-index-js",15271:"date-fns-locale-ar-EG-_lib-formatDistance-index-js",15301:"date-fns-locale-az-_lib-formatLong-index-js",15408:"date-fns-locale-el-_lib-formatDistance-index-js",15412:"date-fns-locale-id-_lib-formatDistance-index-js",15424:"date-fns-locale-ja-_lib-formatDistance-index-js",15535:"date-fns-locale-he-_lib-formatRelative-index-js",159:"date-fns-locale-da-_lib-formatRelative-index-js",15915:"date-fns-locale-te-_lib-localize-index-js",1610:"date-fns-locale-it-index-js",1641:"date-fns-locale-en-NZ-index-js",16931:"date-fns-locale-it-_lib-formatLong-index-js",16933:"date-fns-locale-zh-TW-_lib-formatDistance-index-js",17173:"date-fns-locale-id-_lib-localize-index-js",17402:"date-fns-locale-vi-index-js",17562:"date-fns-locale-mk-_lib-formatRelative-index-js",17626:"date-fns-locale-mk-_lib-localize-index-js",17633:"date-fns-locale-te-_lib-match-index-js",17712:"date-fns-locale-hu-index-js",17744:"date-fns-locale-gu-_lib-formatLong-index-js",17752:"date-fns-locale-uz-index-js",17949:"date-fns-locale-ar-_lib-formatLong-index-js",1797:"date-fns-locale-zh-HK-_lib-formatDistance-index-js",18116:"date-fns-locale-hr-_lib-localize-index-js",18128:"date-fns-locale-kk-_lib-formatRelative-index-js",18562:"date-fns-locale-pt-_lib-localize-index-js",18837:"date-fns-locale-is-index-js",18852:"date-fns-locale-eu-_lib-formatRelative-index-js",18918:"date-fns-locale-ja-index-js",19276:"date-fns-locale-ko-_lib-formatRelative-index-js",19351:"date-fns-locale-sr-Latn-_lib-localize-index-js",19616:"date-fns-locale-ar-TN-_lib-match-index-js",19620:"date-fns-locale-pt-BR-_lib-formatDistance-index-js",19748:"date-fns-locale-nn-_lib-formatLong-index-js",20085:"date-fns-locale-mn-_lib-formatLong-index-js",20145:"date-fns-locale-hu-_lib-formatLong-index-js",20189:"date-fns-locale-af-_lib-match-index-js",20274:"date-fns-locale-pt-_lib-formatRelative-index-js",20487:"date-fns-locale-vi-_lib-match-index-js",20598:"date-fns-locale-lt-_lib-match-index-js",20759:"date-fns-locale-ko-index-js",20908:"date-fns-locale-sr-_lib-formatDistance-index-js",20959:"date-fns-locale-sv-_lib-formatLong-index-js",20990:"date-fns-locale-ko-_lib-formatLong-index-js",21387:"date-fns-locale-mn-_lib-localize-index-js",21914:"date-fns-locale-de-AT-index-js",21946:"date-fns-locale-af-_lib-formatDistance-index-js",22314:"date-fns-locale-es-_lib-formatRelative-index-js",22372:"date-fns-locale-cs-_lib-match-index-js",22442:"date-fns-locale-ht-_lib-localize-index-js",22576:"date-fns-locale-cs-_lib-formatRelative-index-js",2361:"date-fns-locale-hi-_lib-match-index-js",23903:"date-fns-locale-fr-CH-index-js",24254:"date-fns-locale-ar-_lib-formatDistance-index-js",24355:"date-fns-locale-lb-index-js",24500:"date-fns-locale-be-_lib-formatDistance-index-js",24848:"date-fns-locale-sq-_lib-formatLong-index-js",25088:"date-fns-locale-sk-_lib-localize-index-js",25395:"date-fns-locale-id-_lib-formatLong-index-js",25621:"date-fns-locale-lb-_lib-formatDistance-index-js",25722:"date-fns-locale-ar-DZ-_lib-formatLong-index-js",25781:"date-fns-locale-vi-_lib-formatRelative-index-js",26540:"date-fns-locale-ug-_lib-formatLong-index-js",26662:"date-fns-locale-en-ZA-index-js",2689:"date-fns-locale-el-_lib-localize-index-js",27033:"date-fns-locale-nl-_lib-formatDistance-index-js",27659:"date-fns-locale-gu-_lib-formatDistance-index-js",27898:"date-fns-locale-zh-TW-_lib-formatLong-index-js",27942:"date-fns-locale-km-_lib-match-index-js",27968:"date-fns-locale-ar-SA-_lib-formatLong-index-js",28101:"date-fns-locale-it-_lib-formatRelative-index-js",28118:"date-fns-locale-eo-_lib-localize-index-js",28711:"date-fns-locale-gd-_lib-formatRelative-index-js",28770:"date-fns-locale-fr-_lib-localize-index-js",28774:"date-fns-locale-mn-_lib-formatDistance-index-js",28784:"date-fns-locale-uz-Cyrl-_lib-localize-index-js",29026:"date-fns-locale-ka-_lib-match-index-js",29051:"date-fns-locale-sl-_lib-formatRelative-index-js",29526:"date-fns-locale-ja-Hira-_lib-formatRelative-index-js",29687:"date-fns-locale-ug-_lib-formatDistance-index-js",29734:"date-fns-locale-bs-_lib-formatDistance-index-js",3010:"date-fns-locale-cy-_lib-match-index-js",30234:"date-fns-locale-be-index-js",30294:"date-fns-locale-el-index-js",30426:"date-fns-locale-zh-HK-_lib-formatLong-index-js",30430:"date-fns-locale-eo-_lib-formatRelative-index-js",30457:"date-fns-locale-uz-_lib-formatLong-index-js",30719:"date-fns-locale-uz-_lib-localize-index-js",30853:"date-fns-locale-be-tarask-_lib-formatDistance-index-js",30976:"date-fns-locale-he-index-js",31:"date-fns-locale-sr-Latn-_lib-formatRelative-index-js",31067:"date-fns-locale-sr-_lib-formatLong-index-js",31200:"date-fns-locale-pt-_lib-formatLong-index-js",31394:"date-fns-locale-uk-_lib-localize-index-js",31578:"date-fns-locale-pt-_lib-match-index-js",31633:"date-fns-locale-ht-index-js",31840:"date-fns-locale-en-NZ-_lib-formatLong-index-js",31887:"date-fns-locale-fr-CA-_lib-formatLong-index-js",32040:"date-fns-locale-es-_lib-formatLong-index-js",32089:"date-fns-locale-et-_lib-localize-index-js",32098:"date-fns-locale-ca-_lib-formatRelative-index-js",32212:"date-fns-locale-az-index-js",32478:"date-fns-locale-lt-_lib-formatRelative-index-js",32677:"date-fns-locale-pt-BR-_lib-formatRelative-index-js",33058:"date-fns-locale-hu-_lib-formatDistance-index-js",33122:"date-fns-locale-th-_lib-formatRelative-index-js",33285:"date-fns-locale-ar-DZ-_lib-formatDistance-index-js",33498:"date-fns-locale-bn-_lib-match-index-js",33588:"date-fns-locale-lt-_lib-formatLong-index-js",33694:"date-fns-locale-is-_lib-localize-index-js",33745:"date-fns-locale-ja-_lib-localize-index-js",3386:"date-fns-locale-en-AU-_lib-formatLong-index-js",34063:"date-fns-locale-sr-_lib-match-index-js",34146:"date-fns-locale-ms-_lib-localize-index-js",34636:"date-fns-locale-sk-_lib-match-index-js",34928:"date-fns-locale-zh-CN-_lib-localize-index-js",35058:"date-fns-locale-th-_lib-localize-index-js",35296:"date-fns-locale-ta-index-js",35304:"date-fns-locale-nb-_lib-formatLong-index-js",35338:"date-fns-locale-ca-_lib-match-index-js",35356:"date-fns-locale-ja-Hira-_lib-formatLong-index-js",35629:"date-fns-locale-eo-index-js",35707:"date-fns-locale-sl-_lib-localize-index-js",35817:"date-fns-locale-en-CA-index-js",36403:"date-fns-locale-ar-MA-index-js",36591:"date-fns-locale-eo-_lib-formatDistance-index-js",37195:"date-fns-locale-te-_lib-formatRelative-index-js",37273:"date-fns-locale-ko-_lib-formatDistance-index-js",37473:"date-fns-locale-bs-_lib-match-index-js",37677:"date-fns-locale-gd-_lib-match-index-js",37708:"date-fns-locale-nl-BE-_lib-match-index-js",38072:"date-fns-locale-et-_lib-formatDistance-index-js",38229:"date-fns-locale-fa-IR-_lib-localize-index-js",38311:"date-fns-locale-be-_lib-match-index-js",3835:"date-fns-locale-fr-_lib-formatDistance-index-js",38450:"date-fns-locale-sq-_lib-localize-index-js",38715:"date-fns-locale-az-_lib-formatRelative-index-js",39296:"date-fns-locale-be-tarask-_lib-formatRelative-index-js",39676:"date-fns-locale-zh-CN-_lib-match-index-js",3973:"date-fns-locale-sl-_lib-formatLong-index-js",39763:"date-fns-locale-zh-HK-index-js",40089:"date-fns-locale-sq-index-js",40869:"date-fns-locale-ug-index-js",40917:"date-fns-locale-be-_lib-formatRelative-index-js",40939:"date-fns-locale-sq-_lib-formatDistance-index-js",41098:"date-fns-locale-fi-index-js",41640:"date-fns-locale-ht-_lib-formatLong-index-js",41813:"date-fns-locale-hu-_lib-match-index-js",41877:"date-fns-locale-ja-Hira-index-js",41949:"date-fns-locale-ro-_lib-match-index-js",42213:"date-fns-locale-fi-_lib-localize-index-js",42219:"date-fns-locale-sk-index-js",42532:"date-fns-locale-te-index-js",4284:"date-fns-locale-ar-TN-_lib-formatRelative-index-js",42958:"date-fns-locale-nn-_lib-formatRelative-index-js",43168:"date-fns-locale-tr-_lib-localize-index-js",43236:"date-fns-locale-km-_lib-formatLong-index-js",43480:"date-fns-locale-pl-_lib-formatLong-index-js",43512:"date-fns-locale-mk-_lib-formatLong-index-js",43554:"date-fns-locale-bn-_lib-localize-index-js",43751:"date-fns-locale-fa-IR-_lib-match-index-js",43761:"blueprint-icons-all-paths-loader",43858:"date-fns-locale-tr-_lib-formatLong-index-js",44052:"date-fns-locale-fy-_lib-formatDistance-index-js",44339:"date-fns-locale-es-_lib-formatDistance-index-js",44647:"date-fns-locale-he-_lib-localize-index-js",44896:"date-fns-locale-mt-_lib-formatDistance-index-js",44932:"date-fns-locale-it-_lib-formatDistance-index-js",44968:"date-fns-locale-ar-MA-_lib-localize-index-js",45206:"date-fns-locale-eo-_lib-match-index-js",45339:"date-fns-locale-ja-_lib-match-index-js",45531:"date-fns-locale-az-_lib-localize-index-js",45658:"date-fns-locale-id-index-js",45672:"date-fns-locale-zh-TW-_lib-localize-index-js",45933:"date-fns-locale-hi-_lib-formatLong-index-js",45940:"date-fns-locale-oc-_lib-localize-index-js",46034:"date-fns-locale-mk-_lib-match-index-js",46099:"date-fns-locale-nb-_lib-formatDistance-index-js",46208:"date-fns-locale-ar-DZ-_lib-formatRelative-index-js",46410:"date-fns-locale-cy-_lib-localize-index-js",46613:"date-fns-locale-ru-_lib-localize-index-js",47139:"date-fns-locale-hi-_lib-localize-index-js",47193:"date-fns-locale-th-index-js",47803:"date-fns-locale-uk-_lib-formatDistance-index-js",48059:"date-fns-locale-kn-_lib-match-index-js",48388:"date-fns-locale-kk-_lib-match-index-js",4859:"date-fns-locale-de-_lib-localize-index-js",48777:"date-fns-locale-hy-_lib-match-index-js",48991:"date-fns-locale-km-_lib-formatDistance-index-js",49114:"date-fns-locale-uz-_lib-formatDistance-index-js",4919:"date-fns-locale-fi-_lib-match-index-js",49257:"date-fns-locale-bn-index-js",49471:"date-fns-locale-af-_lib-localize-index-js",49589:"date-fns-locale-te-_lib-formatLong-index-js",50190:"date-fns-locale-ug-_lib-localize-index-js",50386:"date-fns-locale-gu-_lib-localize-index-js",50473:"date-fns-locale-uk-index-js",50492:"date-fns-locale-uz-Cyrl-_lib-match-index-js",5058:"date-fns-locale-ht-_lib-match-index-js",50621:"date-fns-locale-hy-_lib-formatLong-index-js",50707:"date-fns-locale-hy-_lib-localize-index-js",50918:"date-fns-locale-fr-CA-index-js",5107:"date-fns-locale-fa-IR-_lib-formatLong-index-js",51106:"date-fns-locale-es-_lib-match-index-js",51209:"date-fns-locale-pt-index-js",51268:"blueprint-icons-split-paths-by-size-loader",5160:"date-fns-locale-nl-BE-_lib-formatRelative-index-js",51633:"date-fns-locale-kn-_lib-localize-index-js",5183:"date-fns-locale-nn-_lib-formatDistance-index-js",51879:"date-fns-locale-is-_lib-formatDistance-index-js",51949:"date-fns-locale-lt-index-js",52009:"date-fns-locale-lv-_lib-formatDistance-index-js",52121:"date-fns-locale-en-IN-_lib-formatLong-index-js",52145:"date-fns-locale-bg-_lib-formatLong-index-js",52251:"date-fns-locale-ms-_lib-formatDistance-index-js",52424:"date-fns-locale-oc-_lib-match-index-js",52552:"date-fns-locale-zh-HK-_lib-localize-index-js",52562:"date-fns-locale-ar-SA-_lib-formatRelative-index-js",52595:"date-fns-locale-zh-TW-index-js",52706:"date-fns-locale-gl-_lib-formatDistance-index-js",52840:"date-fns-locale-ar-DZ-_lib-localize-index-js",53305:"date-fns-locale-ca-index-js",5359:"date-fns-locale-oc-index-js",53641:"date-fns-locale-fr-index-js",53787:"date-fns-locale-en-IE-index-js",54470:"date-fns-locale-te-_lib-formatDistance-index-js",5449:"date-fns-locale-sv-_lib-formatRelative-index-js",54606:"date-fns-locale-lv-_lib-formatLong-index-js",54753:"date-fns-locale-sv-_lib-localize-index-js",54762:"date-fns-locale-sq-_lib-match-index-js",5479:"date-fns-locale-lv-index-js",54858:"date-fns-locale-gu-_lib-match-index-js",5487:"date-fns-locale-kn-_lib-formatLong-index-js",55376:"date-fns-locale-gl-index-js",55435:"date-fns-locale-bs-_lib-localize-index-js",55538:"date-fns-locale-pl-_lib-match-index-js",55580:"date-fns-locale-ar-EG-_lib-formatLong-index-js",55705:"date-fns-locale-af-_lib-formatLong-index-js",56311:"date-fns-locale-pt-BR-_lib-match-index-js",56556:"date-fns-locale-tr-_lib-match-index-js",56630:"date-fns-locale-sv-index-js",56741:"date-fns-locale-fi-_lib-formatRelative-index-js",56856:"date-fns-locale-uz-Cyrl-_lib-formatRelative-index-js",56880:"date-fns-locale-bg-index-js",56895:"date-fns-locale-bg-_lib-formatRelative-index-js",56902:"date-fns-locale-km-_lib-localize-index-js",5699:"date-fns-locale-cs-index-js",57065:"date-fns-locale-el-_lib-formatRelative-index-js",57220:"date-fns-locale-fi-_lib-formatDistance-index-js",57240:"date-fns-locale-ro-index-js",57256:"date-fns-locale-ka-_lib-formatLong-index-js",5730:"date-fns-locale-sr-Latn-_lib-formatDistance-index-js",57517:"date-fns-locale-nl-BE-_lib-formatDistance-index-js",57718:"date-fns-locale-lt-_lib-localize-index-js",58180:"date-fns-locale-fr-CH-_lib-formatRelative-index-js",58184:"date-fns-locale-be-tarask-_lib-localize-index-js",58791:"date-fns-locale-ru-_lib-match-index-js",58828:"date-fns-locale-nl-_lib-formatRelative-index-js",59060:"date-fns-locale-oc-_lib-formatRelative-index-js",59285:"date-fns-locale-ar-EG-index-js",59348:"date-fns-locale-ar-DZ-_lib-match-index-js",59391:"date-fns-locale-gl-_lib-formatRelative-index-js",59515:"date-fns-locale-mt-_lib-match-index-js",60010:"date-fns-locale-ka-_lib-localize-index-js",6028:"date-fns-locale-ar-TN-_lib-localize-index-js",60290:"date-fns-locale-sq-_lib-formatRelative-index-js",60366:"date-fns-locale-et-index-js",60435:"date-fns-locale-hi-_lib-formatRelative-index-js",60728:"date-fns-locale-en-IN-index-js",60733:"date-fns-locale-zh-CN-_lib-formatDistance-index-js",60785:"date-fns-locale-sl-_lib-match-index-js",61002:"date-fns-locale-nb-_lib-localize-index-js",61161:"date-fns-locale-ar-TN-_lib-formatDistance-index-js",61173:"date-fns-locale-fa-IR-_lib-formatRelative-index-js",61402:"date-fns-locale-ro-_lib-formatDistance-index-js",61743:"date-fns-locale-en-ZA-_lib-formatLong-index-js",62125:"date-fns-locale-tr-_lib-formatDistance-index-js",62171:"date-fns-locale-uz-Cyrl-index-js",62553:"date-fns-locale-kn-_lib-formatRelative-index-js",62634:"date-fns-locale-lb-_lib-formatLong-index-js",62862:"date-fns-locale-km-_lib-formatRelative-index-js",62875:"date-fns-locale-bn-_lib-formatDistance-index-js",63028:"date-fns-locale-fa-IR-_lib-formatDistance-index-js",63111:"date-fns-locale-ja-Hira-_lib-formatDistance-index-js",63228:"date-fns-locale-lv-_lib-formatRelative-index-js",63302:"date-fns-locale-kn-index-js",6347:"date-fns-locale-bs-_lib-formatRelative-index-js",63507:"date-fns-locale-ru-_lib-formatLong-index-js",63733:"date-fns-locale-bg-_lib-match-index-js",63792:"date-fns-locale-sv-_lib-formatDistance-index-js",63863:"date-fns-locale-gl-_lib-localize-index-js",64325:"date-fns-locale-ar-MA-_lib-formatDistance-index-js",64389:"date-fns-locale-he-_lib-match-index-js",6447:"date-fns-locale-lt-_lib-formatDistance-index-js",64504:"date-fns-locale-cs-_lib-localize-index-js",64518:"date-fns-locale-mt-index-js",64751:"date-fns-locale-mt-_lib-formatLong-index-js",64792:"date-fns-locale-eu-_lib-match-index-js",64811:"date-fns-locale-nl-BE-index-js",64959:"date-fns-locale-hr-index-js",65004:"date-fns-locale-lv-_lib-localize-index-js",65306:"date-fns-locale-ar-MA-_lib-formatLong-index-js",65520:"date-fns-locale-sr-Latn-index-js",65917:"date-fns-locale-uz-_lib-match-index-js",66255:"date-fns-locale-gd-_lib-localize-index-js",66470:"date-fns-locale-fr-CH-_lib-formatLong-index-js",66677:"date-fns-locale-gl-_lib-match-index-js",66720:"date-fns-locale-uk-_lib-formatLong-index-js",67138:"date-fns-locale-sr-index-js",67147:"date-fns-locale-el-_lib-match-index-js",67185:"date-fns-locale-az-_lib-match-index-js",67258:"date-fns-locale-ms-_lib-match-index-js",6733:"date-fns-locale-sr-_lib-formatRelative-index-js",67422:"date-fns-locale-ar-EG-_lib-localize-index-js",68219:"date-fns-locale-en-CA-_lib-formatDistance-index-js",68247:"date-fns-locale-hu-_lib-localize-index-js",68379:"date-fns-locale-de-_lib-formatRelative-index-js",68392:"date-fns-locale-tr-_lib-formatRelative-index-js",68617:"date-fns-locale-ms-index-js",68634:"date-fns-locale-be-tarask-_lib-formatLong-index-js",68706:"date-fns-locale-ar-SA-_lib-localize-index-js",68709:"date-fns-locale-de-_lib-formatLong-index-js",68996:"date-fns-locale-mn-index-js",69062:"date-fns-locale-eu-_lib-formatLong-index-js",69169:"date-fns-locale-et-_lib-formatRelative-index-js",69372:"date-fns-locale-is-_lib-formatLong-index-js",69524:"date-fns-locale-ar-MA-_lib-match-index-js",69803:"date-fns-locale-tr-index-js",70041:"date-fns-locale-gu-index-js",70752:"date-fns-locale-fr-_lib-formatLong-index-js",71156:"date-fns-locale-sl-index-js",71243:"date-fns-locale-sv-_lib-match-index-js",71274:"date-fns-locale-gd-_lib-formatDistance-index-js",71996:"date-fns-locale-nl-_lib-localize-index-js",7217:"date-fns-locale-es-index-js",7239:"date-fns-locale-ar-TN-index-js",72394:"date-fns-locale-pt-BR-index-js",73010:"date-fns-locale-fr-_lib-formatRelative-index-js",73232:"date-fns-locale-nl-_lib-match-index-js",73578:"date-fns-locale-th-_lib-match-index-js",73810:"date-fns-locale-nl-BE-_lib-formatLong-index-js",73848:"date-fns-locale-hr-_lib-match-index-js",74006:"date-fns-locale-is-_lib-formatRelative-index-js",74080:"date-fns-locale-bn-_lib-formatLong-index-js",74261:"date-fns-locale-kk-_lib-formatDistance-index-js",74376:"date-fns-locale-cy-_lib-formatLong-index-js",74631:"date-fns-locale-fy-_lib-match-index-js",74838:"date-fns-locale-sl-_lib-formatDistance-index-js",75568:"date-fns-locale-da-index-js",75582:"date-fns-locale-nl-_lib-formatLong-index-js",75820:"date-fns-locale-hy-index-js",76420:"date-fns-locale-eu-_lib-localize-index-js",7658:"date-fns-locale-kk-_lib-formatLong-index-js",76862:"date-fns-locale-ja-Hira-_lib-localize-index-js",77135:"date-fns-locale-ta-_lib-formatRelative-index-js",77210:"date-fns-locale-fa-IR-index-js",77506:"date-fns-locale-gu-_lib-formatRelative-index-js",77537:"date-fns-locale-oc-_lib-formatDistance-index-js",77845:"date-fns-locale-be-_lib-localize-index-js",78104:"date-fns-locale-kk-_lib-localize-index-js",7811:"date-fns-locale-hy-_lib-formatRelative-index-js",78327:"date-fns-locale-uz-_lib-formatRelative-index-js",78437:"date-fns-locale-pt-BR-_lib-localize-index-js",78709:"date-fns-locale-cs-_lib-formatDistance-index-js",78945:"date-fns-locale-mn-_lib-match-index-js",79191:"date-fns-locale-et-_lib-formatLong-index-js",79198:"date-fns-locale-hy-_lib-formatDistance-index-js",79279:"date-fns-locale-ja-_lib-formatLong-index-js",79475:"date-fns-locale-ar-_lib-localize-index-js",79536:"date-fns-locale-th-_lib-formatLong-index-js",79637:"date-fns-locale-bs-_lib-formatLong-index-js",79781:"date-fns-locale-it-_lib-localize-index-js",79891:"date-fns-locale-ka-_lib-formatDistance-index-js",80001:"date-fns-locale-pl-index-js",80049:"date-fns-locale-eu-_lib-formatDistance-index-js",80137:"date-fns-locale-ar-SA-index-js",80226:"date-fns-locale-bg-_lib-formatDistance-index-js",80350:"date-fns-locale-is-_lib-match-index-js",80657:"date-fns-locale-de-_lib-match-index-js",81019:"date-fns-locale-pt-_lib-formatDistance-index-js",81431:"date-fns-locale-af-_lib-formatRelative-index-js",81462:"date-fns-locale-az-_lib-formatDistance-index-js",82039:"date-fns-locale-nl-index-js",82217:"date-fns-locale-gd-_lib-formatLong-index-js",82613:"date-fns-locale-de-AT-_lib-localize-index-js",82627:"date-fns-locale-pt-BR-_lib-formatLong-index-js",82746:"date-fns-locale-pl-_lib-formatRelative-index-js",82835:"date-fns-locale-be-tarask-index-js",82841:"date-fns-locale-mt-_lib-formatRelative-index-js",83343:"date-fns-locale-it-CH-_lib-formatLong-index-js",83377:"date-fns-locale-hr-_lib-formatDistance-index-js",83477:"date-fns-locale-id-_lib-formatRelative-index-js",83840:"date-fns-locale-ms-_lib-formatLong-index-js",8426:"date-fns-locale-cs-_lib-formatLong-index-js",84339:"date-fns-locale-cy-_lib-formatDistance-index-js",84427:"date-fns-locale-th-_lib-formatDistance-index-js",8443:"date-fns-locale-ar-SA-_lib-formatDistance-index-js",84588:"date-fns-locale-ar-index-js",84661:"date-fns-locale-da-_lib-match-index-js",84725:"date-fns-locale-vi-_lib-localize-index-js",84801:"date-fns-locale-ta-_lib-formatLong-index-js",85059:"date-fns-locale-ar-_lib-formatRelative-index-js",85146:"date-fns-locale-fy-index-js",85222:"date-fns-locale-it-CH-index-js",8531:"date-fns-locale-ht-_lib-formatDistance-index-js",85329:"date-fns-locale-da-_lib-formatLong-index-js",85348:"date-fns-locale-hr-_lib-formatRelative-index-js",8598:"date-fns-locale-oc-_lib-formatLong-index-js",862:"date-fns-locale-ar-EG-_lib-match-index-js",86342:"date-fns-locale-nn-_lib-match-index-js",86431:"date-fns-locale-el-_lib-formatLong-index-js",87478:"date-fns-locale-en-GB-index-js",87555:"date-fns-locale-kk-index-js",87598:"date-fns-locale-ar-TN-_lib-formatLong-index-js",87896:"date-fns-locale-af-index-js",87985:"date-fns-locale-sr-Latn-_lib-formatLong-index-js",88142:"date-fns-locale-ug-_lib-match-index-js",88177:"date-fns-locale-nb-index-js",88497:"date-fns-locale-mt-_lib-localize-index-js",88746:"date-fns-locale-ka-_lib-formatRelative-index-js",88952:"date-fns-locale-zh-CN-_lib-formatRelative-index-js",88980:"date-fns-locale-de-index-js",89178:"date-fns-locale-ar-SA-_lib-match-index-js",89506:"date-fns-locale-da-_lib-formatDistance-index-js",90047:"date-fns-locale-en-GB-_lib-formatLong-index-js",90484:"date-fns-locale-eo-_lib-formatLong-index-js",90615:"date-fns-locale-ro-_lib-formatRelative-index-js",90859:"date-fns-locale-mn-_lib-formatRelative-index-js",9105:"date-fns-locale-gl-_lib-formatLong-index-js",91155:"date-fns-locale-ar-DZ-index-js",91437:"date-fns-locale-sk-_lib-formatDistance-index-js",91617:"date-fns-locale-he-_lib-formatLong-index-js",9188:"date-fns-locale-bs-index-js",91892:"date-fns-locale-zh-HK-_lib-match-index-js",91922:"date-fns-locale-uk-_lib-formatRelative-index-js",91965:"date-fns-locale-uz-Cyrl-_lib-formatDistance-index-js",92096:"date-fns-locale-ar-MA-_lib-formatRelative-index-js",92145:"date-fns-locale-ka-index-js",92259:"date-fns-locale-pl-_lib-formatDistance-index-js",92328:"date-fns-locale-gd-index-js",92612:"date-fns-locale-lb-_lib-match-index-js",92614:"date-fns-locale-ug-_lib-formatRelative-index-js",92656:"date-fns-locale-ko-_lib-match-index-js",92928:"date-fns-locale-nl-BE-_lib-localize-index-js",93011:"date-fns-locale-en-AU-index-js",93194:"date-fns-locale-cy-_lib-formatRelative-index-js",93234:"date-fns-locale-ca-_lib-localize-index-js",93243:"date-fns-locale-zh-CN-index-js",93274:"date-fns-locale-uk-_lib-match-index-js",9364:"date-fns-locale-vi-_lib-formatDistance-index-js",93786:"date-fns-locale-ru-index-js",93800:"date-fns-locale-sk-_lib-formatRelative-index-js",93894:"date-fns-locale-hr-_lib-formatLong-index-js",94879:"date-fns-locale-eu-index-js",9503:"date-fns-locale-ro-_lib-localize-index-js",95056:"date-fns-locale-ca-_lib-formatLong-index-js",95092:"date-fns-locale-ru-_lib-formatDistance-index-js",95238:"date-fns-locale-nn-_lib-localize-index-js",95282:"date-fns-locale-he-_lib-formatDistance-index-js",95617:"date-fns-locale-mk-index-js",95924:"date-fns-locale-be-tarask-_lib-match-index-js",95957:"date-fns-locale-fy-_lib-localize-index-js",96075:"date-fns-locale-ca-_lib-formatDistance-index-js",96338:"date-fns-locale-sk-_lib-formatLong-index-js",96370:"date-fns-locale-ms-_lib-formatRelative-index-js",96586:"date-fns-locale-es-_lib-localize-index-js",96739:"date-fns-locale-mk-_lib-formatDistance-index-js",9716:"date-fns-locale-zh-TW-_lib-match-index-js",9727:"date-fns-locale-hu-_lib-formatRelative-index-js",97330:"date-fns-locale-ta-_lib-formatDistance-index-js",97661:"date-fns-locale-nn-index-js",9779:"date-fns-locale-fy-_lib-formatLong-index-js",97831:"date-fns-locale-ta-_lib-localize-index-js",97982:"date-fns-locale-ja-Hira-_lib-match-index-js",98038:"date-fns-locale-ar-EG-_lib-formatRelative-index-js",98076:"date-fns-locale-hi-index-js",98309:"date-fns-locale-ta-_lib-match-index-js",98599:"date-fns-locale-id-_lib-match-index-js",98691:"date-fns-locale-et-_lib-match-index-js",98712:"date-fns-locale-lb-_lib-localize-index-js",98752:"date-fns-locale-kn-_lib-formatDistance-index-js",98762:"date-fns-locale-nb-_lib-formatRelative-index-js",988:"date-fns-locale-ko-_lib-localize-index-js",98841:"date-fns-locale-ja-_lib-formatRelative-index-js",98850:"date-fns-locale-uz-Cyrl-_lib-formatLong-index-js",99186:"date-fns-locale-bn-_lib-formatRelative-index-js",99248:"date-fns-locale-lb-_lib-formatRelative-index-js",99840:"date-fns-locale-zh-HK-_lib-formatRelative-index-js",99866:"date-fns-locale-fr-_lib-match-index-js"})[e]||e)+"."+({10042:"e67f0c26",1015:"58053461",10289:"5d6ac3c5",1034:"9a5174f4",10466:"5a47bb42",106:"e59162c3",10677:"02b48476",10848:"09896297",11059:"752d21f0",11165:"17fb1cb1",12061:"e4bf9791",12117:"d71039c8",1218:"819811de",12190:"d62b2b1e",12297:"5949ef74",12405:"0ae4bdee",12535:"9c505220",12928:"9a506b09",13080:"93d81232",1315:"8a08fa6e",13326:"ff21c127",13431:"598e4c13",13587:"fcd9c648",13827:"a3ed5e68",13866:"ec2c62f9",14013:"85b936ae",14166:"f3cb14da",14274:"156e5c3f",14841:"74206635",14976:"47faf3ab",15271:"dce97ab1",15301:"a3b5c0b4",15408:"848d6b35",15412:"7b3877da",15424:"5e278c70",15535:"39083199",159:"1af2aa0e",15915:"bc4a565b",1610:"d5bee935",16385:"c9b02134",1641:"bf977d25",16663:"027b3dc6",16931:"c5cadaf5",16933:"227b4f8a",17173:"e678038a",17402:"e8960c27",17562:"78eb3d68",17626:"0d507d54",17633:"4c7db6fc",17712:"a137a04e",17744:"05c536b7",17752:"ebffb7b7",17949:"75719580",1797:"145a0a5a",18116:"d995974b",18128:"f7f387b4",18247:"49e3a205",18562:"463131f5",18837:"d3bf83c2",18852:"4d0e2c8d",18918:"0c76cec3",1893:"cb764537",19276:"5dc9e42b",19351:"301e53bc",19616:"595024b0",19620:"0babbaf9",19748:"c7adcfef",20085:"bb91f3da",20145:"b41fd7d3",20169:"324a77e7",20189:"18a1e47e",20274:"12ddd29c",20313:"3c18848d",20487:"dc5867fd",20598:"be6a4501",20759:"9b2b4f59",20908:"cb7f1a35",20959:"7fc94009",20990:"88055009",21387:"f048a379",21403:"bbcbabb7",21914:"e5232667",21946:"951ee71e",22293:"c83dd1e4",22314:"4fbde38c",22372:"c8f93790",22402:"d4cee335",22442:"9483fe2a",22576:"e4d53207",2361:"ea698bd1",23903:"c584219f",24254:"6a717bc7",24355:"00814da2",24500:"71191aa0",24525:"38c6fdb8",24848:"f448d5c4",25088:"311cb7bc",25210:"4100d70b",25395:"9dcede19",25621:"6d314ff7",25722:"2c6d3769",25781:"4988a87f",26286:"3ee1d5fa",26540:"8509356f",26662:"20a6c863",2689:"4ab2e781",27033:"77420600",27659:"f83cba72",27898:"763dee8a",27942:"b0bf6c16",27968:"ee1c433f",28101:"ff644e9e",28118:"176637ad",28270:"368a10d3",28539:"f6edfc57",28711:"2eda76d0",28770:"d1bb1e9b",28774:"286ace5c",28784:"c4ca4051",29026:"dc8a7446",29051:"f17b331c",29199:"53bb371f",29526:"096f651f",29687:"5646630b",29734:"b706de3b",3010:"453f2df3",30226:"d34d1046",30234:"2a0c8daf",30294:"3d02c37e",30426:"1c2e32d6",30430:"c55b96ee",30457:"009e1e99",30672:"fcb91513",30719:"3a2fa016",30853:"80db4245",30976:"79515153",31:"685a0ce9",31067:"339b0d11",31200:"c6089672",31394:"b9fc5351",31578:"89c1a28c",31633:"e00c0a64",31840:"a183ef7b",31887:"aaed6ae5",32040:"f58bb6f5",32089:"1d94da2f",32098:"6736143e",32145:"99207a2b",32212:"6d24d69e",32478:"de851cea",32659:"137b4fbe",32677:"36f978ee",33058:"290d880b",33122:"7b495f2c",33285:"674922e3",33498:"2b4432fc",33588:"96aedfa6",33694:"99d377ae",3373:"e2c77af7",33745:"ee2c76ea",3386:"aba56eaf",34063:"47dc00ff",34146:"c92622e7",34636:"da134d3f",34928:"205ddd84",35058:"be04e4fe",35296:"ab13a0b8",3530:"5b0850b8",35304:"607bff9b",35338:"dabbc5ea",35356:"9d70fcef",35436:"b9da7711",35629:"939bada4",35707:"6c81ede7",35817:"2d29b97f",36403:"e6588f32",36417:"c28a7a88",36591:"8a69532d",37195:"4fcff9ba",37259:"91a0353a",37273:"7cc9a1d5",37473:"ca120f32",37677:"e47473fb",37708:"d294d741",37759:"ac158136",37854:"493e5e15",38072:"a4361a09",38229:"8fe1c419",38311:"19257fcb",3835:"8bd255ca",38450:"ad3602ec",38715:"82c157b6",39296:"fedb2946",39523:"d2d6072f",39676:"c7c04c4c",3973:"380ca5ca",39763:"af0c9988",40089:"a781428f",40869:"4cde44d9",40917:"dad0d9fe",40932:"cb8d98e5",40939:"508cdfc9",41098:"5dc92764",41391:"62666905",41640:"e5a38851",41813:"47e7bf5c",41877:"7a1b1b6b",41949:"b9e5ca9a",42213:"66f95d55",42219:"fa0381df",42532:"c7cd1c55",42602:"0033a60d",4284:"30ba4f46",42958:"1f6a54eb",43168:"69927669",43236:"77e29955",43480:"b7b621c9",43512:"b372cc5b",43537:"6c1051ad",43554:"bf2dc421",43751:"12ce45bd",43761:"ffe86bad",43858:"2cbd34c5",44052:"a91529fe",44339:"fae2b561",44647:"8239f898",44896:"93830dae",44932:"638b154e",44968:"b854364c",45206:"07bfa223",45339:"f2a517cd",45531:"ecf337b1",45658:"c611b707",45672:"34053cda",45933:"92500177",45940:"2956bd8e",46034:"67720435",46099:"a69476ee",46208:"459585fc",46410:"452eacca",46613:"3cc92d25",47139:"50649845",47193:"c772acbd",47679:"510d7d48",47803:"165e3fe4",48059:"dff7f22d",48365:"72bac8b3",48388:"e043a42a",48540:"bc78dc76",4859:"8b173011",48777:"640d8be9",48991:"89fd7f0c",49114:"abed24e6",4919:"7076bbd3",49257:"1b430628",49471:"45cf321b",49589:"754b138e",50136:"06b3b134",50190:"cd6472bc",50386:"407599c2",50473:"04c5d4b7",50492:"692c693f",5058:"80643e3f",50621:"5d432f8e",50707:"17030a65",5072:"066b9a60",50918:"dba0f4df",50968:"bd1616df",5107:"8bc0e2b6",51106:"652fb438",51209:"1edfb6ee",51268:"f2777715",5160:"7374fd07",51633:"9fc242d0",51694:"f04b090e",5183:"72b0fc20",51879:"e6a7792c",51949:"39ffd5b9",52009:"4dccc641",52121:"bd4f15ac",52145:"2f429f7c",52251:"c582551a",52424:"3831191d",52552:"0fa24ddc",52562:"c2c58db3",52595:"d793bb6e",52706:"13ae0005",52840:"bfe64ee1",53305:"6f70f77c",53501:"e3c61924",5359:"e1f90b50",53641:"ca4c2d51",53734:"3149adf8",53787:"6172b606",53842:"df91a453",54470:"b1760ce2",54479:"65ebe0cf",5449:"f4789246",54606:"abd24278",54753:"d4be37ac",54762:"b9021a16",5479:"26603eb7",54858:"3e0a4d7b",5487:"c193ddff",55244:"c4f955d9",55376:"935ea86d",55435:"9b66ba3c",55538:"6768a0e4",55580:"f05ea715",55705:"149905ed",56261:"82a620d4",56311:"596ef6be",56525:"3f569c78",56556:"15f49b58",56630:"5bfadf7a",56687:"b956ee4b",56741:"7073d000",56856:"bff563c2",56880:"25d1582a",56895:"33824274",56902:"eb757e89",5699:"4587b2ef",57065:"742f149b",57220:"4692de1f",57240:"cb4144a2",57256:"e82c81a1",5730:"e4fce691",57315:"1a3ab9f4",57517:"3e6508b5",57718:"8f45b321",58180:"48ff3785",58184:"fb9eea0e",58688:"1d989e76",58791:"cb40f214",58828:"5bd60884",59060:"a1cb147c",59285:"665a7d44",59348:"5a60f42e",59391:"2bb9a37e",59515:"b43dde63",60010:"48439600",6028:"72937118",60290:"22d57859",60366:"2f69d4a2",60435:"e5d3b82e",60728:"4840365d",60733:"d15f231d",60785:"c829d345",61002:"738215c8",61161:"58d59f5c",61173:"7b9c4b81",61402:"d9c33ae5",61562:"3277315e",61743:"146c9cb8",62020:"f69c4e45",62125:"26c30b00",62171:"8645c92a",62553:"65422d5a",62634:"c8e47dab",62862:"6e45421f",62875:"a1b6f682",63:"437ae2bd",63028:"586f6aeb",63111:"a7c4142c",63228:"4604ccf8",63302:"3ef64553",6347:"0bc7885e",63507:"4af2e84b",63733:"23f92f87",63792:"2e8ddf9d",63863:"a743fdba",64325:"753d456f",64389:"37866bf1",6447:"f8bdfc63",64504:"8cd4d46a",64518:"9351007a",64751:"2d22fdf4",64792:"a6159ec0",64811:"6ea8d113",64959:"683269a4",65004:"1f406d76",65306:"dd8ea096",65520:"9a92c446",65917:"3f370d0c",66255:"e8ed1902",66470:"66ee0756",66677:"03ba5d2d",66720:"a5288ac0",66830:"1c1d062f",67138:"332c0e05",67147:"383ae9b6",67185:"a9305d7b",67258:"78805af0",6733:"86d3bdce",67422:"4ca6cd52",68219:"78eb03c4",68247:"1116e48b",68379:"ba7cfb92",68392:"563b4d03",68617:"64bef443",68634:"b8f43881",68706:"87b946a6",68709:"4305a0b5",68996:"e3e766e2",69062:"e5a38615",69169:"3e0bad4b",69372:"d530d8d3",69524:"021c9e04",69661:"c855a35c",69803:"5039d02a",70041:"a5bfdd68",70515:"d2594575",70752:"fdbf17eb",71156:"ec8f636d",71243:"2b2acfb2",71274:"08f5466f",71996:"a098d374",7217:"0904ab16",7239:"75943433",72394:"50a07e88",73010:"9b491c76",73232:"63148537",73578:"5b190de7",73712:"345a4ca1",73810:"35fd8697",73848:"c467abba",74006:"9bb67c0b",74080:"2b22b962",74261:"96eec04b",74277:"fa0853fc",74376:"6cd24456",74631:"82be5c9f",74838:"b401a883",74904:"c87a5fe6",75568:"6fc0d492",75582:"020e8309",75820:"c6dbeb19",76420:"80118707",7658:"d7849fb9",76862:"780f0240",77135:"2658e56c",77210:"4c378465",77506:"6b4eb786",77537:"e1979181",77845:"c3c7ab04",78104:"f7d07c88",7811:"5ac652e7",78327:"97d6b431",78437:"1be0ae91",78709:"fe3f404b",78945:"f8e52ac3",79191:"22e4dda7",79198:"409e115f",79279:"dbb9bdce",79475:"74147f97",79536:"ac2be022",79637:"a662875d",79781:"cc29f320",79891:"1ca401be",80001:"0e972f9e",80049:"8ef1214b",80137:"19488ca2",80226:"97c35db6",80350:"67c3eb61",80657:"16937ce9",81019:"d5f47812",81431:"bc4764b6",81462:"764f2e89",82039:"8cee192c",82172:"f883fd48",82217:"6294d8bb",82579:"f97c25e0",82613:"0982245b",82627:"4d89f9bd",82746:"9a7f5f8e",82835:"b3eb1eee",82841:"911932f2",83343:"dea0966d",83377:"189dad84",83477:"46c5a9dd",83840:"ff37134f",84198:"8073cc71",8426:"1fc1579b",84339:"052062d7",84362:"e0c1efb7",84427:"c347bb50",8443:"d15d394a",84588:"ec14b3c6",84661:"a7bcb1fc",84725:"14f7f0fa",84801:"62af5106",84922:"2681ad49",85059:"1888e43b",85146:"6dee4d13",85222:"95744b5c",8531:"97375d95",85329:"c17a1019",85348:"fe8aa4e7",85480:"d483d264",85647:"f11cec67",8598:"96569cbe",862:"8928c3ab",86219:"18255701",86342:"101ab58b",86431:"77aeaee0",87055:"f059a8fa",87478:"c768df66",87555:"5bab70de",87598:"6581e380",87896:"79c31e06",87985:"25afd80f",88142:"f57702e4",88177:"82f13aa9",88497:"63948fd0",88746:"f926c0b8",88952:"cae88b1f",88980:"918941ad",89178:"00a7d2dd",89506:"5e3d3da5",90047:"ff44c62b",90484:"2f418510",90615:"a7a1b933",90859:"08672b6f",9105:"c84abdcf",91155:"8fe85231",91437:"08f74a73",91617:"4dd1f339",9188:"f343f399",91892:"bca2068f",91922:"d33eb188",91965:"cb1a71ae",92096:"b67e972e",92136:"ae13a9d9",92145:"d287ec40",92259:"8a6051eb",92311:"a544827e",92328:"c720b920",92493:"ceca549f",92612:"cd710a01",92614:"89622f26",92656:"cba2f721",92928:"93c487dc",93011:"3e6bd451",9318:"666c3f39",93194:"5632c165",93234:"df3bc10f",93243:"234db49c",93274:"f9f61a5c",9364:"b6e7367e",93786:"9f74ecb9",93800:"b6ee1b9f",93894:"052beab4",94879:"8bfa9f4f",9503:"b493cf9a",95056:"0044e9c9",95092:"4c74818a",95238:"2c721ea7",95282:"9fed5faf",95617:"43aec6cc",95924:"7c2ce001",95934:"561276cc",95957:"7875e4ee",96075:"3bcba6e3",96338:"87214e56",96370:"87db83c1",96586:"0925001e",96739:"e4ef6976",9716:"6a8057d9",9727:"6ff39d0c",97330:"fbae426c",97661:"ab9a6668",9779:"deecc00b",97831:"85d64abd",97982:"822ab0f8",98038:"25fe9ac2",98076:"2d8ca4cb",98309:"2e024a40",98599:"6c73191c",98691:"fb69c51e",98712:"320ca358",98752:"b07ab9fd",98762:"d9088ec9",988:"4348e659",98841:"17b96632",98850:"8d166000",99043:"23e90a32",99186:"bf3b0dc9",99248:"4eb32e98",99840:"c22f0692",99866:"226d6f63",99899:"50720fc2"})[e]+".js",m.miniCssF=e=>"static/css/async/"+e+"."+({106:"8099a915",20313:"6d49f5d6",25210:"547c1eec",26286:"9a15f3b1",32659:"8e305447",3530:"9b712735",35436:"e5a4c437",40932:"ec77e302",41391:"fddf3a84",50968:"01facecb",53842:"7160fe70",62020:"90d13433",63:"f8d36b76",69661:"c42c340a",73712:"f894920a",80829:"8479b52e",82661:"dc5b5376",84198:"841801b3",84922:"f4138048",85647:"2bed0b75",92136:"2723942c",92493:"9e4f1b93",99043:"808bdbc0",99899:"109b6a00"})[e]+".css",m.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="frontend:",m.l=function(e,t,a,i){if(r[e])return void r[e].push(t);if(void 0!==a)for(var s,n,l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==o+a){s=c;break}}s||(n=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,m.nc&&s.setAttribute("nonce",m.nc),s.setAttribute("data-webpack",o+a),s.src=e),r[e]=[t];var u=function(t,a){s.onerror=s.onload=null,clearTimeout(h);var i=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(function(e){return e(a)}),t)return t(a)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),n&&document.head.appendChild(s)},m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),m.nc=void 0,l=[],m.O=(e,t,a,i)=>{if(t){i=i||0;for(var s=l.length;s>0&&l[s-1][2]>i;s--)l[s]=l[s-1];l[s]=[t,a,i];return}for(var n=1/0,s=0;s<l.length;s++){for(var[t,a,i]=l[s],r=!0,o=0;o<t.length;o++)(!1&i||n>=i)&&Object.keys(m.O).every(e=>m.O[e](t[o]))?t.splice(o--,1):(r=!1,i<n&&(n=i));if(r){l.splice(s--,1);var d=a();void 0!==d&&(e=d)}}return e},m.p="/",m.v=function(e,t,a,i){var s=fetch(m.p+"static/wasm/"+a.slice(0,8)+".module.wasm"),n=function(){return s.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,i)}).then(function(t){return Object.assign(e,t.instance.exports)})};return s.then(function(t){return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,i).then(function(t){return Object.assign(e,t.instance.exports)},function(e){if("application/wasm"!==t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),n();throw e}):n()})},"undefined"!=typeof document){var g=function(e,t,a,i,s){var n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",m.nc&&(n.nonce=m.nc),n.onerror=n.onload=function(a){if(n.onerror=n.onload=null,"load"===a.type)i();else{var r=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.href||t,l=Error("Loading CSS chunk "+e+" failed.\\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,n.parentNode&&n.parentNode.removeChild(n),s(l)}},n.href=t,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},y=function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],n=s.getAttribute("data-href")||s.getAttribute("href");if(n&&(n=n.split("?")[0]),"stylesheet"===s.rel&&(n===e||n===t))return s}for(var r=document.getElementsByTagName("style"),i=0;i<r.length;i++){var s=r[i],n=s.getAttribute("data-href");if(n===e||n===t)return s}},f={48410:0};m.f.miniCss=function(e,t){if(f[e])t.push(f[e]);else 0!==f[e]&&({106:1,40932:1,63:1,82661:1,62020:1,92493:1,73712:1,99899:1,99043:1,53842:1,35436:1,32659:1,80829:1,50968:1,84198:1,41391:1,26286:1,25210:1,20313:1,3530:1,92136:1,69661:1,84922:1,85647:1})[e]&&t.push(f[e]=new Promise(function(t,a){var i=m.miniCssF(e),s=m.p+i;if(y(i,s))return t();g(e,s,null,t,a)}).then(function(){f[e]=0},function(t){throw delete f[e],t}))}}d={48410:0},m.f.j=function(e,t){var a=m.o(d,e)?d[e]:void 0;if(0!==a)if(a)t.push(a[2]);else if(/^8(0829|2661)$/.test(e))d[e]=0;else{var i=new Promise((t,i)=>a=d[e]=[t,i]);t.push(a[2]=i);var s=m.p+m.u(e),n=Error();m.l(s,function(t){if(m.o(d,e)&&(0!==(a=d[e])&&(d[e]=void 0),a)){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;n.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,a[1](n)}},"chunk-"+e,e)}},m.O.j=e=>0===d[e],c=(e,t)=>{var a,i,[s,n,r]=t,o=0;if(s.some(e=>0!==d[e])){for(a in n)m.o(n,a)&&(m.m[a]=n[a]);if(r)var l=r(m)}for(e&&e(t);o<s.length;o++)i=s[o],m.o(d,i)&&d[i]&&d[i][0](),d[i]=0;return m.O(l)},(u=globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).forEach(c.bind(null,0)),u.push=c.bind(null,u.push.bind(u));var b=m.O(void 0,["59783","79535","87496"],function(){return m(47932)});b=m.O(b)})();
//# sourceMappingURL=index.cf437dd1.js.map